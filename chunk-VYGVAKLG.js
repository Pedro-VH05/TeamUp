var nk=Object.defineProperty,rk=Object.defineProperties;var ik=Object.getOwnPropertyDescriptors;var Vu=Object.getOwnPropertySymbols,ok=Object.getPrototypeOf,jD=Object.prototype.hasOwnProperty,BD=Object.prototype.propertyIsEnumerable,sk=Reflect.get;var UD=(t,e,n)=>e in t?nk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})jD.call(e,n)&&UD(t,n,e[n]);if(Vu)for(var n of Vu(e))BD.call(e,n)&&UD(t,n,e[n]);return t},te=(t,e)=>rk(t,ik(e));var $G=(t,e)=>{var n={};for(var r in t)jD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Vu)for(var r of Vu(t))e.indexOf(r)<0&&BD.call(t,r)&&(n[r]=t[r]);return n};var Fr=(t,e,n)=>sk(ok(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function Q(t){return typeof t=="function"}function Ao(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Uu=Ao(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ti(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof Uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$D(o)}catch(s){e=e??[],s instanceof Uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Uu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$D(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ti(n,e)}remove(e){let{_finalizers:n}=this;n&&Ti(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Fp=Fe.EMPTY;function ju(t){return t instanceof Fe||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function $D(t){Q(t)?t():t.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ro={setTimeout(t,e,...n){let{delegate:r}=Ro;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ro;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bu(t){Ro.setTimeout(()=>{let{onUnhandledError:e}=an;if(e)e(t);else throw t})}function Ca(){}var HD=Lp("C",void 0,void 0);function qD(t){return Lp("E",void 0,t)}function zD(t){return Lp("N",t,void 0)}function Lp(t,e,n){return{kind:t,value:e,error:n}}var bi=null;function Mo(t){if(an.useDeprecatedSynchronousErrorHandling){let e=!bi;if(e&&(bi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=bi;if(bi=null,n)throw r}}else t()}function GD(t){an.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=t)}var Ci=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ju(e)&&e.add(this)):this.destination=uk}static create(e,n,r){return new Lr(e,n,r)}next(e){this.isStopped?Up(zD(e),this):this._next(e)}error(e){this.isStopped?Up(qD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Up(HD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ak=Function.prototype.bind;function Vp(t,e){return ak.call(t,e)}var jp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$u(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$u(r)}else $u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$u(n)}}},Lr=class extends Ci{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vp(e.next,o),error:e.error&&Vp(e.error,o),complete:e.complete&&Vp(e.complete,o)}):i=e}this.destination=new jp(i)}};function $u(t){an.useDeprecatedSynchronousErrorHandling?GD(t):Bu(t)}function ck(t){throw t}function Up(t,e){let{onStoppedNotification:n}=an;n&&Ro.setTimeout(()=>n(t,e))}var uk={closed:!0,next:Ca,error:ck,complete:Ca};var No=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(t){return t}function Hu(...t){return Bp(t)}function Bp(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=dk(n)?n:new Lr(n,r,i);return Mo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=WD(r),new r((i,o)=>{let s=new Lr({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[No](){return this}pipe(...n){return Bp(n)(this)}toPromise(n){return n=WD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function WD(t){var e;return(e=t??an.Promise)!==null&&e!==void 0?e:Promise}function lk(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function dk(t){return t&&t instanceof Ci||lk(t)&&ju(t)}var KD=Ao(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new KD}next(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fp:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,Ti(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new qu(e,n),t})(),qu=class extends et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Fp}};var Qe=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var cn=Ao(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hk(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Lr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new cn)}});t.subscribe(o)})}function $p(t){return Q(t?.lift)}function he(t){return e=>{if($p(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Hp(t,e,n,r,i)}var Hp=class extends Ci{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oe(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}function Po(){return he((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xo=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$p(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Po()(this)}};var qp={now(){return(qp.delegate||Date).now()},delegate:void 0};var zu=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Sa={setInterval(t,e,...n){let{delegate:r}=Sa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Sa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ko=class extends zu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Sa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Oo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Oo.now=qp.now;var Fo=class extends Oo{constructor(e,n=Oo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zp=new Fo(ko);var Gu=class extends ko{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Wu=class extends Fo{};var Gp=new Wu(Gu);var Nt=new ce(t=>t.complete());function QD(t){return t&&Q(t.schedule)}function YD(t){return t[t.length-1]}function Ku(t){return Q(YD(t))?t.pop():void 0}function Vr(t){return QD(YD(t))?t.pop():void 0}function Wp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function ZD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(t){return this instanceof Si?(this.v=t,this):new Si(t)}function XD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(E){return Promise.resolve(E).then(y,p)}}function a(y,E){r[y]&&(i[y]=function(R){return new Promise(function(M,O){o.push([y,R,M,O])>1||u(y,R)})},E&&(i[y]=E(i[y])))}function u(y,E){try{l(r[y](E))}catch(R){g(o[0][3],R)}}function l(y){y.value instanceof Si?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,E){y(E),o.shift(),o.length&&u(o[0][0],o[0][1])}}function eT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZD=="function"?ZD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Qu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Yu(t){return Q(t?.then)}function Zu(t){return Q(t[No])}function Ju(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function Xu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var el=fk();function tl(t){return Q(t?.[el])}function nl(t){return XD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Si(n.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{n.releaseLock()}})}function rl(t){return Q(t?.getReader)}function $e(t){if(t instanceof ce)return t;if(t!=null){if(Zu(t))return pk(t);if(Qu(t))return gk(t);if(Yu(t))return mk(t);if(Ju(t))return tT(t);if(tl(t))return yk(t);if(rl(t))return vk(t)}throw Xu(t)}function pk(t){return new ce(e=>{let n=t[No]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gk(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function mk(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bu)})}function yk(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tT(t){return new ce(e=>{_k(t,e).catch(n=>e.error(n))})}function vk(t){return tT(nl(t))}function _k(t,e){var n,r,i,o;return JD(this,void 0,void 0,function*(){try{for(n=eT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ur(t,e=0){return he((n,r)=>{n.subscribe(ue(r,i=>Pt(r,t,()=>r.next(i),e),()=>Pt(r,t,()=>r.complete(),e),i=>Pt(r,t,()=>r.error(i),e)))})}function jr(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nT(t,e){return $e(t).pipe(jr(e),Ur(e))}function rT(t,e){return $e(t).pipe(jr(e),Ur(e))}function iT(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function oT(t,e){return new ce(n=>{let r;return Pt(n,e,()=>{r=t[el](),Pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function il(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{Pt(n,e,()=>{let r=t[Symbol.asyncIterator]();Pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function sT(t,e){return il(nl(t),e)}function aT(t,e){if(t!=null){if(Zu(t))return nT(t,e);if(Qu(t))return iT(t,e);if(Yu(t))return rT(t,e);if(Ju(t))return il(t,e);if(tl(t))return oT(t,e);if(rl(t))return sT(t,e)}throw Xu(t)}function Me(t,e){return e?aT(t,e):$e(t)}function W(...t){let e=Vr(t);return Me(t,e)}function Lo(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Kp(t){return!!t&&(t instanceof ce||Q(t.lift)&&Q(t.subscribe))}var{isArray:wk}=Array;function Ik(t,e){return wk(e)?t(...e):t(e)}function ol(t){return oe(e=>Ik(t,e))}var{isArray:Ek}=Array,{getPrototypeOf:Dk,prototype:Tk,keys:bk}=Object;function sl(t){if(t.length===1){let e=t[0];if(Ek(e))return{args:e,keys:null};if(Ck(e)){let n=bk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ck(t){return t&&typeof t=="object"&&Dk(t)===Tk}function al(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Aa(...t){let e=Vr(t),n=Ku(t),{args:r,keys:i}=sl(t);if(r.length===0)return Me([],e);let o=new ce(Sk(r,e,i?s=>al(i,s):Dt));return n?o.pipe(ol(n)):o}function Sk(t,e,n=Dt){return r=>{cT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)cT(e,()=>{let l=Me(t[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cT(t,e,n){t?Pt(n,t,e):e()}function uT(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?E(R):u.push(R),E=R=>{o&&e.next(R),l++;let M=!1;$e(n(R,h++)).subscribe(ue(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let O=u.shift();s?Pt(e,s,()=>E(O)):E(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(ue(e,y,()=>{p=!0,g()})),()=>{a?.()}}function He(t,e,n=1/0){return Q(e)?He((r,i)=>oe((o,s)=>e(r,o,i,s))($e(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>uT(r,i,t,n)))}function Vo(t=1/0){return He(Dt,t)}function lT(){return Vo(1)}function Uo(...t){return lT()(Me(t,Vr(t)))}function cl(t){return new ce(e=>{$e(t()).subscribe(e)})}function Qp(...t){let e=Ku(t),{args:n,keys:r}=sl(t),i=new ce(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;$e(n[h]).subscribe(ue(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?al(r,a):a),o.complete())}))}});return e?i.pipe(ol(e)):i}function Ut(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Br(t){return he((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=$e(t(s,Br(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function dT(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ai(t,e){return Q(e)?He(t,e,1):He(t,1)}function $r(t){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xn(t){return t<=0?()=>Nt:he((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ul(t,e=Dt){return t=t??Ak,he((n,r)=>{let i,o=!0;n.subscribe(ue(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Ak(t,e){return t===e}function ll(t=Rk){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Rk(){return new cn}function Ra(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function er(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):Dt,Xn(1),n?$r(e):ll(()=>new cn))}function jo(t){return t<=0?()=>Nt:he((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):Dt,jo(1),n?$r(e):ll(()=>new cn))}function dl(t,e){return he(dT(t,e,arguments.length>=2,!0))}function hl(...t){let e=Vr(t);return he((n,r)=>{(e?Uo(t,n,e):Uo(t,n)).subscribe(r)})}function Wt(t,e){return he((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;$e(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zp(t){return he((e,n)=>{$e(t).subscribe(ue(n,()=>n.complete(),Ca)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Dt}function tg(t,e){return Object.is(t,e)}var Ye=null,fl=!1,ng=1,Kt=Symbol("SIGNAL");function re(t){let e=Ye;return Ye=t,e}function rg(){return Ye}var Na={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pa(t){if(fl)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(t);let e=Ye.nextProducerIndex++;if(yl(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==t&&Ma(Ye)){let n=Ye.producerNode[e];ml(n,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==t&&(Ye.producerNode[e]=t,Ye.producerIndexOfThis[e]=Ma(Ye)?fT(t,Ye,e):0),Ye.producerLastReadVersion[e]=t.version}function hT(){ng++}function ig(t){if(!(Ma(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ng)){if(!t.producerMustRecompute(t)&&!cg(t)){eg(t);return}t.producerRecomputeValue(t),eg(t)}}function og(t){if(t.liveConsumerNode===void 0)return;let e=fl;fl=!0;try{for(let n of t.liveConsumerNode)n.dirty||Mk(n)}finally{fl=e}}function sg(){return Ye?.consumerAllowSignalWrites!==!1}function Mk(t){t.dirty=!0,og(t),t.consumerMarkedDirty?.(t)}function eg(t){t.dirty=!1,t.lastCleanEpoch=ng}function gl(t){return t&&(t.nextProducerIndex=0),re(t)}function ag(t,e){if(re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ma(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ml(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cg(t){yl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ig(n),r!==n.version))return!0}return!1}function ug(t){if(yl(t),Ma(t))for(let e=0;e<t.producerNode.length;e++)ml(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fT(t,e,n){if(pT(t),t.liveConsumerNode.length===0&&gT(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=fT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ml(t,e){if(pT(t),t.liveConsumerNode.length===1&&gT(t))for(let r=0;r<t.producerNode.length;r++)ml(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];yl(i),i.producerIndexOfThis[r]=e}}function Ma(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gT(t){return t.producerNode!==void 0}function lg(t,e){let n=Object.create(Nk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(ig(n),Pa(n),n.value===pl)throw n.error;return n.value};return r[Kt]=n,r}var Jp=Symbol("UNSET"),Xp=Symbol("COMPUTING"),pl=Symbol("ERRORED"),Nk=te(k({},Na),{value:Jp,dirty:!0,error:null,equal:tg,kind:"computed",producerMustRecompute(t){return t.value===Jp||t.value===Xp},producerRecomputeValue(t){if(t.value===Xp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Xp;let n=gl(t),r,i=!1;try{r=t.computation(),re(null),i=e!==Jp&&e!==pl&&r!==pl&&t.equal(e,r)}catch(o){r=pl,t.error=o}finally{ag(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Pk(){throw new Error}var mT=Pk;function yT(t){mT(t)}function dg(t){mT=t}var xk=null;function hg(t,e){let n=Object.create(vl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Pa(n),n.value);return r[Kt]=n,r}function xa(t,e){sg()||yT(t),t.equal(t.value,e)||(t.value=e,kk(t))}function fg(t,e){sg()||yT(t),xa(t,e(t.value))}var vl=te(k({},Na),{equal:tg,value:void 0,kind:"signal"});function kk(t){t.version++,hT(),og(t),xk?.()}function pg(t){let e=re(null);try{return t()}finally{re(e)}}var gg;function ka(){return gg}function tr(t){let e=gg;return gg=t,e}var _l=Symbol("NotFound");var ob="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,n){super(bm(e,n)),this.code=e}};function bm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var sb=Symbol("InputSignalNode#UNSET"),Vk=te(k({},vl),{transformFn:void 0,applyValueToInputSignal(t,e){xa(t,e)}});function ab(t,e){let n=Object.create(Vk);n.value=t,n.transformFn=e?.transform;function r(){if(Pa(n),n.value===sb){let i=null;throw new B(-950,i)}return n.value}return r[Kt]=n,r}function Ka(t){return{toString:t}.toString()}var wl="__parameters__";function Uk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function cb(t,e,n){return Ka(()=>{let r=Uk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(wl)?u[wl]:Object.defineProperty(u,wl,{value:[]})[wl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Fa=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function jk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(kt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function vT(t,e){return t?e?`${t} ${e}`:t:e||""}var Bk=be({__forward_ref__:be});function Zt(t){return t.__forward_ref__=Zt,t.toString=function(){return kt(this())},t}function Tt(t){return ub(t)?t():t}function ub(t){return typeof t=="function"&&t.hasOwnProperty(Bk)&&t.__forward_ref__===Zt}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function or(t){return{providers:t.providers||[],imports:t.imports||[]}}function ed(t){return _T(t,db)||_T(t,hb)}function lb(t){return ed(t)!==null}function _T(t,e){return t.hasOwnProperty(e)?t[e]:null}function $k(t){let e=t&&(t[db]||t[hb]);return e||null}function wT(t){return t&&(t.hasOwnProperty(IT)||t.hasOwnProperty(Hk))?t[IT]:null}var db=be({\u0275prov:be}),IT=be({\u0275inj:be}),hb=be({ngInjectableDef:be}),Hk=be({ngInjectorDef:be}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fb(t){return t&&!!t.\u0275providers}var qk=be({\u0275cmp:be}),zk=be({\u0275dir:be}),Gk=be({\u0275pipe:be}),Wk=be({\u0275mod:be}),Sl=be({\u0275fac:be}),Ua=be({__NG_ELEMENT_ID__:be}),ET=be({__NG_ENV_ID__:be});function Wo(t){return typeof t=="string"?t:t==null?"":String(t)}function Kk(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Wo(t)}function pb(t,e){throw new B(-200,t)}function Cm(t,e){throw new B(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),Ng;function gb(){return Ng}function xt(t){let e=Ng;return Ng=t,e}function mb(t,e,n){let r=ed(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;Cm(t,"Injector")}var Qk={},Mi=Qk,Pg="__NG_DI_FLAG__",Al=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?_l:Mi,r)}},Rl="ngTempTokenPath",Yk="ngTokenPath",Zk=/\n/gm,Jk="\u0275",DT="__source";function Xk(t,e=se.Default){if(ka()===void 0)throw new B(-203,!1);if(ka()===null)return mb(t,void 0,e);{let n=ka(),r;return n instanceof Al?r=n.injector:r=n,r.get(t,e&se.Optional?null:void 0,e)}}function Z(t,e=se.Default){return(gb()||Xk)(Tt(t),e)}function P(t,e=se.Default){return Z(t,td(e))}function td(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xg(t){let e=[];for(let n=0;n<t.length;n++){let r=Tt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=eO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function yb(t,e){return t[Pg]=e,t.prototype[Pg]=e,t}function eO(t){return t[Pg]}function tO(t,e,n,r){let i=t[Rl];throw e[DT]&&i.unshift(e[DT]),t.message=nO(`
`+t.message,i,n,r),t[Yk]=i,t[Rl]=null,t}function nO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Jk?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Zk,`
  `)}`}var Xe=yb(cb("Optional"),8);var rO=yb(cb("SkipSelf"),4);function Pi(t,e){let n=t.hasOwnProperty(Sl);return n?t[Sl]:null}function Sm(t,e){t.forEach(n=>Array.isArray(n)?Sm(n,e):e(n))}function vb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ml(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function iO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function oO(t,e,n){let r=Qa(t,e);return r>=0?t[r|1]=n:(r=~r,iO(t,r,e,n)),r}function mg(t,e){let n=Qa(t,e);if(n>=0)return t[n|1]}function Qa(t,e){return sO(t,e,1)}function sO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var xi={},Qt=[],Ko=new j(""),_b=new j("",-1),wb=new j(""),Nl=class{get(e,n=Mi){if(n===Mi){let r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Ib(t,e){let n=t[Wk]||null;if(!n&&e===!0)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function ki(t){return t[qk]||null}function aO(t){return t[zk]||null}function cO(t){return t[Gk]||null}function fn(t){return{\u0275providers:t}}function uO(...t){return{\u0275providers:Eb(!0,t),\u0275fromNgModule:!0}}function Eb(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Sm(e,s=>{let a=s;kg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Db(i,o),n}function Db(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Am(i,o=>{e(o,r)})}}function kg(t,e,n,r){if(t=Tt(t),!t)return!1;let i=null,o=wT(t),s=!o&&ki(t);if(!o&&!s){let u=t.ngModule;if(o=wT(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)kg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Sm(o.imports,h=>{kg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Db(l,e)}if(!a){let l=Pi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:wb,useValue:i,multi:!0},i),e({provide:Ko,useValue:()=>Z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Am(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Am(t,e){for(let n of t)fb(n)&&(n=n.\u0275providers),Array.isArray(n)?Am(n,e):e(n)}var lO=be({provide:String,useValue:be});function Tb(t){return t!==null&&typeof t=="object"&&lO in t}function dO(t){return!!(t&&t.useExisting)}function hO(t){return!!(t&&t.useFactory)}function Qo(t){return typeof t=="function"}function fO(t){return!!t.useClass}var nd=new j(""),El={},TT={},yg;function Rm(){return yg===void 0&&(yg=new Nl),yg}var Ct=class{},ja=class extends Ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Fg(e,s=>this.processProvider(s)),this.records.set(_b,Bo(void 0,this)),i.has("environment")&&this.records.set(Ct,Bo(void 0,this));let o=this.records.get(nd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wb,Qt,se.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?_l:Mi,r)}destroy(){La(this),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return La(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){La(this);let n=tr(this),r=xt(void 0),i;try{return e()}finally{tr(n),xt(r)}}get(e,n=Mi,r=se.Default){if(La(this),e.hasOwnProperty(ET))return e[ET](this);r=td(r);let i,o=tr(this),s=xt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=vO(e)&&ed(e);l&&this.injectableDefInScope(l)?u=Bo(Og(e),El):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?Rm():this.parent;return n=r&se.Optional&&n===Mi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Rl]=a[Rl]||[]).unshift(kt(e)),o)throw a;return tO(a,e,"R3InjectorError",this.source)}else throw a}finally{xt(s),tr(o)}}resolveInjectorInitializers(){let e=re(null),n=tr(this),r=xt(void 0),i;try{let o=this.get(Ko,Qt,se.Self);for(let s of o)s()}finally{tr(n),xt(r),re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Tt(e);let n=Qo(e)?e:Tt(e&&e.provide),r=gO(e);if(!Qo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Bo(void 0,El,!0),i.factory=()=>xg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=re(null);try{return n.value===TT?pb(kt(e)):n.value===El&&(n.value=TT,n.value=n.factory()),typeof n.value=="object"&&n.value&&yO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Tt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Og(t){let e=ed(t),n=e!==null?e.factory:Pi(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return pO(t);throw new B(204,!1)}function pO(t){if(t.length>0)throw new B(204,!1);let n=$k(t);return n!==null?()=>n.factory(t):()=>new t}function gO(t){if(Tb(t))return Bo(void 0,t.useValue);{let e=bb(t);return Bo(e,El)}}function bb(t,e,n){let r;if(Qo(t)){let i=Tt(t);return Pi(i)||Og(i)}else if(Tb(t))r=()=>Tt(t.useValue);else if(hO(t))r=()=>t.useFactory(...xg(t.deps||[]));else if(dO(t))r=()=>Z(Tt(t.useExisting));else{let i=Tt(t&&(t.useClass||t.provide));if(mO(t))r=()=>new i(...xg(t.deps));else return Pi(i)||Og(i)}return r}function La(t){if(t.destroyed)throw new B(205,!1)}function Bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mO(t){return!!t.deps}function yO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vO(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Fg(t,e){for(let n of t)Array.isArray(n)?Fg(n,e):n&&fb(n)?Fg(n.\u0275providers,e):e(n)}function mt(t,e){let n;t instanceof ja?(La(t),n=t):n=new Al(t);let r,i=tr(n),o=xt(void 0);try{return e()}finally{tr(i),xt(o)}}function Cb(){return gb()!==void 0||ka()!=null}function Mm(t){if(!Cb())throw new B(-203,!1)}function _O(t){return typeof t=="function"}var sr=0,le=1,Y=2,St=3,ln=4,pn=5,Ba=6,Pl=7,Je=8,Yo=9,nr=10,qe=11,$a=12,bT=13,is=14,dn=15,Zo=16,$o=17,Jo=18,rd=19,Sb=20,Hr=21,vg=22,xl=23,Yt=24,zo=25,at=26,Ab=1;var Oi=7,kl=8,Ol=9,bt=10;function qr(t){return Array.isArray(t)&&typeof t[Ab]=="object"}function ar(t){return Array.isArray(t)&&t[Ab]===!0}function Nm(t){return(t.flags&4)!==0}function os(t){return t.componentOffset>-1}function id(t){return(t.flags&1)===1}function Sn(t){return!!t.template}function Fl(t){return(t[Y]&512)!==0}function Ya(t){return(t[Y]&256)===256}var Lg=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Rb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Wr=(()=>{let t=()=>Mb;return t.ngInherit=!0,t})();function Mb(t){return t.type.prototype.ngOnChanges&&(t.setInput=IO),wO}function wO(){let t=Pb(this),e=t?.current;if(e){let n=t.previous;if(n===xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function IO(t,e,n,r,i){let o=this.declaredInputs[r],s=Pb(t)||EO(t,{previous:xi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Lg(l&&l.currentValue,n,u===xi),Rb(t,e,i,n)}var Nb="__ngSimpleChanges__";function Pb(t){return t[Nb]||null}function EO(t,e){return t[Nb]=e}var CT=null;var De=function(t,e=null,n){CT?.(t,e,n)},xb="svg",DO="math";function An(t){for(;Array.isArray(t);)t=t[sr];return t}function kb(t,e){return An(e[t])}function Pn(t,e){return An(e[t.index])}function Pm(t,e){return t.data[e]}function xm(t,e){return t[e]}function Rn(t,e){let n=e[t];return qr(n)?n:n[sr]}function km(t){return(t[Y]&128)===128}function TO(t){return ar(t[St])}function zr(t,e){return e==null?null:t[e]}function Ob(t){t[$o]=0}function Fb(t){t[Y]&1024||(t[Y]|=1024,km(t)&&Za(t))}function bO(t,e){for(;t>0;)e=e[is],t--;return e}function od(t){return!!(t[Y]&9216||t[Yt]?.dirty)}function Vg(t){t[nr].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),od(t)&&Za(t)}function Za(t){t[nr].changeDetectionScheduler?.notify(0);let e=Fi(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!km(e)));)e=Fi(e)}function Lb(t,e){if(Ya(t))throw new B(911,!1);t[Hr]===null&&(t[Hr]=[]),t[Hr].push(e)}function CO(t,e){if(t[Hr]===null)return;let n=t[Hr].indexOf(e);n!==-1&&t[Hr].splice(n,1)}function Fi(t){let e=t[St];return ar(e)?e[St]:e}function SO(t){return t[Pl]??=[]}function AO(t){return t.cleanup??=[]}var ie={lFrame:zb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ug=!1;function RO(){return ie.lFrame.elementDepthCount}function MO(){ie.lFrame.elementDepthCount++}function NO(){ie.lFrame.elementDepthCount--}function Om(){return ie.bindingsEnabled}function PO(){return ie.skipHydrationRootTNode!==null}function xO(t){return ie.skipHydrationRootTNode===t}function kO(){ie.skipHydrationRootTNode=null}function fe(){return ie.lFrame.lView}function ct(){return ie.lFrame.tView}function bQ(t){return ie.lFrame.contextLView=t,t[Je]}function CQ(t){return ie.lFrame.contextLView=null,t}function Ot(){let t=Vb();for(;t!==null&&t.type===64;)t=t.parent;return t}function Vb(){return ie.lFrame.currentTNode}function OO(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Bi(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Fm(){return ie.lFrame.isParent}function Ub(){ie.lFrame.isParent=!1}function jb(){return Ug}function ST(t){let e=Ug;return Ug=t,e}function sd(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function FO(){return ie.lFrame.bindingIndex}function LO(t){return ie.lFrame.bindingIndex=t}function ss(){return ie.lFrame.bindingIndex++}function Bb(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VO(){return ie.lFrame.inI18n}function UO(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,jg(e)}function jO(){return ie.lFrame.currentDirectiveIndex}function jg(t){ie.lFrame.currentDirectiveIndex=t}function BO(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $b(t){ie.lFrame.currentQueryIndex=t}function $O(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[pn]:null}function Hb(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=$O(o),i===null||(o=o[is],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=qb();return r.currentTNode=e,r.lView=t,!0}function Lm(t){let e=qb(),n=t[le];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qb(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?zb(t):e}function zb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Gb(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Wb=Gb;function Vm(){let t=Gb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HO(t){return(ie.lFrame.contextLView=bO(t,ie.lFrame.contextLView))[Je]}function Kr(){return ie.lFrame.selectedIndex}function Li(t){ie.lFrame.selectedIndex=t}function Um(){let t=ie.lFrame;return Pm(t.tView,t.selectedIndex)}function SQ(){ie.lFrame.currentNamespace=xb}function AQ(){qO()}function qO(){ie.lFrame.currentNamespace=null}function zO(){return ie.lFrame.currentNamespace}var Kb=!0;function ad(){return Kb}function cd(t){Kb=t}function GO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Mb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function jm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Dl(t,e,n){Qb(t,e,3,n)}function Tl(t,e,n,r){(t[Y]&3)===n&&Qb(t,e,n,r)}function _g(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function Qb(t,e,n,r){let i=r!==void 0?t[$o]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[$o]+=65536),(a<o||o==-1)&&(WO(t,n,e,u),t[$o]=(t[$o]&4294901760)+u+2),u++}function AT(t,e){De(4,t,e);let n=re(null);try{e.call(t)}finally{re(n),De(5,t,e)}}function WO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[$o]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,AT(a,o)):AT(a,o)}var Go=-1,Vi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function KO(t){return(t.flags&8)!==0}function QO(t){return(t.flags&16)!==0}function YO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];JO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ZO(t){return t===3||t===4||t===6}function JO(t){return t.charCodeAt(0)===64}function Xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?RT(t,n,i,null,e[++r]):RT(t,n,i,null,null))}}return t}function RT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var wg={},Bg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=td(r);let i=this.injector.get(e,wg,r);return i!==wg||n===wg?i:this.parentInjector.get(e,n,r)}};function Yb(t){return t!==Go}function Ll(t){return t&32767}function XO(t){return t>>16}function Vl(t,e){let n=XO(t),r=e;for(;n>0;)r=r[is],n--;return r}var $g=!0;function Ul(t){let e=$g;return $g=t,e}var e1=256,Zb=e1-1,Jb=5,t1=0,Cn={};function n1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ua)&&(r=n[Ua]),r==null&&(r=n[Ua]=t1++);let i=r&Zb,o=1<<i;e.data[t+(i>>Jb)]|=o}function jl(t,e){let n=Xb(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,Ig(r.data,t),Ig(e,null),Ig(r.blueprint,null));let i=Bm(t,e),o=t.injectorIndex;if(Yb(i)){let s=Ll(i),a=Vl(i,e),u=a[le].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Ig(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=iC(i),r===null)return Go;if(n++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Go}function Hg(t,e,n){n1(t,e,n)}function eC(t,e,n){if(n&se.Optional||t!==void 0)return t;Cm(e,"NodeInjector")}function tC(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),(n&(se.Self|se.Host))===0){let i=t[Yo],o=xt(void 0);try{return i?i.get(e,r,n&se.Optional):mb(e,r,n&se.Optional)}finally{xt(o)}}return eC(r,e,n)}function nC(t,e,n,r=se.Default,i){if(t!==null){if(e[Y]&2048&&!(r&se.Self)){let s=a1(t,e,n,r,Cn);if(s!==Cn)return s}let o=rC(t,e,n,r,Cn);if(o!==Cn)return o}return tC(e,n,r,i)}function rC(t,e,n,r,i){let o=o1(n);if(typeof o=="function"){if(!Hb(e,t,r))return r&se.Host?eC(i,n,r):tC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))Cm(n);else return s}finally{Wb()}}else if(typeof o=="number"){let s=null,a=Xb(t,e),u=Go,l=r&se.Host?e[dn][pn]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Bm(t,e):e[a+8],u===Go||!NT(r,!1)?a=-1:(s=e[le],a=Ll(u),e=Vl(u,e)));a!==-1;){let h=e[le];if(MT(o,a,h.data)){let p=r1(a,e,n,s,r,l);if(p!==Cn)return p}u=e[a+8],u!==Go&&NT(r,e[le].data[a+8]===l)&&MT(o,a,e)?(s=h,a=Ll(u),e=Vl(u,e)):a=-1}}return i}function r1(t,e,n,r,i,o){let s=e[le],a=s.data[t+8],u=r==null?os(a)&&$g:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=i1(a,s,n,u,l);return h!==null?Bl(e,s,h,a):Cn}function i1(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let E=s[y];if(y<u&&n===E||y>=u&&E.type===n)return y}if(i){let y=s[u];if(y&&Sn(y)&&y.type===n)return u}return null}function Bl(t,e,n,r){let i=t[n],o=e.data;if(i instanceof Vi){let s=i;s.resolving&&pb(Kk(o[n]));let a=Ul(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?xt(s.injectImpl):null,h=Hb(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&GO(n,o[n],e)}finally{l!==null&&xt(l),Ul(a),s.resolving=!1,Wb()}}return i}function o1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ua)?t[Ua]:void 0;return typeof e=="number"?e>=0?e&Zb:s1:e}function MT(t,e,n){let r=1<<t;return!!(n[e+(t>>Jb)]&r)}function NT(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Ni=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nC(this._tNode,this._lView,e,td(r),n)}};function s1(){return new Ni(Ot(),fe())}function xn(t){return Ka(()=>{let e=t.prototype.constructor,n=e[Sl]||qg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Sl]||qg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qg(t){return ub(t)?()=>{let e=qg(Tt(t));return e&&e()}:Pi(t)}function a1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!Fl(s);){let a=rC(o,s,n,r|se.Self,Cn);if(a!==Cn)return a;let u=o.parent;if(!u){let l=s[Sb];if(l){let h=l.get(n,Cn,r);if(h!==Cn)return h}u=iC(s),s=s[is]}o=u}return i}function iC(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[pn]:null}function PT(t,e=null,n=null,r){let i=oC(t,e,n,r);return i.resolveInjectorInitializers(),i}function oC(t,e=null,n=null,r,i=new Set){let o=[n||Qt,uO(t)];return r=r||(typeof t=="object"?void 0:kt(t)),new ja(o,e||Rm(),r||null,i)}var Pe=class t{static THROW_IF_NOT_FOUND=Mi;static NULL=new Nl;static create(e,n){if(Array.isArray(e))return PT({name:""},n,e,"");{let r=e.name??"";return PT({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>Z(_b)});static __NG_ELEMENT_ID__=-1};var c1=new j("");c1.__NG_ELEMENT_ID__=t=>{let e=Ot();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new B(204,!1)};var sC=!1,as=(()=>{class t{static __NG_ELEMENT_ID__=u1;static __NG_ENV_ID__=n=>n}return t})(),zg=class extends as{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Lb(this._lView,e),()=>CO(this._lView,e)}};function u1(){return new zg(fe())}var Ui=class{},$m=new j("",{providedIn:"root",factory:()=>!1});var aC=new j(""),cC=new j(""),$i=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Qe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),ud=(()=>{class t{internalPendingTasks=P($i);scheduler=P(Ui);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),Gg=class extends et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Cb()&&(this.destroyRef=P(as,{optional:!0})??void 0,this.pendingTasks=P($i,{optional:!0})??void 0)}emit(e){let n=re(null);try{super.next(e)}finally{re(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ze=Gg;function $l(...t){}function uC(t){let e,n;function r(){t=$l;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function xT(t){return queueMicrotask(()=>t()),()=>{t=$l}}var Hm="isAngularZone",Hl=Hm+"_ID",l1=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sC}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,f1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Hm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,d1,$l,$l);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},d1={};function qm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function h1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){uC(()=>{t.callbackScheduled=!1,Wg(t),t.isCheckStableRunning=!0,qm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Wg(t)}function f1(t){let e=()=>{h1(t)},n=l1++;t._inner=t._inner.fork({name:"angular",properties:{[Hm]:!0,[Hl]:n,[Hl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(p1(u))return r.invokeTask(o,s,a,u);try{return kT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),OT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return kT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!g1(u)&&e(),OT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Wg(t),qm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Wg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function kT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OT(t){t._nesting--,qm(t)}var Kg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function p1(t){return lC(t,"__ignore_ng_zone__")}function g1(t){return lC(t,"__scheduler_tick__")}function lC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Mn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},m1=new j("",{providedIn:"root",factory:()=>{let t=P(ve),e=P(Mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function FT(t,e){return ab(t,e)}function y1(t){return ab(sb,t)}var dC=(FT.required=y1,FT);function v1(){return ld(Ot(),fe())}function ld(t,e){return new cr(Pn(t,e))}var cr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=v1}return t})();function _1(t){return typeof t=="function"&&t[Kt]!==void 0}function cs(t,e){let n=hg(t,e?.equal),r=n[Kt];return n.set=i=>xa(r,i),n.update=i=>fg(r,i),n.asReadonly=w1.bind(n),n}function w1(){let t=this[Kt];if(t.readonlyFn===void 0){let e=()=>this();e[Kt]=t,t.readonlyFn=e}return t.readonlyFn}function hC(t){return _1(t)&&typeof t.set=="function"}function fC(t){return(t.flags&128)===128}var pC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pC||{}),gC=new Map,I1=0;function E1(){return I1++}function D1(t){gC.set(t[rd],t)}function Qg(t){gC.delete(t[rd])}var LT="__ngContext__";function us(t,e){qr(e)?(t[LT]=e[rd],D1(e)):t[LT]=e}function mC(t){return vC(t[$a])}function yC(t){return vC(t[ln])}function vC(t){for(;t!==null&&!ar(t);)t=t[ln];return t}var Yg;function _C(t){Yg=t}function T1(){if(Yg!==void 0)return Yg;if(typeof document<"u")return document;throw new B(210,!1)}var zm=new j("",{providedIn:"root",factory:()=>b1}),b1="ng",Gm=new j(""),Hi=new j("",{providedIn:"platform",factory:()=>"unknown"});var Wm=new j("",{providedIn:"root",factory:()=>T1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var C1="h",S1="b";var wC=!1,A1=new j("",{providedIn:"root",factory:()=>wC});var Km=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Km||{}),ls=new j(""),VT=new Set;function Ja(t){VT.has(t)||(VT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var IC=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=R1}return t})();function R1(){return new IC(fe(),Ot())}var Ho=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ho||{}),EC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),M1=[Ho.EarlyRead,Ho.Write,Ho.MixedReadWrite,Ho.Read],N1=(()=>{class t{ngZone=P(ve);scheduler=P(Ui);errorHandler=P(Mn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(ls,{optional:!0})}execute(){let n=this.sequences.size>0;n&&De(16),this.executing=!0;for(let r of M1)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&De(17)}register(n){let{view:r}=n;r!==void 0?((r[zo]??=[]).push(n),Za(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Km.AFTER_NEXT_RENDER,n):n()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[zo];e&&(this.view[zo]=e.filter(n=>n!==this))}};function Qm(t,e){!e?.injector&&Mm(Qm);let n=e?.injector??P(Pe);return Ja("NgAfterNextRender"),x1(t,n,e,!0)}function P1(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function x1(t,e,n,r){let i=e.get(EC);i.impl??=e.get(N1);let o=e.get(ls,null,{optional:!0}),s=n?.phase??Ho.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(as):null,u=e.get(IC,null,{optional:!0}),l=new Zg(i.impl,P1(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var k1=()=>null;function DC(t,e,n=!1){return k1(t,e,n)}function TC(t,e){let n=t.contentQueries;if(n!==null){let r=re(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$b(o),a.contentQueries(2,e[s],s)}}}finally{re(r)}}}function Jg(t,e,n){$b(0);let r=re(null);try{e(t,n)}finally{re(r)}}function Ym(t,e,n){if(Nm(e)){let r=re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{re(r)}}}var Nn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Nn||{});var ql=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ob})`}};function dd(t){return t instanceof ql?t.changingThisBreaksApplicationSecurity:t}function bC(t,e){let n=O1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ob})`)}return n===e}function O1(t){return t instanceof ql&&t.getTypeName()||null}var F1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CC(t){return t=String(t),t.match(F1)?t:"unsafe:"+t}var Zm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zm||{});function RQ(t){let e=L1();return e?e.sanitize(Zm.URL,t)||"":bC(t,"URL")?dd(t):CC(Wo(t))}function L1(){let t=fe();return t&&t[nr].sanitizer}var V1=/^>|^->|<!--|-->|--!>|<!-$/g,U1=/(<|>)/g,j1="\u200B$1\u200B";function B1(t){return t.replace(V1,e=>e.replace(U1,j1))}function SC(t){return t instanceof Function?t():t}function $1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var AC="ng-template";function H1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Jm(t){return t.type===4&&t.value!==AC}function q1(t,e,n){let r=t.type===4&&!n?AC:t.value;return e===r}function z1(t,e,n){let r=4,i=t.attrs,o=i!==null?K1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!q1(t,u,n)||u===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!H1(t,i,u,n)){if(un(r))return!1;s=!0}}else{let l=e[++a],h=G1(u,i,Jm(t),n);if(h===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(t){return(t&1)===0}function G1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Q1(e,t)}function W1(t,e,n=!1){for(let r=0;r<e.length;r++)if(z1(t,e[r],n))return!0;return!1}function K1(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZO(n))return e}return t.length}function Q1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function UT(t,e){return t?":not("+e.trim()+")":e}function Y1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=UT(o,i),i=""),r=s,o=o||!un(r);n++}return i!==""&&(e+=UT(o,i)),e}function Z1(t){return t.map(Y1).join(",")}function J1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!un(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var gn={};function X1(t,e){return t.createText(e)}function eF(t,e,n){t.setValue(e,n)}function tF(t,e){return t.createComment(B1(e))}function RC(t,e,n){return t.createElement(e,n)}function zl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function MC(t,e,n){t.appendChild(e,n)}function jT(t,e,n,r,i){r!==null?zl(t,e,n,r,i):MC(t,e,n)}function nF(t,e,n){t.removeChild(null,e,n)}function rF(t,e,n){t.setAttribute(e,"style",n)}function iF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function NC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&YO(t,e,r),i!==null&&iF(t,e,i),o!==null&&rF(t,e,o)}function Xm(t,e,n,r,i,o,s,a,u,l,h){let p=at+r,g=p+i,y=oF(p,g),E=typeof l=="function"?l():l;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:E,incompleteFirstPass:!1,ssrId:h}}function oF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gn);return n}function sF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Xm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ey(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[sr]=i,p[Y]=r|4|128|8|64|1024,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),Ob(p),p[St]=p[is]=t,p[Je]=n,p[nr]=s||t&&t[nr],p[qe]=a||t&&t[qe],p[Yo]=u||t&&t[Yo]||null,p[pn]=o,p[rd]=E1(),p[Ba]=h,p[Sb]=l,p[dn]=e.type==2?t[dn]:p,p}function aF(t,e,n){let r=Pn(e,t),i=sF(n),o=t[nr].rendererFactory,s=ty(t,ey(t,i,null,PC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function PC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function xC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ty(t,e){return t[$a]?t[bT][ln]=e:t[$a]=e,t[bT]=e,e}function MQ(t=1){kC(ct(),fe(),Kr()+t,!1)}function kC(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Dl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Tl(e,o,0,n)}Li(n)}var hd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hd||{});function Xg(t,e,n,r){let i=re(null);try{let[o,s,a]=t.inputs[n],u=null;(s&hd.SignalBased)!==0&&(u=e[o][Kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):Rb(e,u,o,r)}finally{re(i)}}function OC(t,e,n,r,i){let o=Kr(),s=r&2;try{Li(-1),s&&e.length>at&&kC(t,e,at,!1),De(s?2:0,i),n(r,i)}finally{Li(o),De(s?3:1,i)}}function fd(t,e,n){fF(t,e,n),(n.flags&64)===64&&pF(t,e,n)}function ny(t,e,n=Pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function cF(t,e,n,r){let o=r.get(A1,wC)||n===Nn.ShadowDom,s=t.selectRootElement(e,o);return uF(s),s}function uF(t){lF(t)}var lF=()=>null;function dF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function FC(t,e,n,r,i,o,s,a){if(!a&&iy(e,t,n,r,i)){os(e)&&hF(n,e.index);return}if(e.type&3){let u=Pn(e,n);r=dF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function hF(t,e){let n=Rn(e,t);n[Y]&16||(n[Y]|=64)}function fF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;os(n)&&aF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||jl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Bl(e,t,s,n);if(us(u,e),o!==null&&vF(e,s-r,u,a,n,o),Sn(a)){let l=Rn(n.index,e);l[Je]=Bl(e,t,s,n)}}}function pF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=jO();try{Li(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];jg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&gF(u,l)}}finally{Li(-1),jg(s)}}function gF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ry(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];W1(e,o.selectors,!1)&&(r??=[],Sn(o)?r.unshift(o):r.push(o))}return r}function mF(t,e,n,r,i,o){let s=Pn(t,e);yF(e[qe],s,o,t.value,n,r,i)}function yF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Wo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function vF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Xg(r,n,u,l)}}function _F(t,e){let n=t[Yo],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function iy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Xg(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Xg(h,l,r,i),a=!0}return a}function wF(t,e){let n=Rn(e,t),r=n[le];IF(r,n);let i=n[sr];i!==null&&n[Ba]===null&&(n[Ba]=DC(i,n[Yo])),De(18),oy(r,n,n[Je]),De(19,n[Je])}function IF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function oy(t,e,n){Lm(e);try{let r=t.viewQuery;r!==null&&Jg(1,r,n);let i=t.template;i!==null&&OC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Jo]?.finishViewCreation(t),t.staticContentQueries&&TC(t,e),t.staticViewQueries&&Jg(2,t.viewQuery,n);let o=t.components;o!==null&&EF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Vm()}}function EF(t,e){for(let n=0;n<e.length;n++)wF(t,e[n])}function pd(t,e,n,r){let i=re(null);try{let o=e.tView,a=t[Y]&4096?4096:16,u=ey(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Zo]=l;let h=t[Jo];return h!==null&&(u[Jo]=h.createEmbeddedView(o)),oy(o,u,n),u}finally{re(i)}}function Ha(t,e){return!e||e.firstChild===null||fC(t)}var DF;function sy(t,e){return DF(t,e)}var rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rr||{});function LC(t){return(t.flags&32)===32}function qo(t,e,n,r,i){if(r!=null){let o,s=!1;ar(r)?o=r:qr(r)&&(s=!0,r=r[sr]);let a=An(r);t===0&&n!==null?i==null?MC(e,n,a):zl(e,n,a,i||null,!0):t===1&&n!==null?zl(e,n,a,i||null,!0):t===2?nF(e,a,s):t===3&&e.destroyNode(a),o!=null&&OF(e,t,o,n,i)}}function TF(t,e){VC(t,e),e[sr]=null,e[pn]=null}function bF(t,e,n,r,i,o){r[sr]=i,r[pn]=e,yd(t,r,n,1,i,o)}function VC(t,e){e[nr].changeDetectionScheduler?.notify(9),yd(t,e,e[qe],2,null,null)}function CF(t){let e=t[$a];if(!e)return Eg(t[le],t);for(;e;){let n=null;if(qr(e))n=e[$a];else{let r=e[bt];r&&(n=r)}if(!n){for(;e&&!e[ln]&&e!==t;)qr(e)&&Eg(e[le],e),e=e[St];e===null&&(e=t),qr(e)&&Eg(e[le],e),n=e&&e[ln]}e=n}}function ay(t,e){let n=t[Ol],r=n.indexOf(e);n.splice(r,1)}function gd(t,e){if(Ya(e))return;let n=e[qe];n.destroyNode&&yd(t,e,n,3,null,null),CF(e)}function Eg(t,e){if(Ya(e))return;let n=re(null);try{e[Y]&=-129,e[Y]|=256,e[Yt]&&ug(e[Yt]),AF(t,e),SF(t,e),e[le].type===1&&e[qe].destroy();let r=e[Zo];if(r!==null&&ar(e[St])){r!==e[St]&&ay(r,e);let i=e[Jo];i!==null&&i.detachView(t)}Qg(e)}finally{re(n)}}function SF(t,e){let n=t.cleanup,r=e[Pl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Pl]=null);let i=e[Hr];if(i!==null){e[Hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[xl];if(o!==null){e[xl]=null;for(let s of o)s.destroy()}}function AF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Vi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(4,a,u);try{u.call(a)}finally{De(5,a,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function RF(t,e,n){return MF(t,e.parent,n)}function MF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[sr];if(os(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Nn.None||i===Nn.Emulated)return null}return Pn(r,n)}function NF(t,e,n){return xF(t,e,n)}function PF(t,e,n){return t.type&40?Pn(t,n):null}var xF=PF,BT;function md(t,e,n,r){let i=RF(t,r,e),o=e[qe],s=r.parent||e[pn],a=NF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)jT(o,i,n[u],a,!1);else jT(o,i,n,a,!1);BT!==void 0&&BT(o,r,e,n,i)}function Va(t,e){if(e!==null){let n=e.type;if(n&3)return Pn(e,t);if(n&4)return em(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Va(t,r);{let i=t[e.index];return ar(i)?em(-1,i):An(i)}}else{if(n&128)return Va(t,e.next);if(n&32)return sy(e,t)()||An(t[e.index]);{let r=UC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fi(t[dn]);return Va(i,r)}else return Va(t,e.next)}}}return null}function UC(t,e){if(e!==null){let r=t[dn][pn],i=e.projection;return r.projection[i]}return null}function em(t,e){let n=bt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return Va(r,i)}return e[Oi]}function cy(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&us(An(a),r),n.flags|=2),!LC(n))if(u&8)cy(t,e,n.child,r,i,o,!1),qo(e,t,i,a,o);else if(u&32){let l=sy(n,r),h;for(;h=l();)qo(e,t,i,h,o);qo(e,t,i,a,o)}else u&16?kF(t,e,r,n,i,o):qo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function yd(t,e,n,r,i,o){cy(n,r,t.firstChild,e,i,o,!1)}function kF(t,e,n,r,i,o){let s=n[dn],u=s[pn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];qo(e,t,i,h,o)}else{let l=u,h=s[St];fC(r)&&(l.flags|=128),cy(t,e,l,h,i,o,!0)}}function OF(t,e,n,r,i){let o=n[Oi],s=An(n);o!==s&&qo(e,t,r,o,i);for(let a=bt;a<n.length;a++){let u=n[a];yd(u[le],u,t,e,r,o)}}function FF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:rr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=rr.Important),t.setStyle(n,r,i,o))}}function Gl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(An(o)),ar(o)&&LF(o,r);let s=n.type;if(s&8)Gl(t,e,n.child,r);else if(s&32){let a=sy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=UC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Fi(e[dn]);Gl(u[le],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function LF(t,e){for(let n=bt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&Gl(r[le],r,i,e)}t[Oi]!==t[sr]&&e.push(t[Oi])}function jC(t){if(t[zo]!==null){for(let e of t[zo])e.impl.addSequence(e);t[zo].length=0}}var BC=[];function VF(t){return t[Yt]??UF(t)}function UF(t){let e=BC.pop()??Object.create(BF);return e.lView=t,e}function jF(t){t.lView[Yt]!==t&&(t.lView=null,BC.push(t))}var BF=te(k({},Na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Za(t.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function $F(t){let e=t[Yt]??Object.create(HF);return e.lView=t,e}var HF=te(k({},Na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Fi(t.lView);for(;e&&!$C(e[le]);)e=Fi(e);e&&Fb(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function $C(t){return t.type!==2}function HC(t){if(t[xl]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[xl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Y]&8192)}}var qF=100;function qC(t,e=!0,n=0){let i=t[nr].rendererFactory,o=!1;o||i.begin?.();try{zF(t,n)}catch(s){throw e&&_F(t,s),s}finally{o||i.end?.()}}function zF(t,e){let n=jb();try{ST(!0),tm(t,e);let r=0;for(;od(t);){if(r===qF)throw new B(103,!1);r++,tm(t,1)}}finally{ST(n)}}function GF(t,e,n,r){if(Ya(e))return;let i=e[Y],o=!1,s=!1;Lm(e);let a=!0,u=null,l=null;o||($C(t)?(l=VF(e),u=gl(l)):rg()===null?(a=!1,l=$F(e),u=gl(l)):e[Yt]&&(ug(e[Yt]),e[Yt]=null));try{Ob(e),LO(t.bindingStartIndex),n!==null&&OC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Dl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Tl(e,y,0,null),_g(e,0)}if(s||WF(e),HC(e),zC(e,0),t.contentQueries!==null&&TC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Dl(e,y)}else{let y=t.contentHooks;y!==null&&Tl(e,y,1),_g(e,1)}QF(t,e);let p=t.components;p!==null&&WC(e,p,0);let g=t.viewQuery;if(g!==null&&Jg(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Dl(e,y)}else{let y=t.viewHooks;y!==null&&Tl(e,y,2),_g(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[vg]){for(let y of e[vg])y();e[vg]=null}o||(jC(e),e[Y]&=-73)}catch(h){throw o||Za(e),h}finally{l!==null&&(ag(l,u),a&&jF(l)),Vm()}}function zC(t,e){for(let n=mC(t);n!==null;n=yC(n))for(let r=bt;r<n.length;r++){let i=n[r];GC(i,e)}}function WF(t){for(let e=mC(t);e!==null;e=yC(e)){if(!(e[Y]&2))continue;let n=e[Ol];for(let r=0;r<n.length;r++){let i=n[r];Fb(i)}}}function KF(t,e,n){De(18);let r=Rn(e,t);GC(r,n),De(19,r[Je])}function GC(t,e){km(t)&&tm(t,e)}function tm(t,e){let r=t[le],i=t[Y],o=t[Yt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cg(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)GF(r,t,r.template,t[Je]);else if(i&8192){HC(t),zC(t,1);let a=r.components;a!==null&&WC(t,a,1),jC(t)}}function WC(t,e,n){for(let r=0;r<e.length;r++)KF(t,e[r],n)}function QF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Li(~i);else{let o=i,s=n[++r],a=n[++r];UO(s,o);let u=e[o];De(24,u),a(2,u),De(25,u)}}}finally{Li(-1)}}function uy(t,e){let n=jb()?64:1088;for(t[nr].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=Fi(t);if(Fl(t)&&!r)return t;t=r}return null}function KC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function QC(t,e){let n=bt+e;if(n<t.length)return t[n]}function vd(t,e,n,r=!0){let i=e[le];if(YF(i,e,t,n),r){let s=em(n,t),a=e[qe],u=a.parentNode(t[Oi]);u!==null&&bF(i,t[pn],a,e,u,s)}let o=e[Ba];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function YC(t,e){let n=qa(t,e);return n!==void 0&&gd(n[le],n),n}function qa(t,e){if(t.length<=bt)return;let n=bt+e,r=t[n];if(r){let i=r[Zo];i!==null&&i!==t&&ay(i,r),e>0&&(t[n-1][ln]=r[ln]);let o=Ml(t,bt+e);TF(r[le],r);let s=o[Jo];s!==null&&s.detachView(o[le]),r[St]=null,r[ln]=null,r[Y]&=-129}return r}function YF(t,e,n,r){let i=bt+r,o=n.length;r>0&&(n[i-1][ln]=e),r<o-bt?(e[ln]=n[i],vb(n,bt+r,e)):(n.push(e),e[ln]=null),e[St]=n;let s=e[Zo];s!==null&&n!==s&&ZC(s,e);let a=e[Jo];a!==null&&a.insertView(t),Vg(e),e[Y]|=128}function ZC(t,e){let n=t[Ol],r=e[St];if(qr(r))t[Y]|=2;else{let i=r[St][dn];e[dn]!==i&&(t[Y]|=2)}n===null?t[Ol]=[e]:n.push(e)}var za=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[le];return Gl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return Ya(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(ar(e)){let n=e[kl],r=n?n.indexOf(this):-1;r>-1&&(qa(e,r),Ml(n,r))}this._attachedToViewContainer=!1}gd(this._lView[le],this._lView)}onDestroy(e){Lb(this._lView,e)}markForCheck(){uy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Vg(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,qC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fl(this._lView),n=this._lView[Zo];n!==null&&!e&&ay(n,this._lView),VC(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Fl(this._lView),r=this._lView[Zo];r!==null&&!n&&ZC(r,this._lView),Vg(this._lView)}};var _d=(()=>{class t{static __NG_ELEMENT_ID__=XF}return t})(),ZF=_d,JF=class extends ZF{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=pd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new za(i)}};function XF(){return eL(Ot(),fe())}function eL(t,e){return t.type&4?new JF(e,t,ld(t,e)):null}function wd(t,e,n,r,i){let o=t.data[e];if(o===null)o=tL(t,e,n,r,i),VO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=OO();o.injectorIndex=s===null?-1:s.injectorIndex}return Bi(o,!0),o}function tL(t,e,n,r,i){let o=Vb(),s=Fm(),a=s?o:o&&o.parent,u=t.data[e]=rL(t,a,n,e,r,i);return nL(t,u,o,s),u}function nL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function rL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return PO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var xQ=new RegExp(`^(\\d+)*(${S1}|${C1})*(.*)`);var iL=()=>null;function Ga(t,e){return iL(t,e)}var oL=class{},JC=class{},nm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${kt(e)}.`)}},Id=class{static NULL=new nm},es=class{},Qr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>sL()}return t})();function sL(){let t=fe(),e=Ot(),n=Rn(e.index,t);return(qr(n)?n:t)[qe]}var aL=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();function rm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=vT(i,a);else if(o==2){let u=a,l=e[++s];r=vT(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function J(t,e=se.Default){let n=fe();if(n===null)return Z(t,e);let r=Ot();return nC(r,n,Tt(t),e)}function XC(){let t="invalid";throw new Error(t)}function ly(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=uL(s);h===null?a=s:[a,u,l]=h,hL(t,e,n,a,o,u,l)}o!==null&&r!==null&&cL(n,r,o)}function cL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function uL(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Sn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,lL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function lL(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function dL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hL(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&Sn(y)&&(u=!0,dL(t,n,g)),Hg(jl(n,e),t,y.type)}vL(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=xC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=Xo(n.mergedAttrs,y.hostAttrs),pL(t,n,e,p,y),yL(p,y,i),s!==null&&s.has(y)){let[R,M]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,M+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let E=y.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}fL(t,n,o)}function fL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))$T(0,e,i,r),$T(1,e,i,r),qT(e,r,!1);else{let o=n.get(i);HT(0,e,o,r),HT(1,e,o,r),qT(e,r,!0)}}}function $T(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),eS(e,o)}}function HT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),eS(e,s)}}function eS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function qT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Jm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function pL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Pi(i.type,!0)),s=new Vi(o,Sn(i),J);t.blueprint[r]=s,n[r]=s,gL(t,e,r,xC(t,n,i.hostVars,gn),i)}function gL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;mL(s)!=a&&s.push(a),s.push(n,r,o)}}function mL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sn(e)&&(n[""]=t)}}function vL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tS(t,e,n,r,i,o,s,a){let u=e.consts,l=zr(u,s),h=wd(e,t,2,r,l);return o&&ly(e,n,h,zr(u,a),i),h.mergedAttrs=Xo(h.mergedAttrs,h.attrs),h.attrs!==null&&rm(h,h.attrs,!1),h.mergedAttrs!==null&&rm(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function nS(t,e){jm(t,e),Nm(e)&&t.queries.elementEnd(e)}var Wl=class extends Id{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ki(e);return new ts(n,this.ngModule)}};function _L(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&hd.SignalBased)!==0};return i&&(o.transform=i),o})}function wL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function IL(t,e,n){let r=e instanceof Ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Bg(n,r):n}function EL(t){let e=t.get(es,null);if(e===null)throw new B(407,!1);let n=t.get(aL,null),r=t.get(Ui,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function DL(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return RC(e,n,n==="svg"?xb:n==="math"?DO:null)}var ts=class extends JC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_L(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Z1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){De(22);let o=re(null);try{let s=this.componentDef,a=r?["ng-version","19.2.4"]:J1(this.componentDef.selectors[0]),u=Xm(0,null,null,1,0,null,null,null,null,[a],null),l=IL(s,i||this.ngModule,e),h=EL(l),p=h.rendererFactory.createRenderer(null,s),g=r?cF(p,r,s.encapsulation,l):DL(s,p),y=ey(null,u,null,512|PC(s),null,null,h,p,l,null,DC(g,l,!0));y[at]=g,Lm(y);let E=null;try{let R=tS(at,u,y,"#host",()=>[this.componentDef],!0,0);g&&(NC(p,g,R),us(g,y)),fd(u,y,R),Ym(u,R,y),nS(u,R),n!==void 0&&TL(R,this.ngContentSelectors,n),E=Rn(R.index,y),y[Je]=E[Je],oy(u,y,null)}catch(R){throw E!==null&&Qg(E),Qg(y),R}finally{De(23),Vm()}return new im(this.componentType,y)}finally{re(o)}}},im=class extends oL{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Pm(n[le],at),this.location=ld(this._tNode,n),this.instance=Rn(this._tNode.index,n)[Je],this.hostView=this.changeDetectorRef=new za(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=iy(r,i[le],i,e,n);this.previousInputValues.set(e,n);let s=Rn(r.index,i);uy(s,1)}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ds=(()=>{class t{static __NG_ELEMENT_ID__=bL}return t})();function bL(){let t=Ot();return SL(t,fe())}var CL=ds,rS=class extends CL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ld(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bm(this._hostTNode,this._hostLView);if(Yb(e)){let n=Vl(e,this._hostLView),r=Ll(e),i=n[le].data[r+8];return new Ni(i,n)}else return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=zT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ga(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ha(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!_O(e),a;if(s)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let u=s?e:new ts(ki(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(Ct,null);R&&(o=R)}let h=ki(u.componentType??{}),p=Ga(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,Ha(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(TO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[St],l=new rS(u,u[pn],u[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return vd(s,i,o,r),e.attachToViewContainerRef(),vb(Dg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=zT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=qa(this._lContainer,n);r&&(Ml(Dg(this._lContainer),n),gd(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=qa(this._lContainer,n);return r&&Ml(Dg(this._lContainer),n)!=null?new za(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zT(t){return t[kl]}function Dg(t){return t[kl]||(t[kl]=[])}function SL(t,e){let n,r=e[t.index];return ar(r)?n=r:(n=KC(r,e,null,t),e[t.index]=n,ty(e,n)),RL(n,e,t,r),new rS(n,t,e)}function AL(t,e){let n=t[qe],r=n.createComment(""),i=Pn(e,t),o=n.parentNode(i);return zl(n,o,r,n.nextSibling(i),!1),r}var RL=PL,ML=()=>!1;function NL(t,e,n){return ML(t,e,n)}function PL(t,e,n,r){if(t[Oi])return;let i;n.type&8?i=An(r):i=AL(e,n),t[Oi]=i}var ns=class{},dy=class{};var om=class extends ns{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Ib(e);this._bootstrapComponents=SC(o.bootstrap),this._r3Injector=oC(e,n,[{provide:ns,useValue:this},{provide:Id,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sm=class extends dy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new om(this.moduleType,e,[])}};var Kl=class extends ns{injector;componentFactoryResolver=new Wl(this);instance=null;constructor(e){super();let n=new ja([...e.providers,{provide:ns,useValue:this},{provide:Id,useValue:this.componentFactoryResolver}],e.parent||Rm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ed(t,e,n=null){return new Kl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Eb(!1,n.type),i=r.length>0?Ed([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(Z(Ct))})}return t})();function iS(t){return Ka(()=>{let e=oS(t),n=te(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(xL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nn.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ja("NgStandalone"),sS(n);let r=t.dependencies;return n.directiveDefs=GT(r,!1),n.pipeDefs=GT(r,!0),n.id=VL(n),n})}function kL(t){return ki(t)||aO(t)}function OL(t){return t!==null}function ur(t){return Ka(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function FL(t,e){if(t==null)return xi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=hd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function LL(t){if(t==null)return xi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function xe(t){return Ka(()=>{let e=oS(t);return sS(e),e})}function Dd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function oS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||xi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:FL(t.inputs,e),outputs:LL(t.outputs),debugInfo:null}}function sS(t){t.features?.forEach(e=>e(t))}function GT(t,e){if(!t)return null;let n=e?cO:kL;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(OL)}function VL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function UL(t){return Object.getPrototypeOf(t.prototype).constructor}function Ft(t){let e=UL(t.type),n=!0,r=[t];for(;e;){let i;if(Sn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Tg(t.inputs),s.declaredInputs=Tg(t.declaredInputs),s.outputs=Tg(t.outputs);let a=i.hostBindings;a&&qL(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&$L(t,u),l&&HL(t,l),jL(t,i),jk(t.outputs,i.outputs),Sn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ft&&(n=!1)}}e=Object.getPrototypeOf(e)}BL(r)}function jL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function BL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xo(i.hostAttrs,n=Xo(n,i.hostAttrs))}}function Tg(t){return t===xi?{}:t===Qt?[]:t}function $L(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function HL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function qL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function aS(t){return GL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function zL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function GL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Td(t,e,n){return t[e]=n}function WL(t,e){return t[e]}function hn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hy(t,e,n,r){let i=hn(t,e,n);return hn(t,e+1,r)||i}function KL(t,e,n,r,i){let o=hy(t,e,n,r);return hn(t,e+2,i)||o}function QL(t,e,n,r,i,o,s,a,u){let l=e.consts,h=wd(e,t,4,s||null,a||null);Om()&&ly(e,n,h,zr(l,u),ry),h.mergedAttrs=Xo(h.mergedAttrs,h.attrs),jm(e,h);let p=h.tView=Xm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function am(t,e,n,r,i,o,s,a,u,l){let h=n+at,p=e.firstCreatePass?QL(h,e,t,r,i,o,s,a,u):e.data[h];Bi(p,!1);let g=ZL(e,t,p,n);ad()&&md(e,t,g,p),us(g,t);let y=KC(g,t,g,p);return t[h]=y,ty(t,y),NL(y,p,t),id(p)&&fd(e,t,p),u!=null&&ny(t,p,l),p}function YL(t,e,n,r,i,o,s,a){let u=fe(),l=ct(),h=zr(l.consts,o);return am(u,l,t,e,n,r,i,h,s,a),YL}var ZL=JL;function JL(t,e,n,r){return cd(!0),e[qe].createComment("")}var fy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var cS=new j("");var XL=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new cm})}return t})(),cm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Yr(t){return!!t&&typeof t.then=="function"}function py(t){return!!t&&typeof t.subscribe=="function"}var bd=new j("");var uS=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(bd,{optional:!0})??[];injector=P(Pe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=mt(this.injector,i);if(Yr(o))n.push(o);else if(py(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cd=new j("");function eV(){dg(()=>{throw new B(600,!1)})}function tV(t){return t.isBoundToModule}var nV=10;var Gr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(m1);afterRenderManager=P(EC);zonelessEnabled=P($m);rootEffectScheduler=P(XL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new et;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P($i).hasPendingTasks.pipe(oe(n=>!n));constructor(){P(ls,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(Ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){De(10);let i=n instanceof JC;if(!this._injector.get(uS).done){let g="";throw new B(405,g)}let s;i?s=n:s=this._injector.get(Id).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=tV(s)?void 0:this._injector.get(ns),u=r||s.selector,l=s.create(Pe.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(cS,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),bl(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),De(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Km.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let n=re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(n),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(es,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<nV;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)rV(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>od(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Cd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rV(t,e,n,r){if(!n&&!od(t))return;qC(t,e,n&&!r?0:1)}function Sd(t,e,n,r){let i=fe(),o=ss();if(hn(i,o,e)){let s=ct(),a=Um();mF(a,i,t,e,n,r)}return Sd}function iV(t,e,n,r){return hn(t,ss(),n)?e+Wo(n)+r:gn}function oV(t,e,n,r,i,o){let s=FO(),a=hy(t,s,n,i);return Bb(2),a?e+Wo(n)+r+Wo(i)+o:gn}function Il(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function sV(t){return(t&2)==2}function aV(t,e){return t&131071|e<<17}function um(t){return t|2}function rs(t){return(t&131068)>>2}function bg(t,e){return t&-131069|e<<2}function cV(t){return(t&1)===1}function lm(t){return t|1}function uV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ji(s),u=rs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Qa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=ji(t[a+1]);t[r+1]=Il(g,a),g!==0&&(t[g+1]=bg(t[g+1],r)),t[a+1]=aV(t[a+1],r)}else t[r+1]=Il(a,0),a!==0&&(t[a+1]=bg(t[a+1],r)),a=r;else t[r+1]=Il(u,0),a===0?a=r:t[u+1]=bg(t[u+1],r),u=r;l&&(t[r+1]=um(t[r+1])),WT(t,h,r,!0),WT(t,h,r,!1),lV(e,h,t,r,o),s=Il(a,u),o?e.classBindings=s:e.styleBindings=s}function lV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qa(o,e)>=0&&(n[r+1]=lm(n[r+1]))}function WT(t,e,n,r){let i=t[n+1],o=e===null,s=r?ji(i):rs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];dV(u,e)&&(a=!0,t[s+1]=r?lm(l):um(l)),s=r?ji(l):rs(l)}a&&(t[n+1]=r?um(i):lm(i))}function dV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qa(t,e)>=0:!1}function hV(t,e,n){let r=fe(),i=ss();if(hn(r,i,e)){let o=ct(),s=Um();FC(o,s,r,t,e,r[qe],n,!1)}return hV}function KT(t,e,n,r,i){iy(e,t,n,i?"class":"style",r)}function Ad(t,e){return fV(t,e,null,!0),Ad}function fV(t,e,n,r){let i=fe(),o=ct(),s=Bb(2);if(o.firstUpdatePass&&gV(o,t,s,r),e!==gn&&hn(i,s,e)){let a=o.data[Kr()];wV(o,a,i,i[qe],t,i[s+1]=IV(e,n),r,s)}}function pV(t,e){return e>=t.expandoStartIndex}function gV(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Kr()],s=pV(t,n);EV(o,r)&&e===null&&!s&&(e=!1),e=mV(i,o,e,r),uV(i,o,e,n,s,r)}}function mV(t,e,n,r){let i=BO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Cg(null,t,e,n,r),n=Wa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Cg(i,t,e,n,r),o===null){let u=yV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Cg(null,t,e,u[1],r),u=Wa(u,e.attrs,r),vV(t,e,r,u))}else o=_V(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function yV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[ji(r)]}function vV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ji(i)]=r}function _V(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Wa(r,s,n)}return Wa(r,e.attrs,n)}function Cg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Wa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Wa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),oO(t,s,n?!0:e[++o]))}return t===void 0?null:t}function wV(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=cV(l)?QT(u,e,n,i,rs(l),s):void 0;if(!Ql(h)){Ql(o)||sV(l)&&(o=QT(u,null,n,i,a,s));let p=kb(Kr(),n);FF(r,s,p,i,o)}}function QT(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===gn&&(g=p?Qt:void 0);let y=p?mg(g,r):h===r?g:void 0;if(l&&!Ql(y)&&(y=mg(u,r)),Ql(y)&&(a=y,s))return a;let E=t[i+1];i=s?ji(E):rs(E)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=mg(u,r))}return a}function Ql(t){return t!==void 0}function IV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kt(dd(t)))),t}function EV(t,e){return(t.flags&(e?8:16))!==0}var dm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Sg(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function DV(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Sg(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[u],E=Sg(s,g,u,y,n);if(E!==0){E<0&&t.updateValue(s,y),s--,u--;continue}let R=n(o,l),M=n(s,g),O=n(o,h);if(Object.is(O,M)){let U=n(u,y);Object.is(U,R)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Yl,i??=ZT(t,o,s,n),hm(t,r,o,O))t.updateValue(o,h),o++,s++;else if(i.has(O))r.set(R,t.detach(o)),s--;else{let U=t.create(o,e[o]);t.attach(o,U),o++,s++}}for(;o<=u;)YT(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=Sg(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Yl,i??=ZT(t,o,s,n);let y=n(o,p);if(hm(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let E=n(o,h);r.set(E,t.detach(o)),s--}}}for(;!l.done;)YT(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function hm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function YT(t,e,n,r,i){if(hm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function ZT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Yl=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function jQ(t,e){Ja("NgControlFlow");let n=fe(),r=ss(),i=n[r]!==gn?n[r]:-1,o=i!==-1?Zl(n,at+i):void 0,s=0;if(hn(n,r,t)){let a=re(null);try{if(o!==void 0&&YC(o,s),t!==-1){let u=at+t,l=Zl(n,u),h=mm(n[le],u),p=Ga(l,h.tView.ssrId),g=pd(n,h,e,{dehydratedView:p});vd(l,g,s,Ha(h,p))}}finally{re(a)}}else if(o!==void 0){let a=QC(o,s);a!==void 0&&(a[Je]=e)}}var fm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-bt}};var pm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function BQ(t,e,n,r,i,o,s,a,u,l,h,p,g){Ja("NgControlFlow");let y=fe(),E=ct(),R=u!==void 0,M=fe(),O=a?s.bind(M[dn][Je]):s,U=new pm(R,O);M[at+t]=U,am(y,E,t+1,e,n,r,i,zr(E.consts,o)),R&&am(y,E,t+2,u,l,h,p,zr(E.consts,g))}var gm=class extends dm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-bt}at(e){return this.getLView(e)[Je].$implicit}attach(e,n){let r=n[Ba];this.needsIndexUpdate||=e!==this.length,vd(this.lContainer,n,e,Ha(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,TV(this.lContainer,e)}create(e,n){let r=Ga(this.lContainer,this.templateTNode.tView.ssrId),i=pd(this.hostLView,this.templateTNode,new fm(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){gd(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Je].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Je].$index=e}getLView(e){return bV(this.lContainer,e)}};function $Q(t){let e=re(null),n=Kr();try{let r=fe(),i=r[le],o=r[n],s=n+1,a=Zl(r,s);if(o.liveCollection===void 0){let l=mm(i,s);o.liveCollection=new gm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(DV(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ss(),h=u.length===0;if(hn(r,l,h)){let p=n+2,g=Zl(r,p);if(h){let y=mm(i,p),E=Ga(g,y.tView.ssrId),R=pd(r,y,void 0,{dehydratedView:E});vd(g,R,0,Ha(y,E))}else YC(g,0)}}}finally{re(e)}}function Zl(t,e){return t[e]}function TV(t,e){return qa(t,e)}function bV(t,e){return QC(t,e)}function mm(t,e){return Pm(t,e)}function lS(t,e,n,r){let i=fe(),o=ct(),s=at+t,a=i[qe],u=o.firstCreatePass?tS(s,o,i,e,ry,Om(),n,r):o.data[s],l=CV(o,i,u,a,e,t);i[s]=l;let h=id(u);return Bi(u,!0),NC(a,l,u),!LC(u)&&ad()&&md(o,i,l,u),(RO()===0||h)&&us(l,i),MO(),h&&(fd(o,i,u),Ym(o,u,i)),r!==null&&ny(i,u),lS}function dS(){let t=Ot();Fm()?Ub():(t=t.parent,Bi(t,!1));let e=t;xO(e)&&kO(),NO();let n=ct();return n.firstCreatePass&&nS(n,e),e.classesWithoutHost!=null&&KO(e)&&KT(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&QO(e)&&KT(n,e,fe(),e.stylesWithoutHost,!1),dS}function gy(t,e,n,r){return lS(t,e,n,r),dS(),gy}var CV=(t,e,n,r,i,o)=>(cd(!0),RC(r,i,zO()));function SV(t,e,n,r,i){let o=e.consts,s=zr(o,r),a=wd(e,t,8,"ng-container",s);s!==null&&rm(a,s,!0);let u=zr(o,i);return Om()&&ly(e,n,a,u,ry),a.mergedAttrs=Xo(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function AV(t,e,n){let r=fe(),i=ct(),o=t+at,s=i.firstCreatePass?SV(o,i,r,e,n):i.data[o];Bi(s,!0);let a=MV(i,r,s,t);return r[o]=a,ad()&&md(i,r,a,s),us(a,r),id(s)&&(fd(i,r,s),Ym(i,s,r)),n!=null&&ny(r,s),AV}function RV(){let t=Ot(),e=ct();return Fm()?Ub():(t=t.parent,Bi(t,!1)),e.firstCreatePass&&(jm(e,t),Nm(t)&&e.queries.elementEnd(t)),RV}var MV=(t,e,n,r)=>(cd(!0),tF(e[qe],""));function HQ(){return fe()}var Ri=void 0;function NV(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var PV=["en",[["a","p"],["AM","PM"],Ri],[["AM","PM"],Ri,Ri],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ri,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ri,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ri,"{1} 'at' {0}",Ri],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",NV],Ag={};function Jt(t){let e=xV(t),n=JT(e);if(n)return n;let r=e.split("-")[0];if(n=JT(r),n)return n;if(r==="en")return PV;throw new B(701,!1)}function JT(t){return t in Ag||(Ag[t]=Fa.ng&&Fa.ng.common&&Fa.ng.common.locales&&Fa.ng.common.locales[t]),Ag[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ue||{});function xV(t){return t.toLowerCase().replace(/_/g,"-")}var Jl="en-US";var kV=Jl;function OV(t){typeof t=="string"&&(kV=t.toLowerCase().replace(/_/g,"-"))}function XT(t,e,n,r){return function i(o){if(o===Function)return r;let s=os(t)?Rn(t.index,e):e;uy(s,5);let a=eb(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=eb(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function eb(t,e,n,r){let i=re(null);try{return De(6,e,n),n(r)!==!1}catch(o){return FV(t,o),!1}finally{De(7,e,n),re(i)}}function FV(t,e){let n=t[Yo],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function tb(t,e,n,r,i,o,s,a,u){let l=n[r],p=e.data[r].outputs[i],y=l[p].subscribe(s),E=a.length;a.push(s,y),u&&u.push(o,t.index,E,-(E+1))}var LV=(t,e,n)=>{};function lr(t,e,n,r){let i=fe(),o=ct(),s=Ot();return hS(o,i,i[qe],s,t,e,r),lr}function VV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Pl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function hS(t,e,n,r,i,o,s){let a=id(r),l=t.firstCreatePass?AO(t):null,h=e[Je],p=SO(e),g=!0;if(r.type&3||s){let y=Pn(r,e),E=s?s(y):y,R=p.length,M=s?U=>s(An(U[r.index])):r.index,O=null;if(!s&&a&&(O=VV(t,e,i,r.index)),O!==null){let U=O.__ngLastListenerFn__||O;U.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,g=!1}else{o=XT(r,e,h,o),LV(E,i,o);let U=n.listen(E,i,o);p.push(o,U),l&&l.push(i,M,R,R+1)}}else o=XT(r,e,h,o);if(g){let y=r.outputs?.[i],E=r.hostDirectiveOutputs?.[i];if(E&&E.length)for(let R=0;R<E.length;R+=2){let M=E[R],O=E[R+1];tb(r,t,e,M,O,i,o,p,l)}if(y&&y.length)for(let R of y)tb(r,t,e,R,i,i,o,p,l)}}function qQ(t=1){return HO(t)}function UV(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function zQ(t,e=""){let n=fe(),r=ct(),i=t+at,o=r.firstCreatePass?wd(r,i,1,e,null):r.data[i],s=jV(r,n,o,e,t);n[i]=s,ad()&&md(r,n,s,o),Bi(o,!1)}var jV=(t,e,n,r,i)=>(cd(!0),X1(e[qe],r));function BV(t){return fS("",t,""),BV}function fS(t,e,n){let r=fe(),i=iV(r,t,e,n);return i!==gn&&pS(r,Kr(),i),fS}function $V(t,e,n,r,i){let o=fe(),s=oV(o,t,e,n,r,i);return s!==gn&&pS(o,Kr(),s),$V}function pS(t,e,n){let r=kb(e,t);eF(t[qe],r,n)}function HV(t,e,n){hC(e)&&(e=e());let r=fe(),i=ss();if(hn(r,i,e)){let o=ct(),s=Um();FC(o,s,r,t,e,r[qe],n,!1)}return HV}function GQ(t,e){let n=hC(t);return n&&t.set(e),n}function qV(t,e){let n=fe(),r=ct(),i=Ot();return hS(r,n,n[qe],i,t,e),qV}function zV(t,e,n){let r=ct();if(r.firstCreatePass){let i=Sn(t);ym(n,r.data,r.blueprint,i,!0),ym(e,r.data,r.blueprint,i,!1)}}function ym(t,e,n,r,i){if(t=Tt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ym(t[o],e,n,r,i);else{let o=ct(),s=fe(),a=Ot(),u=Qo(t)?t:Tt(t.provide),l=bb(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Qo(t)||!t.multi){let y=new Vi(l,i,J),E=Mg(u,e,i?h:h+g,p);E===-1?(Hg(jl(a,s),o,u),Rg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[E]=y,s[E]=y)}else{let y=Mg(u,e,h+g,p),E=Mg(u,e,h,h+g),R=y>=0&&n[y],M=E>=0&&n[E];if(i&&!M||!i&&!R){Hg(jl(a,s),o,u);let O=KV(i?WV:GV,n.length,i,r,l);!i&&M&&(n[E].providerFactory=O),Rg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=gS(n[i?E:y],l,!i&&r);Rg(o,t,y>-1?y:E,O)}!i&&r&&M&&n[E].componentProviders++}}}function Rg(t,e,n,r){let i=Qo(e),o=fO(e);if(i||o){let u=(o?Tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function gS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function GV(t,e,n,r){return vm(this.multi,[])}function WV(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Bl(n,n[le],this.providerFactory.index,r);o=a.slice(0,s),vm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],vm(i,o);return o}function vm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function KV(t,e,n,r,i){let o=new Vi(t,n,J);return o.multi=[],o.index=e,o.componentProviders=0,gS(o,i,r&&!n),o}function kn(t,e=[]){return n=>{n.providersResolver=(r,i)=>zV(r,i?i(t):t,e)}}function WQ(t,e,n){let r=sd()+t,i=fe();return i[r]===gn?Td(i,r,n?e.call(n):e()):WL(i,r)}function my(t,e){let n=t[e];return n===gn?void 0:n}function QV(t,e,n,r,i,o){let s=e+n;return hn(t,s,i)?Td(t,s+1,o?r.call(o,i):r(i)):my(t,s+1)}function YV(t,e,n,r,i,o,s){let a=e+n;return hy(t,a,i,o)?Td(t,a+2,s?r.call(s,i,o):r(i,o)):my(t,a+2)}function ZV(t,e,n,r,i,o,s,a){let u=e+n;return KL(t,u,i,o,s)?Td(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):my(t,u+3)}function KQ(t,e){let n=ct(),r,i=t+at;n.firstCreatePass?(r=JV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Pi(r.type,!0)),s,a=xt(J);try{let u=Ul(!1),l=o();return Ul(u),UV(n,fe(),i,l),l}finally{xt(a)}}function JV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function QQ(t,e,n){let r=t+at,i=fe(),o=xm(i,r);return yy(i,r)?QV(i,sd(),e,o.transform,n,o):o.transform(n)}function YQ(t,e,n,r){let i=t+at,o=fe(),s=xm(o,i);return yy(o,i)?YV(o,sd(),e,s.transform,n,r,s):s.transform(n,r)}function ZQ(t,e,n,r,i){let o=t+at,s=fe(),a=xm(s,o);return yy(s,o)?ZV(s,sd(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function yy(t,e){return t[le].data[e].pure}var ir=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},mS=new ir("19.2.4"),_m=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Rd=(()=>{class t{compileModuleSync(n){return new sm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ib(n),o=SC(i.declarations).reduce((s,a)=>{let u=ki(a);return u&&s.push(new ts(u)),s},[]);return new _m(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var XV=(()=>{class t{zone=P(ve);changeDetectionScheduler=P(Ui);applicationRef=P(Gr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eU({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(te(k({},tU()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:Ko,multi:!0,useFactory:()=>{let r=P(XV,{optional:!0});return()=>r.initialize()}},{provide:Ko,multi:!0,useFactory:()=>{let r=P(nU);return()=>{r.initialize()}}},e===!0?{provide:aC,useValue:!0}:[],{provide:cC,useValue:n??sC}]}function tU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nU=(()=>{class t{subscription=new Fe;initialized=!1;zone=P(ve);pendingTasks=P($i);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rU=(()=>{class t{appRef=P(Gr);taskService=P($i);ngZone=P(ve);zonelessEnabled=P($m);tracing=P(ls,{optional:!0});disableScheduling=P(aC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(cC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Kg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?xT:uC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iU(){return typeof $localize<"u"&&$localize.locale||Jl}var Md=new j("",{providedIn:"root",factory:()=>P(Md,se.Optional|se.SkipSelf)||iU()});var wm=new j(""),oU=new j("");function Oa(t){return!t.moduleRef}function sU(t){let e=Oa(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Oa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Oa(t)){let o=()=>e.destroy(),s=t.platformInjector.get(wm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(wm);s.add(o),t.moduleRef.onDestroy(()=>{bl(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return cU(r,n,()=>{let o=e.get(uS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Md,Jl);if(OV(s||Jl),!e.get(oU,!0))return Oa(t)?e.get(Gr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Oa(t)){let u=e.get(Gr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return aU(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function aU(t,e){let n=t.injector.get(Gr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}function cU(t,e,n){try{let r=n();return Yr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Cl=null;function uU(t=[],e){return Pe.create({name:e,providers:[{provide:nd,useValue:"platform"},{provide:wm,useValue:new Set([()=>Cl=null])},...t]})}function lU(t=[]){if(Cl)return Cl;let e=uU(t);return Cl=e,eV(),dU(e),e}function dU(t){let e=t.get(Gm,null);mt(t,()=>{e?.forEach(n=>n())})}function vy(){return!1}var Zr=(()=>{class t{static __NG_ELEMENT_ID__=hU}return t})();function hU(t){return fU(Ot(),fe(),(t&16)===16)}function fU(t,e,n){if(os(t)&&!n){let r=Rn(t.index,e);return new za(r,r)}else if(t.type&175){let r=e[dn];return new za(r,e)}return null}var Im=class{constructor(){}supports(e){return aS(e)}create(e){return new Em(e)}},pU=(t,e)=>e,Em=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||pU}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<nb(r,i,o)?n:r,a=nb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,E=y+g;h<=E&&E<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!aS(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,zL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Dm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Xl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Tm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Xl=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Tm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function rb(){return new _y([new Im])}var _y=(()=>{class t{factories;static \u0275prov=$({token:t,providedIn:"root",factory:rb});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||rb()),deps:[[t,new rO,new Xe]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new B(901,!1)}}return t})();function yS(t){De(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=lU(r),o=[eU({}),{provide:Ui,useExisting:rU},...n||[]],s=new Kl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return sU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function Nd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Xt(t){return pg(t)}function hs(t,e){return lg(t,e?.equal)}var ib=class{[Kt];constructor(e){this[Kt]=e}destroy(){this[Kt].destroy()}};function vS(t){let e=ki(t);if(!e)return null;let n=new ts(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var TS=null;function fr(){return TS}function bS(t){TS??=t}var jd=class{};var Lt=new j(""),Ay=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(mU),providedIn:"platform"})}return t})(),CS=new j(""),mU=(()=>{class t extends Ay{_location;_history;_doc=P(Lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fr().getBaseHref(this._doc)}onPopState(n){let r=fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ry(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function _S(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function hr(t){return t&&t[0]!=="?"?`?${t}`:t}var zi=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(My),providedIn:"root"})}return t})(),SS=new j(""),My=(()=>{class t extends zi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ry(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+hr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+hr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Z(Ay),Z(SS,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AS=(()=>{class t extends zi{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ry(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+hr(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+hr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Z(Ay),Z(SS,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),fs=(()=>{class t{_subject=new et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=_U(_S(wS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+hr(r))}normalize(n){return t.stripTrailingSlash(vU(this._basePath,wS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=hr;static joinWithSlash=Ry;static stripTrailingSlash=_S;static \u0275fac=function(r){return new(r||t)(Z(zi))};static \u0275prov=$({token:t,factory:()=>yU(),providedIn:"root"})}return t})();function yU(){return new fs(Z(zi))}function vU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function wS(t){return t.replace(/\/index.html$/,"")}function _U(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var At=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(At||{}),Ce=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ce||{}),jt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(jt||{}),Jr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function wU(t){return Jt(t)[Ue.LocaleId]}function IU(t,e,n){let r=Jt(t),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],o=en(i,e);return en(o,n)}function EU(t,e,n){let r=Jt(t),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],o=en(i,e);return en(o,n)}function DU(t,e,n){let r=Jt(t),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],o=en(i,e);return en(o,n)}function TU(t,e){let r=Jt(t)[Ue.Eras];return en(r,e)}function Pd(t,e){let n=Jt(t);return en(n[Ue.DateFormat],e)}function xd(t,e){let n=Jt(t);return en(n[Ue.TimeFormat],e)}function kd(t,e){let r=Jt(t)[Ue.DateTimeFormat];return en(r,e)}function Hd(t,e){let n=Jt(t),r=n[Ue.NumberSymbols][e];if(typeof r>"u"){if(e===Jr.CurrencyDecimal)return n[Ue.NumberSymbols][Jr.Decimal];if(e===Jr.CurrencyGroup)return n[Ue.NumberSymbols][Jr.Group]}return r}function RS(t){if(!t[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bU(t){let e=Jt(t);return RS(e),(e[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?wy(r):[wy(r[0]),wy(r[1])])}function CU(t,e,n){let r=Jt(t);RS(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],o=en(i,e)||[];return en(o,n)||[]}function en(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function wy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var SU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Od={},AU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function RU(t,e,n,r){let i=VU(t);e=dr(n,e)||e;let s=[],a;for(;e;)if(a=AU.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=NS(r,u),i=LU(i,r));let l="";return s.forEach(h=>{let p=OU(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Bd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function dr(t,e){let n=wU(t);if(Od[n]??={},Od[n][e])return Od[n][e];let r="";switch(e){case"shortDate":r=Pd(t,jt.Short);break;case"mediumDate":r=Pd(t,jt.Medium);break;case"longDate":r=Pd(t,jt.Long);break;case"fullDate":r=Pd(t,jt.Full);break;case"shortTime":r=xd(t,jt.Short);break;case"mediumTime":r=xd(t,jt.Medium);break;case"longTime":r=xd(t,jt.Long);break;case"fullTime":r=xd(t,jt.Full);break;case"short":let i=dr(t,"shortTime"),o=dr(t,"shortDate");r=Fd(kd(t,jt.Short),[i,o]);break;case"medium":let s=dr(t,"mediumTime"),a=dr(t,"mediumDate");r=Fd(kd(t,jt.Medium),[s,a]);break;case"long":let u=dr(t,"longTime"),l=dr(t,"longDate");r=Fd(kd(t,jt.Long),[u,l]);break;case"full":let h=dr(t,"fullTime"),p=dr(t,"fullDate");r=Fd(kd(t,jt.Full),[h,p]);break}return r&&(Od[n][e]=r),r}function Fd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function mn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function MU(t,e){return mn(t,3).substring(0,e)}function ze(t,e,n=0,r=!1,i=!1){return function(o,s){let a=NU(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return MU(a,e);let u=Hd(s,Jr.MinusSign);return mn(a,e,u,r,i)}}function NU(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ae(t,e,n=At.Format,r=!1){return function(i,o){return PU(i,o,t,e,n,r)}}function PU(t,e,n,r,i,o){switch(n){case 2:return DU(e,i,r)[t.getMonth()];case 1:return EU(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=bU(e),h=CU(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,E]=g,R=s>=y.hours&&a>=y.minutes,M=s<E.hours||s===E.hours&&a<E.minutes;if(y.hours<E.hours){if(R&&M)return!0}else if(R||M)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return IU(e,i,r)[s<12?0:1];case 3:return TU(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Ld(t){return function(e,n,r){let i=-1*r,o=Hd(n,Jr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+mn(s,2,o)+mn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+mn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+mn(s,2,o)+":"+mn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+mn(s,2,o)+":"+mn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var xU=0,Ud=4;function kU(t){let e=Bd(t,xU,1).getDay();return Bd(t,0,1+(e<=Ud?Ud:Ud+7)-e)}function MS(t){let e=t.getDay(),n=e===0?-3:Ud-e;return Bd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Iy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=MS(n),s=kU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return mn(i,t,Hd(r,Jr.MinusSign))}}function Vd(t,e=!1){return function(n,r){let o=MS(n).getFullYear();return mn(o,t,Hd(r,Jr.MinusSign),e)}}var Ey={};function OU(t){if(Ey[t])return Ey[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ae(3,Ce.Abbreviated);break;case"GGGG":e=Ae(3,Ce.Wide);break;case"GGGGG":e=Ae(3,Ce.Narrow);break;case"y":e=ze(0,1,0,!1,!0);break;case"yy":e=ze(0,2,0,!0,!0);break;case"yyy":e=ze(0,3,0,!1,!0);break;case"yyyy":e=ze(0,4,0,!1,!0);break;case"Y":e=Vd(1);break;case"YY":e=Vd(2,!0);break;case"YYY":e=Vd(3);break;case"YYYY":e=Vd(4);break;case"M":case"L":e=ze(1,1,1);break;case"MM":case"LL":e=ze(1,2,1);break;case"MMM":e=Ae(2,Ce.Abbreviated);break;case"MMMM":e=Ae(2,Ce.Wide);break;case"MMMMM":e=Ae(2,Ce.Narrow);break;case"LLL":e=Ae(2,Ce.Abbreviated,At.Standalone);break;case"LLLL":e=Ae(2,Ce.Wide,At.Standalone);break;case"LLLLL":e=Ae(2,Ce.Narrow,At.Standalone);break;case"w":e=Iy(1);break;case"ww":e=Iy(2);break;case"W":e=Iy(1,!0);break;case"d":e=ze(2,1);break;case"dd":e=ze(2,2);break;case"c":case"cc":e=ze(7,1);break;case"ccc":e=Ae(1,Ce.Abbreviated,At.Standalone);break;case"cccc":e=Ae(1,Ce.Wide,At.Standalone);break;case"ccccc":e=Ae(1,Ce.Narrow,At.Standalone);break;case"cccccc":e=Ae(1,Ce.Short,At.Standalone);break;case"E":case"EE":case"EEE":e=Ae(1,Ce.Abbreviated);break;case"EEEE":e=Ae(1,Ce.Wide);break;case"EEEEE":e=Ae(1,Ce.Narrow);break;case"EEEEEE":e=Ae(1,Ce.Short);break;case"a":case"aa":case"aaa":e=Ae(0,Ce.Abbreviated);break;case"aaaa":e=Ae(0,Ce.Wide);break;case"aaaaa":e=Ae(0,Ce.Narrow);break;case"b":case"bb":case"bbb":e=Ae(0,Ce.Abbreviated,At.Standalone,!0);break;case"bbbb":e=Ae(0,Ce.Wide,At.Standalone,!0);break;case"bbbbb":e=Ae(0,Ce.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ae(0,Ce.Abbreviated,At.Format,!0);break;case"BBBB":e=Ae(0,Ce.Wide,At.Format,!0);break;case"BBBBB":e=Ae(0,Ce.Narrow,At.Format,!0);break;case"h":e=ze(3,1,-12);break;case"hh":e=ze(3,2,-12);break;case"H":e=ze(3,1);break;case"HH":e=ze(3,2);break;case"m":e=ze(4,1);break;case"mm":e=ze(4,2);break;case"s":e=ze(5,1);break;case"ss":e=ze(5,2);break;case"S":e=ze(6,1);break;case"SS":e=ze(6,2);break;case"SSS":e=ze(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ld(0);break;case"ZZZZZ":e=Ld(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ld(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ld(2);break;default:return null}return Ey[t]=e,e}function NS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function FU(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function LU(t,e,n){let i=t.getTimezoneOffset(),o=NS(e,i);return FU(t,-1*(o-i))}function VU(t){if(IS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Bd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(SU))return UU(r)}let e=new Date(t);if(!IS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function UU(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function IS(t){return t instanceof Date&&!isNaN(t.valueOf())}function PS(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dy=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},TY=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Dy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ES(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ES(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(ds),J(_d),J(_y))};static \u0275dir=xe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function ES(t,e){t.context.$implicit=e.item}var bY=(()=>{class t{_viewContainer;_context=new Ty;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){DS(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){DS(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(ds),J(_d))};static \u0275dir=xe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ty=class{$implicit=null;ngIf=null};function DS(t,e){if(t&&!t.createEmbeddedView)throw new B(2020,!1)}function Ny(t,e){return new B(2100,!1)}var by=class{createSubscription(e,n){return Xt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Xt(()=>e.unsubscribe())}},Cy=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},jU=new Cy,BU=new by,CY=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Yr(n))return jU;if(py(n))return BU;throw Ny(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(J(Zr,16))};static \u0275pipe=Dd({name:"async",type:t,pure:!1})}return t})();var $U="mediumDate",HU=new j(""),qU=new j(""),SY=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??$U,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return RU(n,s,o||this.locale,a)}catch(s){throw Ny(t,s.message)}}static \u0275fac=function(r){return new(r||t)(J(Md,16),J(HU,24),J(qU,24))};static \u0275pipe=Dd({name:"date",type:t,pure:!0})}return t})();var AY=(()=>{class t{transform(n,r,i){if(n==null)return null;if(!(typeof n=="string"||Array.isArray(n)))throw Ny(t,n);return n.slice(r,i)}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Dd({name:"slice",type:t,pure:!1})}return t})();var zU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ur({type:t});static \u0275inj=or({})}return t})(),xS="browser",GU="server";function Py(t){return t===GU}var kS=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new Sy(P(Lt),window)})}return t})(),Sy=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=WU(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function WU(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var $d=class{};var ky=class extends jd{supportsDOMEvents=!0},Oy=class t extends ky{static makeCurrent(){bS(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=KU();return n==null?null:QU(n)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return PS(document.cookie,e)}},Xa=null;function KU(){return Xa=Xa||document.querySelector("base"),Xa?Xa.getAttribute("href"):null}function QU(t){return new URL(t,document.baseURI).pathname}var YU=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Fy=new j(""),jS=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Z(Fy),Z(ve))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),zd=class{_doc;constructor(e){this._doc=e}manager},qd="ng-app-id";function OS(t){for(let e of t)e.remove()}function FS(t,e){let n=e.createElement("style");return n.textContent=t,n}function ZU(t,e,n,r){let i=t.head?.querySelectorAll(`style[${qd}="${e}"],link[${qd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ly(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var BS=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Py(o),ZU(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,FS);r?.forEach(i=>this.addUsage(i,this.external,Ly))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(OS(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])OS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,FS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ly(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qd,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Z(Lt),Z(zm),Z(Wm,8),Z(Hi))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),xy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uy=/%COMP%/g;var $S="%COMP%",JU=`_nghost-${$S}`,XU=`_ngcontent-${$S}`,e2=!0,t2=new j("",{providedIn:"root",factory:()=>e2});function n2(t){return XU.replace(Uy,t)}function r2(t){return JU.replace(Uy,t)}function HS(t,e){return e.map(n=>n.replace(Uy,t))}var LS=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Py(a),this.defaultRenderer=new ec(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Nn.ShadowDom&&(r=te(k({},r),{encapsulation:Nn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Gd?i.applyToHost(n):i instanceof tc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Nn.Emulated:o=new Gd(u,l,r,this.appId,h,s,a,p,g);break;case Nn.ShadowDom:return new Vy(u,l,n,r,s,a,this.nonce,p,g);default:o=new tc(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Z(jS),Z(BS),Z(zm),Z(t2),Z(Lt),Z(Hi),Z(ve),Z(Wm),Z(ls,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),ec=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(xy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(VS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=xy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=xy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(rr.DashCase|rr.Important)?e.style.setProperty(n,r,i&rr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&rr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=fr().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function VS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vy=class extends ec{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=HS(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=Ly(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tc=class extends ec{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?HS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gd=class extends tc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=n2(h),this.hostAttr=r2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},i2=(()=>{class t extends zd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Z(Lt))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),US=["alt","control","meta","shift"],o2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},a2=(()=>{class t extends zd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),US.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=o2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),US.forEach(s=>{if(s!==i){let a=s2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Z(Lt))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function eZ(t,e){return yS(k({rootComponent:t},c2(e)))}function c2(t){return{appProviders:[...f2,...t?.providers??[]],platformProviders:h2}}function u2(){Oy.makeCurrent()}function l2(){return new Mn}function d2(){return _C(document),document}var h2=[{provide:Hi,useValue:xS},{provide:Gm,useValue:u2,multi:!0},{provide:Lt,useFactory:d2,deps:[]}];var f2=[{provide:nd,useValue:"root"},{provide:Mn,useFactory:l2,deps:[]},{provide:Fy,useClass:i2,multi:!0,deps:[Lt]},{provide:Fy,useClass:a2,multi:!0,deps:[Lt]},LS,BS,jS,{provide:es,useExisting:LS},{provide:$d,useClass:YU,deps:[]},[]];var qS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Z(Lt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ne="primary",gc=Symbol("RouteTitle"),qy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new qy(t)}function g2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function m2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!On(t[n],e[n]))return!1;return!0}function On(t,e){let n=t?zy(t):void 0,r=e?zy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eA(t[i],e[i]))return!1;return!0}function zy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tA(t){return t.length>0?t[t.length-1]:null}function ei(t){return Kp(t)?t:Yr(t)?Me(Promise.resolve(t)):W(t)}var y2={exact:rA,subset:iA},nA={exact:v2,subset:_2,ignored:()=>!0};function zS(t,e,n){return y2[n.paths](t.root,e.root,n.matrixParams)&&nA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function v2(t,e){return On(t,e)}function rA(t,e,n){if(!Wi(t.segments,e.segments)||!Qd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rA(t.children[r],e.children[r],n))return!1;return!0}function _2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eA(t[n],e[n]))}function iA(t,e,n){return oA(t,e,e.segments,n)}function oA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Wi(i,n)||e.hasChildren()||!Qd(i,n,r))}else if(t.segments.length===n.length){if(!Wi(t.segments,n)||!Qd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Wi(t.segments,i)||!Qd(t.segments,i,r)||!t.children[ne]?!1:oA(t.children[ne],e,o,r)}}function Qd(t,e,n){return e.every((r,i)=>nA[n](t[i].parameters,r.parameters))}var gr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return E2.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yd(this)}},Gi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return aA(this)}};function w2(t,e){return Wi(t,e)&&t.every((n,r)=>On(n.parameters,e[r].parameters))}function Wi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function I2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var mc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new ws,providedIn:"root"})}return t})(),ws=class{parse(e){let n=new Wy(e);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nc(e.root,!0)}`,r=b2(e.queryParams),i=typeof e.fragment=="string"?`#${D2(e.fragment)}`:"";return`${n}${r}${i}`}},E2=new ws;function Yd(t){return t.segments.map(e=>aA(e)).join("/")}function nc(t,e){if(!t.hasChildren())return Yd(t);if(e){let n=t.children[ne]?nc(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${nc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=I2(t,(r,i)=>i===ne?[nc(t.children[ne],!1)]:[`${i}:${nc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Yd(t)}/${n[0]}`:`${Yd(t)}/(${n.join("//")})`}}function sA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wd(t){return sA(t).replace(/%3B/gi,";")}function D2(t){return encodeURI(t)}function Gy(t){return sA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(t){return decodeURIComponent(t)}function GS(t){return Zd(t.replace(/\+/g,"%20"))}function aA(t){return`${Gy(t.path)}${T2(t.parameters)}`}function T2(t){return Object.entries(t).map(([e,n])=>`;${Gy(e)}=${Gy(n)}`).join("")}function b2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wd(n)}=${Wd(i)}`).join("&"):`${Wd(n)}=${Wd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var C2=/^[^\/()?;#]+/;function jy(t){let e=t.match(C2);return e?e[0]:""}var S2=/^[^\/()?;=#]+/;function A2(t){let e=t.match(S2);return e?e[0]:""}var R2=/^[^=?&#]+/;function M2(t){let e=t.match(R2);return e?e[0]:""}var N2=/^[^&#]+/;function P2(t){let e=t.match(N2);return e?e[0]:""}var Wy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new _e(e,n)),r}parseSegment(){let e=jy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Gi(Zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=A2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jy(this.remaining);i&&(r=i,this.capture(r))}e[Zd(n)]=Zd(r)}parseQueryParam(e){let n=M2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=P2(this.remaining);s&&(r=s,this.capture(r))}let i=GS(n),o=GS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function cA(t){return t.segments.length>0?new _e([],{[ne]:t}):t}function uA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=uA(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new _e(t.segments,e);return x2(n)}function x2(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new _e(t.segments.concat(e.segments),e.children)}return t}function sc(t){return t instanceof gr}function k2(t,e,n=null,r=null){let i=lA(t);return dA(i,e,n,r)}function lA(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new _e(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cA(r);return e??i}function dA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return By(i,i,i,n,r);let o=O2(e);if(o.toRoot())return By(i,i,new _e([],{}),n,r);let s=F2(o,i,t),a=s.processChildren?ic(s.segmentGroup,s.index,o.commands):fA(s.segmentGroup,s.index,o.commands);return By(i,s.segmentGroup,a,n,r)}function Xd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ac(t){return typeof t=="object"&&t!=null&&t.outlets}function By(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=hA(t,e,n);let a=cA(uA(s));return new gr(a,o,i)}function hA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=hA(o,e,n)}),new _e(t.segments,r)}var eh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xd(r[0]))throw new B(4003,!1);let i=r.find(ac);if(i&&i!==tA(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function O2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new eh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new eh(n,e,r)}var ms=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function F2(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=Xd(t.commands[0])?0:1,i=n.segments.length-1+r;return L2(n,i,t.numberOfDoubleDots)}function L2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new ms(r,!1,i-o)}function V2(t){return ac(t[0])?t[0].outlets:{[ne]:t}}function fA(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return ic(t,e,n);let r=U2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new _e(t.segments.slice(r.pathIndex),t.children),ic(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?Ky(t,e,n):r.match?ic(t,0,i):Ky(t,e,n)}function ic(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=V2(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=ic(t.children[ne],e,n);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function U2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ac(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!KS(u,l,s))return o;r+=2}else{if(!KS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ky(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ac(o)){let u=j2(o.outlets);return new _e(r,u)}if(i===0&&Xd(n[0])){let u=t.segments[e];r.push(new Gi(u.path,WS(n[0]))),i++;continue}let s=ac(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xd(a)?(r.push(new Gi(s,WS(a))),i+=2):(r.push(new Gi(s,{})),i++)}return new _e(r,{})}function j2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ky(new _e([],{}),0,r))}),e}function WS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KS(t,e,n){return t==n.path&&On(e,n.parameters)}var Jd="imperative",tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(tt||{}),tn=class{id;url;constructor(e,n){this.id=e,this.url=n}},Is=class extends tn{type=tt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mr=class extends tn{urlAfterRedirects;type=tt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($t||{}),th=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(th||{}),pr=class extends tn{reason;code;type=tt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends tn{reason;code;type=tt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},cc=class extends tn{error;target;type=tt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nh=class extends tn{urlAfterRedirects;state;type=tt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qy=class extends tn{urlAfterRedirects;state;type=tt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yy=class extends tn{urlAfterRedirects;state;shouldActivate;type=tt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zy=class extends tn{urlAfterRedirects;state;type=tt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jy=class extends tn{urlAfterRedirects;state;type=tt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xy=class{route;type=tt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ev=class{route;type=tt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tv=class{snapshot;type=tt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nv=class{snapshot;type=tt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rv=class{snapshot;type=tt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iv=class{snapshot;type=tt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rh=class{routerEvent;position;anchor;type=tt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},uc=class{},Es=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function B2(t,e){return t.providers&&!t._injector&&(t._injector=Ed(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yn(t){return t.outlet||ne}function $2(t,e){let n=t.filter(r=>yn(r)===e);return n.push(...t.filter(r=>yn(r)!==e)),n}function yc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ov=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vc(this.rootInjector)}},vc=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ov(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Z(Ct))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ih=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=sv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=sv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=av(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return av(e,this._root).map(n=>n.value)}};function sv(t,e){if(t===e.value)return e;for(let n of e.children){let r=sv(t,n);if(r)return r}return null}function av(t,e){if(t===e.value)return[e];for(let n of e.children){let r=av(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var oh=class extends ih{snapshot;constructor(e,n){super(e),this.snapshot=n,mv(this,e)}toString(){return this.snapshot.toString()}};function pA(t){let e=H2(t),n=new Qe([new Gi("",{})]),r=new Qe({}),i=new Qe({}),o=new Qe({}),s=new Qe(""),a=new Ki(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new oh(new Bt(a,[]),e)}function H2(t){let e={},n={},r={},i="",o=new ys([],e,r,i,n,ne,t,null,{});return new ah("",new Bt(o,[]))}var Ki=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[gc]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&mA(i)&&(r.resolve[gc]=i.title),r}var ys=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ah=class extends ih{url;constructor(e,n){super(n),this.url=e,mv(this,n)}toString(){return gA(this._root)}};function mv(t,e){e.value._routerState=t,e.children.forEach(n=>mv(t,n))}function gA(t){let e=t.children.length>0?` { ${t.children.map(gA).join(", ")} } `:"";return`${t.value}${e}`}function $y(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,On(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),On(e.params,n.params)||t.paramsSubject.next(n.params),m2(e.url,n.url)||t.urlSubject.next(n.url),On(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cv(t,e){let n=On(t.params,e.params)&&w2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||cv(t.parent,e.parent))}function mA(t){return typeof t.title=="string"||t.title===null}var q2=new j(""),z2=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=dC(void 0);parentContexts=P(vc);location=P(ds);changeDetector=P(Zr);inputBinder=P(dh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new uv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=xe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wr]})}return t})(),uv=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ki?this.route:e===vc?this.childContexts:e===q2?this.outletData:this.parent.get(e,n)}},dh=new j(""),QS=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Aa([r.queryParams,r.params,r.data]).pipe(Wt(([o,s,a],u)=>(a=k(k(k({},o),s),a),u===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=vS(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function G2(t,e,n){let r=lc(t,e._root,n?n._root:void 0);return new oh(r,e)}function lc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=W2(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>lc(t,a)),s}}let r=K2(e.value),i=e.children.map(o=>lc(t,o));return new Bt(r,i)}}function W2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return lc(t,r,i);return lc(t,r)})}function K2(t){return new Ki(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var dc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yA="ngNavigationCancelingError";function ch(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vA(!1,$t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yA]=!0,n.cancellationCode=e,n}function Q2(t){return _A(t)&&sc(t.url)}function _A(t){return!!t&&t[yA]}var Y2=(t,e,n,r)=>oe(i=>(new lv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),lv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),$y(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new iv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if($y(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$y(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},uh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Z2(t,e,n){let r=t._root,i=e?e._root:null;return rc(r,i,n,[r.value])}function J2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ts(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lb(t)?t:e.get(t):r}function rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gs(e);return t.children.forEach(s=>{X2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>oc(a,n.getContext(s),i)),i}function X2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=ej(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?rc(t,e,a?a.children:null,r,i):rc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&oc(e,a,i),i.canActivateChecks.push(new uh(r)),o.component?rc(t,null,a?a.children:null,r,i):rc(t,null,n,r,i);return i}function ej(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(t.url,e.url)||!On(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cv(t,e)||!On(t.queryParams,e.queryParams);case"paramsChange":default:return!cv(t,e)}}function oc(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?oc(s,e.children.getContext(o),n):oc(s,null,n):oc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function _c(t){return typeof t=="function"}function tj(t){return typeof t=="boolean"}function nj(t){return t&&_c(t.canLoad)}function rj(t){return t&&_c(t.canActivate)}function ij(t){return t&&_c(t.canActivateChild)}function oj(t){return t&&_c(t.canDeactivate)}function sj(t){return t&&_c(t.canMatch)}function wA(t){return t instanceof cn||t?.name==="EmptyError"}var Kd=Symbol("INITIAL_VALUE");function Ds(){return Wt(t=>Aa(t.map(e=>e.pipe(Xn(1),hl(Kd)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===Kd)return Kd;if(n===!1||aj(n))return n}return!0}),Ut(e=>e!==Kd),Xn(1)))}function aj(t){return sc(t)||t instanceof dc}function cj(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(te(k({},n),{guardsResult:!0})):uj(s,r,i,t).pipe(He(a=>a&&tj(a)?lj(r,o,t,e):W(a)),oe(a=>te(k({},n),{guardsResult:a})))})}function uj(t,e,n,r){return Me(t).pipe(He(i=>gj(i.component,i.route,n,e,r)),er(i=>i!==!0,!0))}function lj(t,e,n,r){return Me(e).pipe(Ai(i=>Uo(hj(i.route.parent,r),dj(i.route,r),pj(t,i.path,n),fj(t,i.route,n))),er(i=>i!==!0,!0))}function dj(t,e){return t!==null&&e&&e(new rv(t)),W(!0)}function hj(t,e){return t!==null&&e&&e(new tv(t)),W(!0)}function fj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>cl(()=>{let s=yc(e)??n,a=Ts(o,s),u=rj(a)?a.canActivate(e,t):mt(s,()=>a(e,t));return ei(u).pipe(er())}));return W(i).pipe(Ds())}function pj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>J2(s)).filter(s=>s!==null).map(s=>cl(()=>{let a=s.guards.map(u=>{let l=yc(s.node)??n,h=Ts(u,l),p=ij(h)?h.canActivateChild(r,t):mt(l,()=>h(r,t));return ei(p).pipe(er())});return W(a).pipe(Ds())}));return W(o).pipe(Ds())}function gj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=yc(e)??i,l=Ts(a,u),h=oj(l)?l.canDeactivate(t,e,n,r):mt(u,()=>l(t,e,n,r));return ei(h).pipe(er())});return W(s).pipe(Ds())}function mj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Ts(s,t),u=nj(a)?a.canLoad(e,n):mt(t,()=>a(e,n));return ei(u)});return W(o).pipe(Ds(),IA(r))}function IA(t){return Hu(st(e=>{if(typeof e!="boolean")throw ch(t,e)}),oe(e=>e===!0))}function yj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Ts(s,t),u=sj(a)?a.canMatch(e,n):mt(t,()=>a(e,n));return ei(u)});return W(o).pipe(Ds(),IA(r))}var hc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},fc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ps(t){return Lo(new hc(t))}function vj(t){return Lo(new B(4e3,!1))}function _j(t){return Lo(vA(!1,$t.GuardRejected))}var dv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ne])return vj(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:E,title:R}=i,M=mt(o,()=>a({params:y,data:E,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:R}));if(M instanceof gr)throw new fc(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new fc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new gr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},hv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wj(t,e,n,r,i){let o=EA(t,e,n);return o.matched?(r=B2(e,r),yj(r,e,n,i).pipe(oe(s=>s===!0?o:k({},hv)))):W(o)}function EA(t,e,n){if(e.path==="**")return Ij(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},hv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||g2)(n,t,e);if(!i)return k({},hv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ij(t){return{matched:!0,parameters:t.length>0?tA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function YS(t,e,n,r){return n.length>0&&Tj(t,n,r)?{segmentGroup:new _e(e,Dj(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&bj(t,n,r)?{segmentGroup:new _e(t.segments,Ej(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function Ej(t,e,n,r){let i={};for(let o of n)if(hh(t,e,o)&&!r[yn(o)]){let s=new _e([],{});i[yn(o)]=s}return k(k({},r),i)}function Dj(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&yn(r)!==ne){let i=new _e([],{});n[yn(r)]=i}return n}function Tj(t,e,n){return n.some(r=>hh(t,e,r)&&yn(r)!==ne)}function bj(t,e,n){return n.some(r=>hh(t,e,r))}function hh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Cj(t,e,n){return e.length===0&&!t.children[n]}var fv=class{};function Sj(t,e,n,r,i,o,s="emptyOnly"){return new pv(t,e,n,r,i,s,o).recognize()}var Aj=31,pv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dv(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=YS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new Bt(r,n),o=new ah("",i),s=k2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(oe(r=>({children:r,rootSnapshot:n})),Br(r=>{if(r instanceof fc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof Bt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(Ai(s=>{let a=r.children[s],u=$2(n,s);return this.processSegmentGroup(e,u,a,s,i)}),dl((s,a)=>(s.push(...a),s)),$r(null),Yp(),He(s=>{if(s===null)return ps(r);let a=DA(s);return Rj(a),W(a)}))}processSegment(e,n,r,i,o,s,a){return Me(n).pipe(Ai(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Br(l=>{if(l instanceof hc)return W(null);throw l}))),er(u=>!!u),Br(u=>{if(wA(u))return Cj(r,i,o)?W(new fv):ps(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return yn(r)!==s&&(s===ne||!hh(i,o,r))?ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=EA(n,i,o);if(!u)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Aj&&(this.allowRedirects=!1));let y=new ys(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ZS(i),yn(i),i.component??i._loadedComponent??null,i,JS(i)),E=sh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(He(M=>this.processSegment(e,r,n,M.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=wj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,E=new ys(g,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ZS(r),yn(r),r.component??r._loadedComponent??null,r,JS(r)),R=sh(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data);let{segmentGroup:M,slicedSegments:O}=YS(n,g,y,l);if(O.length===0&&M.hasChildren())return this.processChildren(h,l,M,E).pipe(oe(H=>new Bt(E,H)));if(l.length===0&&O.length===0)return W(new Bt(E,[]));let U=yn(r)===o;return this.processSegment(h,l,M,O,U?ne:o,!0,E).pipe(oe(H=>new Bt(E,H instanceof Bt?[H]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):mj(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):_j(n))):W({routes:[],injector:e})}};function Rj(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function Mj(t){let e=t.value.routeConfig;return e&&e.path===""}function DA(t){let e=[],n=new Set;for(let r of t){if(!Mj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=DA(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function ZS(t){return t.data||{}}function JS(t){return t.resolve||{}}function Nj(t,e,n,r,i,o){return He(s=>Sj(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:u})=>te(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Pj(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of TA(u))s.add(l);let a=0;return Me(s).pipe(Ai(u=>o.has(u)?xj(u,r,t,e):(u.data=sh(u,u.parent,t).resolve,W(void 0))),st(()=>a++),jo(1),He(u=>a===s.size?W(n):Nt))})}function TA(t){let e=t.children.map(n=>TA(n)).flat();return[t,...e]}function xj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!mA(i)&&(o[gc]=i.title),kj(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=sh(t,t.parent,n).resolve,null)))}function kj(t,e,n,r){let i=zy(t);if(i.length===0)return W({});let o={};return Me(i).pipe(He(s=>Oj(t[s],e,n,r).pipe(er(),st(a=>{if(a instanceof dc)throw ch(new ws,a);o[s]=a}))),jo(1),oe(()=>o),Br(s=>wA(s)?Nt:Lo(s)))}function Oj(t,e,n,r){let i=yc(e)??r,o=Ts(t,i),s=o.resolve?o.resolve(e,n):mt(i,()=>o(e,n));return ei(s)}function Hy(t){return Wt(e=>{let n=t(e);return n?Me(n).pipe(oe(()=>e)):W(e)})}var bA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[gc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(Fj),providedIn:"root"})}return t})(),Fj=(()=>{class t extends bA{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Z(qS))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wc=new j("",{providedIn:"root",factory:()=>({})}),Lj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=iS({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&gy(0,"router-outlet")},dependencies:[z2],encapsulation:2})}return t})();function yv(t){let e=t.children&&t.children.map(yv),n=e?te(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=Lj),n}var pc=new j(""),vv=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Rd);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ei(n.loadComponent()).pipe(oe(CA),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ra(()=>{this.componentLoaders.delete(n)})),i=new xo(r,()=>new et).pipe(Po());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Vj(r,this.compiler,n,this.onLoadEndListener).pipe(Ra(()=>{this.childrenLoaders.delete(r)})),s=new xo(o,()=>new et).pipe(Po());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vj(t,e,n,r){return ei(t.loadChildren()).pipe(oe(CA),He(i=>i instanceof dy||Array.isArray(i)?W(i):Me(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(pc,[],{optional:!0,self:!0}).flat()),{routes:s.map(yv),injector:o}}))}function Uj(t){return t&&typeof t=="object"&&"default"in t}function CA(t){return Uj(t)?t.default:t}var _v=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(jj),providedIn:"root"})}return t})(),jj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SA=new j(""),AA=new j("");function Bj(t,e,n){let r=t.get(AA),i=t.get(Lt);return t.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),$j(t))),{onViewTransitionCreated:u}=r;return u&&mt(t,()=>u({transition:a,from:e,to:n})),s})}function $j(t){return new Promise(e=>{Qm({read:()=>setTimeout(e)},{injector:t})})}var RA=new j(""),wv=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new et;transitionAbortSubject=new et;configLoader=P(vv);environmentInjector=P(Ct);destroyRef=P(as);urlSerializer=P(mc);rootContexts=P(vc);location=P(fs);inputBindingEnabled=P(dh,{optional:!0})!==null;titleStrategy=P(bA);options=P(wc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(_v);createViewTransition=P(SA,{optional:!0});navigationErrorHandler=P(RA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Xy(i)),r=i=>this.events.next(new ev(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(te(k({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Qe(null),this.transitions.pipe(Ut(r=>r!==null),Wt(r=>{let i=!1,o=!1;return W(r).pipe(Wt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$t.SupersededByNewNavigation),Nt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?te(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.rawUrl),l,th.IgnoredSameUrlNavigation)),s.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(Wt(l=>(this.events.next(new Is(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Nt:Promise.resolve(l))),Nj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=te(k({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new nh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:y}=s,E=new Is(l,this.urlSerializer.serialize(h),p,g);this.events.next(E);let R=pA(this.rootComponentType).snapshot;return this.currentTransition=r=te(k({},s),{targetSnapshot:R,urlAfterRedirects:h,extras:te(k({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,th.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Nt}}),st(s=>{let a=new Qy(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),oe(s=>(this.currentTransition=r=te(k({},s),{guards:Z2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),cj(this.environmentInjector,s=>this.events.next(s)),st(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ch(this.urlSerializer,s.guardsResult);let a=new Yy(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ut(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",$t.GuardRejected),!1)),Hy(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(st(a=>{let u=new Zy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Wt(a=>{let u=!1;return W(a).pipe(Pj(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",$t.NoDataFromResolver)}}))}),st(a=>{let u=new Jy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Hy(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(st(h=>{u.component=h}),oe(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Aa(a(s.targetSnapshot.root)).pipe($r(null),Xn(1))}),Hy(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Me(u).pipe(oe(()=>r)):W(r)}),oe(s=>{let a=G2(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=te(k({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),st(()=>{this.events.next(new uc)}),Y2(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Xn(1),st({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Zp(this.transitionAbortSubject.pipe(st(s=>{throw s}))),Ra(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",$t.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Br(s=>{if(this.destroyed)return r.resolve(!1),Nt;if(o=!0,_A(s))this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Q2(s)?this.events.next(new Es(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new cc(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof dc){let{message:l,cancellationCode:h}=ch(this.urlSerializer,u);this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Es(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Nt}))}))}cancelNavigationTransition(n,r,i){let o=new pr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hj(t){return t!==Jd}var qj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(zj),providedIn:"root"})}return t})(),gv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},zj=(()=>{class t extends gv{static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(Gj),providedIn:"root"})}return t})(),Gj=(()=>{class t extends MA{location=P(fs);urlSerializer=P(mc);options=P(wc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=P(_v);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=pA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Is)this.stateMemento=this.createStateMemento();else if(n instanceof Xr)this.rawUrlTree=r.initialUrl;else if(n instanceof nh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof uc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof pr&&(n.code===$t.GuardRejected||n.code===$t.NoDataFromResolver)?this.restoreHistory(r):n instanceof cc?this.restoreHistory(r,!0):n instanceof mr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof gr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=k(k({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NA(t,e){t.events.pipe(Ut(n=>n instanceof mr||n instanceof pr||n instanceof cc||n instanceof Xr),oe(n=>n instanceof mr||n instanceof Xr?0:(n instanceof pr?n.code===$t.Redirect||n.code===$t.SupersededByNewNavigation:!1)?2:1),Ut(n=>n!==2),Xn(1)).subscribe(()=>{e()})}var Wj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(fy);stateManager=P(MA);options=P(wc,{optional:!0})||{};pendingTasks=P($i);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(wv);urlSerializer=P(mc);location=P(fs);urlHandlingStrategy=P(_v);_events=new et;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(qj);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(pc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(dh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==$t.Redirect&&r.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof mr)this.navigated=!0;else if(r instanceof Es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Hj(i.source)},s);this.scheduleNavigation(a,Jd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Yj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=lA(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return dA(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=sc(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Jd,null,r)}navigate(n,r={skipLocationChange:!1}){return Qj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},Wj):r===!1?i=k({},Kj):i=r,sc(n))return zS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return zS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return NA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function Yj(t){return!(t instanceof uc)&&!(t instanceof Es)}var lh=class{};var Zj=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(n=>n instanceof mr),Ai(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ed(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(Vo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let o=i.pipe(He(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Me([o,s]).pipe(Vo())}else return o})}static \u0275fac=function(r){return new(r||t)(Z(yr),Z(Rd),Z(Ct),Z(lh),Z(vv))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PA=new j(""),Jj=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Is?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof mr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Xr&&n.code===th.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rh&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rh(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){XC()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function TZ(t,...e){return fn([{provide:pc,multi:!0,useValue:t},[],{provide:Ki,useFactory:xA,deps:[yr]},{provide:Cd,multi:!0,useFactory:kA},e.map(n=>n.\u0275providers)])}function xA(t){return t.routerState.root}function Ic(t,e){return{\u0275kind:t,\u0275providers:e}}function kA(){let t=P(Pe);return e=>{let n=t.get(Gr);if(e!==n.components[0])return;let r=t.get(yr),i=t.get(OA);t.get(Iv)===1&&r.initialNavigation(),t.get(FA,null,se.Optional)?.setUpPreloading(),t.get(PA,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OA=new j("",{factory:()=>new et}),Iv=new j("",{providedIn:"root",factory:()=>1});function Xj(){return Ic(2,[{provide:Iv,useValue:0},{provide:bd,multi:!0,deps:[Pe],useFactory:e=>{let n=e.get(CS,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(yr),o=e.get(OA);NA(i,()=>{r(!0)}),e.get(wv).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}])}function eB(){return Ic(3,[{provide:bd,multi:!0,useFactory:()=>{let e=P(yr);return()=>{e.setUpLocationChangeListener()}}},{provide:Iv,useValue:2}])}var FA=new j("");function tB(t){return Ic(0,[{provide:FA,useExisting:Zj},{provide:lh,useExisting:t}])}function nB(){return Ic(8,[QS,{provide:dh,useExisting:QS}])}function rB(t){let e=[{provide:SA,useValue:Bj},{provide:AA,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ic(9,e)}var iB=[fs,{provide:mc,useClass:ws},yr,vc,{provide:Ki,useFactory:xA,deps:[yr]},vv,[]],bZ=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[iB,[],{provide:pc,multi:!0,useValue:n},[],r?.errorHandler?{provide:RA,useValue:r.errorHandler}:[],{provide:wc,useValue:r||{}},r?.useHash?sB():aB(),oB(),r?.preloadingStrategy?tB(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?cB(r):[],r?.bindToComponentInputs?nB().\u0275providers:[],r?.enableViewTransitions?rB().\u0275providers:[],uB()]}}static forChild(n){return{ngModule:t,providers:[{provide:pc,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ur({type:t});static \u0275inj=or({})}return t})();function oB(){return{provide:PA,useFactory:()=>{let t=P(kS),e=P(ve),n=P(wc),r=P(wv),i=P(mc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Jj(i,r,t,e,n)}}}function sB(){return{provide:zi,useClass:AS}}function aB(){return{provide:zi,useClass:My}}function cB(t){return[t.initialNavigation==="disabled"?eB().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Xj().\u0275providers:[]]}var XS=new j("");function uB(){return[{provide:XS,useFactory:kA},{provide:Cd,multi:!0,useExisting:XS}]}var WA=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(J(Qr),J(cr))};static \u0275dir=xe({type:t})}return t})(),Sc=(()=>{class t extends WA{static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275dir=xe({type:t,features:[Ft]})}return t})(),Zi=new j(""),lB={provide:Zi,useExisting:Zt(()=>dB),multi:!0},dB=(()=>{class t extends Sc{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275dir=xe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&lr("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[kn([lB]),Ft]})}return t})(),hB={provide:Zi,useExisting:Zt(()=>KA),multi:!0};function fB(){let t=fr()?fr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pB=new j(""),KA=(()=>{class t extends WA{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!fB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(J(Qr),J(cr),J(pB,8))};static \u0275dir=xe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&lr("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[kn([hB]),Ft]})}return t})();function Av(t){return t==null||Rv(t)===0}function Rv(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Eh=new j(""),Mv=new j(""),gB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,LA=class{static min(e){return QA(e)}static max(e){return mB(e)}static required(e){return yB(e)}static requiredTrue(e){return vB(e)}static email(e){return _B(e)}static minLength(e){return wB(e)}static maxLength(e){return IB(e)}static pattern(e){return EB(e)}static nullValidator(e){return ph()}static compose(e){return t0(e)}static composeAsync(e){return r0(e)}};function QA(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function mB(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function yB(t){return Av(t.value)?{required:!0}:null}function vB(t){return t.value===!0?null:{required:!0}}function _B(t){return Av(t.value)||gB.test(t.value)?null:{email:!0}}function wB(t){return e=>{let n=e.value?.length??Rv(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function IB(t){return e=>{let n=e.value?.length??Rv(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function EB(t){if(!t)return ph;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Av(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ph(t){return null}function YA(t){return t!=null}function ZA(t){return Yr(t)?Me(t):t}function JA(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function XA(t,e){return e.map(n=>n(t))}function DB(t){return!t.validate}function e0(t){return t.map(e=>DB(e)?e:n=>e.validate(n))}function t0(t){if(!t)return null;let e=t.filter(YA);return e.length==0?null:function(n){return JA(XA(n,e))}}function n0(t){return t!=null?t0(e0(t)):null}function r0(t){if(!t)return null;let e=t.filter(YA);return e.length==0?null:function(n){let r=XA(n,e).map(ZA);return Qp(r).pipe(oe(JA))}}function i0(t){return t!=null?r0(e0(t)):null}function VA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function o0(t){return t._rawValidators}function s0(t){return t._rawAsyncValidators}function Ev(t){return t?Array.isArray(t)?t:[t]:[]}function gh(t,e){return Array.isArray(t)?t.includes(e):t===e}function UA(t,e){let n=Ev(e);return Ev(t).forEach(i=>{gh(n,i)||n.push(i)}),n}function jA(t,e){return Ev(e).filter(n=>!gh(t,n))}var mh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=n0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=i0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qi=class extends mh{name;get formDirective(){return null}get path(){return null}},Yi=class extends mh{_parent=null;name=null;valueAccessor=null},yh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},TB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},HZ=te(k({},TB),{"[class.ng-submitted]":"isSubmitted"}),qZ=(()=>{class t extends yh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(J(Yi,2))};static \u0275dir=xe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ad("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ft]})}return t})(),zZ=(()=>{class t extends yh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(J(Qi,10))};static \u0275dir=xe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ad("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ft]})}return t})();var Ec="VALID",fh="INVALID",bs="PENDING",Dc="DISABLED",ti=class{},vh=class extends ti{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Tc=class extends ti{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},bc=class extends ti{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Cs=class extends ti{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Dv=class extends ti{source;constructor(e){super(),this.source=e}},Tv=class extends ti{source;constructor(e){super(),this.source=e}};function Nv(t){return(Dh(t)?t.validators:t)||null}function bB(t){return Array.isArray(t)?n0(t):t||null}function Pv(t,e){return(Dh(e)?e.asyncValidators:t)||null}function CB(t){return Array.isArray(t)?i0(t):t||null}function Dh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function a0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function c0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Ss=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xt(this.statusReactive)}set status(e){Xt(()=>this.statusReactive.set(e))}_status=hs(()=>this.statusReactive());statusReactive=cs(void 0);get valid(){return this.status===Ec}get invalid(){return this.status===fh}get pending(){return this.status==bs}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}errors;get pristine(){return Xt(this.pristineReactive)}set pristine(e){Xt(()=>this.pristineReactive.set(e))}_pristine=hs(()=>this.pristineReactive());pristineReactive=cs(!0);get dirty(){return!this.pristine}get touched(){return Xt(this.touchedReactive)}set touched(e){Xt(()=>this.touchedReactive.set(e))}_touched=hs(()=>this.touchedReactive());touchedReactive=cs(!1);get untouched(){return!this.touched}_events=new et;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jA(e,this._rawAsyncValidators))}hasValidator(e){return gh(this._rawValidators,e)}hasAsyncValidator(e){return gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new bc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new bc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Tc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Tc(!0,r))}markAsPending(e={}){this.status=bs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(i=>{i.disable(te(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vh(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ec,this._forEachChild(r=>{r.enable(te(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vh(this.value,n)),this._events.next(new Cs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ZA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?fh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(fh)?fh:Ec}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Tc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new bc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=CB(this._rawAsyncValidators)}},_h=class extends Ss{constructor(e,n,r){super(Nv(n),Pv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){c0(this,!0,e),Object.keys(e).forEach(r=>{a0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bv=class extends _h{};var Th=new j("",{providedIn:"root",factory:()=>bh}),bh="always";function u0(t,e){return[...e.path,t]}function Cv(t,e,n=bh){xv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),AB(t,e),MB(t,e),RB(t,e),SB(t,e)}function BA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ih(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function wh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function SB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function xv(t,e){let n=o0(t);e.validator!==null?t.setValidators(VA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=s0(t);e.asyncValidator!==null?t.setAsyncValidators(VA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();wh(e._rawValidators,i),wh(e._rawAsyncValidators,i)}function Ih(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=o0(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=s0(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return wh(e._rawValidators,r),wh(e._rawAsyncValidators,r),n}function AB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&l0(t,e)})}function RB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&l0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function l0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function MB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function NB(t,e){t==null,xv(t,e)}function PB(t,e){return Ih(t,e)}function d0(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function xB(t){return Object.getPrototypeOf(t.constructor)===Sc}function kB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function h0(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===KA?n=o:xB(o)?r=o:i=o}),i||r||n||null}function OB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $A(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function HA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Cc=class extends Ss{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Nv(n),Pv(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(HA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$A(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$A(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){HA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var FB=t=>t instanceof Cc;var LB={provide:Yi,useExisting:Zt(()=>VB)},qA=Promise.resolve(),VB=(()=>{class t extends Yi{_changeDetectorRef;callSetDisabledState;control=new Cc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ze;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=h0(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),d0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){qA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Nd(r);qA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?u0(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(J(Qi,9),J(Eh,10),J(Mv,10),J(Zi,10),J(Zr,8),J(Th,8))};static \u0275dir=xe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[kn([LB]),Ft,Wr]})}return t})();var WZ=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),UB={provide:Zi,useExisting:Zt(()=>jB),multi:!0},jB=(()=>{class t extends Sc{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275dir=xe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&lr("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[kn([UB]),Ft]})}return t})();var f0=new j("");var BB={provide:Qi,useExisting:Zt(()=>$B)},$B=(()=>{class t extends Qi{callSetDisabledState;get submitted(){return Xt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=hs(()=>this._submittedReactive());_submittedReactive=cs(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ih(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Cv(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){BA(n.control||null,n,!1),OB(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),kB(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Dv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Tv(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(BA(r||null,n),FB(i)&&(Cv(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);NB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&PB(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xv(this.form,this),this._oldForm&&Ih(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(J(Eh,10),J(Mv,10),J(Th,8))};static \u0275dir=xe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&lr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[kn([BB]),Ft,Wr]})}return t})();var HB={provide:Yi,useExisting:Zt(()=>qB)},qB=(()=>{class t extends Yi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=h0(this,o)}ngOnChanges(n){this._added||this._setUpControl(),d0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return u0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(J(Qi,13),J(Eh,10),J(Mv,10),J(Zi,10),J(f0,8))};static \u0275dir=xe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[kn([HB]),Ft,Wr]})}return t})();var zB={provide:Zi,useExisting:Zt(()=>g0),multi:!0};function p0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function GB(t){return t.split(":")[0]}var g0=(()=>{class t extends Sc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=p0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=GB(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275dir=xe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&lr("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[kn([zB]),Ft]})}return t})(),KZ=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(p0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(J(cr),J(Qr),J(g0,9))};static \u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),WB={provide:Zi,useExisting:Zt(()=>m0),multi:!0};function zA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function KB(t){return t.split(":")[0]}var m0=(()=>{class t extends Sc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=KB(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275dir=xe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&lr("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[kn([WB]),Ft]})}return t})(),QZ=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(zA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(zA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(J(cr),J(Qr),J(m0,9))};static \u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function QB(t){return typeof t=="number"?t:parseFloat(t)}var YB=(()=>{class t{_validator=ph;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ph,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=xe({type:t,features:[Wr]})}return t})();var ZB={provide:Eh,useExisting:Zt(()=>JB),multi:!0},JB=(()=>{class t extends YB{min;inputName="min";normalizeInput=n=>QB(n);createValidator=n=>QA(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=xn(t)))(i||t)}})();static \u0275dir=xe({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Sd("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[kn([ZB]),Ft]})}return t})();var y0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ur({type:t});static \u0275inj=or({})}return t})(),Sv=class extends Ss{constructor(e,n,r){super(Nv(n),Pv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){c0(this,!1,e),e.forEach((r,i)=>{a0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function GA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var YZ=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return GA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _h(i,o)}record(n,r=null){let i=this._reduceControls(n);return new bv(i,r)}control(n,r,i){let o={};return this.useNonNullable?(GA(r)?o=r:(o.validators=r,o.asyncValidators=i),new Cc(n,te(k({},o),{nonNullable:!0}))):new Cc(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Sv(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Cc)return n;if(n instanceof Ss)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Th,useValue:n.callSetDisabledState??bh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ur({type:t});static \u0275inj=or({imports:[y0]})}return t})(),JZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:f0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Th,useValue:n.callSetDisabledState??bh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ur({type:t});static \u0275inj=or({imports:[y0]})}return t})();var v0=()=>{};var I0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ov;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let E=l<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ov=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},e$=function(t){let e=I0(t);return Ch.encodeByteArray(e,!0)},Rc=function(t){return e$(t).replace(/\./g,"")},Sh=function(t){try{return Ch.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var t$=()=>Lv().__FIREBASE_DEFAULTS__,n$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sh(t[1]);return e&&JSON.parse(e)},Ah=()=>{try{return v0()||t$()||n$()||r$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vv=t=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rh=t=>{let e=Vv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Uv=()=>{var t;return(t=Ah())===null||t===void 0?void 0:t.config},jv=t=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${t}`]};var Ji=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Fn(t){return t.endsWith(".cloudworkstations.dev")}function As(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function Mh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(s)),""].join(".")}var Ac={};function i$(){let t={prod:[],emulator:[]};for(let e of Object.keys(Ac))Ac[e]?t.emulator.push(e):t.prod.push(e);return t}function o$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var _0=!1;function vr(t,e){if(typeof window>"u"||typeof document>"u"||!Fn(window.location.host)||Ac[t]===e||Ac[t]||_0)return;Ac[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=i$().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{_0=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=o$(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),M=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),h(M,R);let ee=l();u(U,O),H.append(U,E,M,ee),document.body.appendChild(H)}o?(E.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function s$(){var t;let e=(t=Ah())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C0(){let t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S0(){return!s$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mc(){try{return typeof indexedDB=="object"}catch{return!1}}function A0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var a$="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a$,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}},vn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?c$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Rt(i,a,r)}};function c$(t,e){return t.replace(u$,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var u$=/\{\$([^}]+)}/g;function R0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _n(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(w0(o)&&w0(s)){if(!_n(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function w0(t){return t!==null&&typeof t=="object"}function Nc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ms(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M0(t,e){let n=new Fv(t,e);return n.subscribe.bind(n)}var Fv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kv),i.error===void 0&&(i.error=kv),i.complete===void 0&&(i.complete=kv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function l$(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kv(){}var rJ=4*60*60*1e3;function Ie(t){return t&&t._delegate?t._delegate:t}var ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var Bv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ji;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h$(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d$(t){return t===Xi?void 0:t}function h$(t){return t.instantiationMode==="EAGER"}var Nh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Bv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var f$=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),p$={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},g$=de.INFO,m$={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},y$=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=m$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ln=class{constructor(e){this.name=e,this._logLevel=g$,this._logHandler=y$,this._userLogHandler=null,f$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var v$=(t,e)=>e.some(n=>t instanceof n),N0,P0;function _$(){return N0||(N0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w$(){return P0||(P0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var x0=new WeakMap,Hv=new WeakMap,k0=new WeakMap,$v=new WeakMap,zv=new WeakMap;function I$(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&x0.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function E$(t){if(Hv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hv.set(t,e)}var qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O0(t){qv=t(qv)}function D$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ph(this),e,...n);return k0.set(r,e.sort?e.sort():[e]),Vn(r)}:w$().includes(t)?function(...e){return t.apply(Ph(this),e),Vn(x0.get(this))}:function(...e){return Vn(t.apply(Ph(this),e))}}function T$(t){return typeof t=="function"?D$(t):(t instanceof IDBTransaction&&E$(t),v$(t,_$())?new Proxy(t,qv):t)}function Vn(t){if(t instanceof IDBRequest)return I$(t);if($v.has(t))return $v.get(t);let e=T$(t);return e!==t&&($v.set(t,e),zv.set(e,t)),e}var Ph=t=>zv.get(t);function L0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Vn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Vn(s.result),u.oldVersion,u.newVersion,Vn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var b$=["get","getKey","getAll","getAllKeys","count"],C$=["put","add","delete","clear"],Gv=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gv.get(e))return Gv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=C$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b$.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Gv.set(e,o),o}O0(t=>te(k({},t),{get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));var Kv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function S$(t){let e=t.getComponent();return e?.type==="VERSION"}var Qv="@firebase/app",V0="0.13.0";var _r=new Ln("@firebase/app"),A$="@firebase/app-compat",R$="@firebase/analytics-compat",M$="@firebase/analytics",N$="@firebase/app-check-compat",P$="@firebase/app-check",x$="@firebase/auth",k$="@firebase/auth-compat",O$="@firebase/database",F$="@firebase/data-connect",L$="@firebase/database-compat",V$="@firebase/functions",U$="@firebase/functions-compat",j$="@firebase/installations",B$="@firebase/installations-compat",$$="@firebase/messaging",H$="@firebase/messaging-compat",q$="@firebase/performance",z$="@firebase/performance-compat",G$="@firebase/remote-config",W$="@firebase/remote-config-compat",K$="@firebase/storage",Q$="@firebase/storage-compat",Y$="@firebase/firestore",Z$="@firebase/ai",J$="@firebase/firestore-compat",X$="firebase",eH="11.8.0";var Yv="[DEFAULT]",tH={[Qv]:"fire-core",[A$]:"fire-core-compat",[M$]:"fire-analytics",[R$]:"fire-analytics-compat",[P$]:"fire-app-check",[N$]:"fire-app-check-compat",[x$]:"fire-auth",[k$]:"fire-auth-compat",[O$]:"fire-rtdb",[F$]:"fire-data-connect",[L$]:"fire-rtdb-compat",[V$]:"fire-fn",[U$]:"fire-fn-compat",[j$]:"fire-iid",[B$]:"fire-iid-compat",[$$]:"fire-fcm",[H$]:"fire-fcm-compat",[q$]:"fire-perf",[z$]:"fire-perf-compat",[G$]:"fire-rc",[W$]:"fire-rc-compat",[K$]:"fire-gcs",[Q$]:"fire-gcs-compat",[Y$]:"fire-fst",[J$]:"fire-fst-compat",[Z$]:"fire-vertex","fire-js":"fire-js",[X$]:"fire-js-all"};var Pc=new Map,nH=new Map,Zv=new Map;function U0(t,e){try{t.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ht(t){let e=t.name;if(Zv.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Zv.set(e,t);for(let n of Pc.values())U0(n,t);for(let n of nH.values())U0(n,t);return!0}function ri(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yt(t){return t==null?!1:t.settings!==void 0}var rH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new vn("app","Firebase",rH);var Jv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}};var Un=eH;function t_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Yv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ni.create("bad-app-name",{appName:String(i)});if(n||(n=Uv()),!n)throw ni.create("no-options");let o=Pc.get(i);if(o){if(_n(n,o.options)&&_n(r,o.config))return o;throw ni.create("duplicate-app",{appName:i})}let s=new Nh(i);for(let u of Zv.values())s.addComponent(u);let a=new Jv(n,r,s);return Pc.set(i,a),a}function wr(t=Yv){let e=Pc.get(t);if(!e&&t===Yv&&Uv())return t_();if(!e)throw ni.create("no-app",{appName:t});return e}function xh(){return Array.from(Pc.values())}function Se(t,e,n){var r;let i=(r=tH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}Ht(new ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var iH="firebase-heartbeat-database",oH=1,xc="firebase-heartbeat-store",Wv=null;function H0(){return Wv||(Wv=L0(iH,oH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),Wv}function sH(t){return v(this,null,function*(){try{let n=(yield H0()).transaction(xc),r=yield n.objectStore(xc).get(q0(t));return yield n.done,r}catch(e){if(e instanceof Rt)_r.warn(e.message);else{let n=ni.create("idb-get",{originalErrorMessage:e?.message});_r.warn(n.message)}}})}function j0(t,e){return v(this,null,function*(){try{let r=(yield H0()).transaction(xc,"readwrite");yield r.objectStore(xc).put(e,q0(t)),yield r.done}catch(n){if(n instanceof Rt)_r.warn(n.message);else{let r=ni.create("idb-set",{originalErrorMessage:n?.message});_r.warn(r.message)}}})}function q0(t){return`${t.name}!${t.options.appId}`}var aH=1024,cH=30,Xv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new e_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=B0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cH){let s=lH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_r.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=B0(),{heartbeatsToSend:r,unsentEntries:i}=uH(this._heartbeatsCache.heartbeats),o=Rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return _r.warn(n),""}})}};function B0(){return new Date().toISOString().substring(0,10)}function uH(t,e=aH){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var e_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Mc()?A0().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield sH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return j0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return j0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $0(t){return Rc(JSON.stringify({version:2,heartbeats:t})).length}function lH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function dH(t){Ht(new ut("platform-logger",e=>new Kv(e),"PRIVATE")),Ht(new ut("heartbeat",e=>new Xv(e),"PRIVATE")),Se(Qv,V0,t),Se(Qv,V0,"esm2017"),Se("fire-js","")}dH("");var hH="firebase",fH="11.8.0";Se(hH,fH,"app");function n_(t){t===void 0&&(Mm(n_),t=P(Pe));let e=t.get(ud);return n=>new ce(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var jn=new ir("ANGULARFIRE2_VERSION");function to(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ii=(t,e)=>{let n=e?[e]:xh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ns=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Ns||{}),z0=vy()&&typeof Zone<"u"?Ns.WARN:Ns.SILENT;var kh=class{zone;delegate;constructor(e,n=Gp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Bn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(ve);this.outsideAngular=n.runOutsideAngular(()=>new kh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new kh(typeof Zone>"u"?void 0:Zone.current,zp))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),G0=!1;function pH(t,e){!G0&&(z0>Ns.SILENT||vy())&&(G0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),z0>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function gH(t){let e=P(ve,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function eo(t){let e=P(ve,{optional:!0});return e?e.run(()=>t()):t()}var mH=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),mt(n,()=>eo(()=>t.apply(void 0,r)))),Ee=(t,e,n)=>(n||=e?Ns.WARN:Ns.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(Bn),s=P(ud),a=P(Ct)}catch{return pH(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=eo(()=>s.add())),i[l]=mH(i[l],r,a));let u=gH(()=>t.apply(this,i));return e?u instanceof ce?u.pipe(jr(o.outsideAngular),Ur(o.insideAngular),n_(a)):u instanceof Promise?eo(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>mt(a,()=>eo(()=>l(p))),p=>mt(a,()=>eo(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:eo(()=>u):u instanceof ce?u.pipe(jr(o.outsideAngular),Ur(o.insideAngular)):eo(()=>u)});var wn=class{constructor(e){return e}},Ir=class{constructor(){return xh()}};function yH(t){return t&&t.length===1?t[0]:new wn(wr())}var r_=new j("angularfire2._apps"),vH={provide:wn,useFactory:yH,deps:[[new Xe,r_]]},_H={provide:Ir,deps:[[new Xe,r_]]};function wH(t){return(e,n)=>{let r=n.get(Hi);Se("angularfire",jn.full,"core"),Se("angularfire",jn.full,"app"),Se("angular",mS.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new wn(i)}}function tX(t,...e){return fn([vH,_H,{provide:r_,useFactory:wH(t),multi:!0,deps:[ve,Pe,Bn,...e]}])}var nX=Ee(t_,!0);var IH=new Map,EH={activated:!1,tokenObservers:[]},DH={initialized:!1,enabled:!1};function In(t){return IH.get(t)||Object.assign({},EH)}function Y0(){return DH}var TH="https://content-firebaseappcheck.googleapis.com/v1";var bH="exchangeDebugToken",W0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},dX=24*60*60*1e3;var s_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Ji,this.pending.promise.catch(n=>{}),yield CH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ji,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function CH(t){return new Promise(e=>{setTimeout(e,t)})}var SH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},oi=new vn("appCheck","AppCheck",SH);function Z0(t){if(!In(t).activated)throw oi.create("use-before-activation",{appName:t.name})}function J0(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw oi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw oi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw oi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function X0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${TH}/projects/${n}/apps/${r}:${bH}?key=${i}`,body:{debug_token:e}}}var AH="firebase-app-check-database",RH=1,a_="firebase-app-check-store";var Oh=null;function MH(){return Oh||(Oh=new Promise((t,e)=>{try{let n=indexedDB.open(AH,RH);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(a_,{keyPath:"compositeKey"})}}}catch(n){e(oi.create("storage-open",{originalErrorMessage:n?.message}))}}),Oh)}function NH(t,e){return PH(xH(t),e)}function PH(t,e){return v(this,null,function*(){let r=(yield MH()).transaction(a_,"readwrite"),o=r.objectStore(a_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(oi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function xH(t){return`${t.options.appId}-${t.name}`}var kc=new Ln("@firebase/app-check");function i_(t,e){return Mc()?NH(t,e).catch(n=>{kc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eR(){return Y0().enabled}function tR(){return v(this,null,function*(){let t=Y0();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var kH={error:"UNKNOWN_ERROR"};function OH(t){return Ch.encodeString(JSON.stringify(t),!1)}function c_(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;Z0(r);let i=In(r),o=i.token,s;if(o&&!Oc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Oc(l)?o=l:yield i_(r,void 0))}if(!e&&o&&Oc(o))return{token:o.token};let a=!1;if(eR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=J0(X0(r,yield tR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield i_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?kc.warn(l.message):n&&kc.error(l),o_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield In(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?kc.warn(l.message):n&&kc.error(l),s=l}let u;return o?s?Oc(o)?u={token:o.token,internalError:s}:u=o_(s):(u={token:o.token},i.token=o,yield i_(r,o)):u=o_(s),a&&UH(r,u),u})}function FH(t){return v(this,null,function*(){let e=t.app;Z0(e);let{provider:n}=In(e);if(eR()){let r=yield tR(),{token:i}=yield J0(X0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function LH(t,e,n,r){let{app:i}=t,o=In(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Oc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),K0(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>K0(t))}function nR(t,e){let n=In(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function K0(t){let{app:e}=t,n=In(e),r=n.tokenRefresher;r||(r=VH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function VH(t){let{app:e}=t;return new s_(()=>v(this,null,function*(){let n=In(e),r;if(n.token?r=yield c_(t,!0):r=yield c_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=In(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},W0.RETRIAL_MIN_WAIT,W0.RETRIAL_MAX_WAIT)}function UH(t,e){let n=In(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Oc(t){return t.expireTimeMillis-Date.now()>0}function o_(t){return{token:OH(kH),error:t}}var u_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=In(this.app);for(let n of e)nR(this.app,n.next);return Promise.resolve()}};function jH(t,e){return new u_(t,e)}function BH(t){return{getToken:e=>c_(t,e),getLimitedUseToken:()=>FH(t),addTokenListener:e=>LH(t,"INTERNAL",e),removeTokenListener:e=>nR(t.app,e)}}var $H="@firebase/app-check",HH="0.10.0";var qH="app-check",Q0="app-check-internal";function zH(){Ht(new ut(qH,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return jH(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Q0).initialize()})),Ht(new ut(Q0,t=>{let e=t.getProvider("app-check").getImmediate();return BH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Se($H,HH)}zH();var GH="app-check";var si=class{constructor(){return ii(GH)}};var WH=["localhost","0.0.0.0","127.0.0.1"],TX=typeof window<"u"&&WH.includes(window.location.hostname);function vR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var _R=vR,wR=new vn("auth","Firebase",vR());var Bh=new Ln("@firebase/auth");function KH(t,...e){Bh.logLevel<=de.WARN&&Bh.warn(`Auth (${Un}): ${t}`,...e)}function Lh(t,...e){Bh.logLevel<=de.ERROR&&Bh.error(`Auth (${Un}): ${t}`,...e)}function Hn(t,...e){throw k_(t,...e)}function no(t,...e){return k_(t,...e)}function IR(t,e,n){let r=Object.assign(Object.assign({},_R()),{[e]:n});return new vn("auth","Firebase",r).create(e,{appName:t.name})}function Tr(t){return IR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wR.create(t,...e)}function G(t,e,...n){if(!t)throw k_(e,...n)}function Er(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Lh(e),new Error(e)}function ui(t,e){t||Er(e)}function f_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QH(){return rR()==="http:"||rR()==="https:"}function rR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function YH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QH()||T0()||"connection"in navigator)?navigator.onLine:!0}function ZH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ro=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=E0()||b0()}get(){return YH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function O_(t,e){ui(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $h=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var JH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var XH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e4=new ro(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function di(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return ER(t,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Nc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return D0()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Fn(t.emulatorConfig.host)&&(y.credentials="include"),$h.fetch()(yield DR(t,t.config.apiHost,n,p),y)}))})}function ER(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},JH),e);try{let i=new p_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Fh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Fh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw IR(t,h,l);Hn(t,h)}}catch(i){if(i instanceof Rt)throw i;Hn(t,"network-request-failed",{message:String(i)})}})}function qc(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield di(t,e,n,r,i);return"mfaPendingCredential"in l&&Hn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function DR(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?O_(t.config,i):`${t.config.apiScheme}://${i}`;return XH.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function t4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var p_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(no(this.auth,"network-request-failed")),e4.get())})}};function Fh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=no(t,e,r);return i.customData._tokenResponse=n,i}function iR(t){return t!==void 0&&t.enterprise!==void 0}var g_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return t4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function n4(t,e){return v(this,null,function*(){return di(t,"GET","/v2/recaptchaConfig",li(t,e))})}function r4(t,e){return v(this,null,function*(){return di(t,"POST","/v1/accounts:delete",e)})}function Hh(t,e){return v(this,null,function*(){return di(t,"POST","/v1/accounts:lookup",e)})}function Lc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function F_(t,e=!1){return v(this,null,function*(){let n=Ie(t),r=yield n.getIdToken(e),i=L_(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Lc(l_(i.auth_time)),issuedAtTime:Lc(l_(i.iat)),expirationTime:Lc(l_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function l_(t){return Number(t)*1e3}function L_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sh(n);return i?JSON.parse(i):(Lh("Failed to decode base64 JWT payload"),null)}catch(i){return Lh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oR(t){let e=L_(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Uc(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&i4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function i4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var m_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qh(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Uc(t,Hh(n,{idToken:r}));G(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TR(o.providerUserInfo):[],a=o4(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function V_(t){return v(this,null,function*(){let e=Ie(t);yield qh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function o4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TR(t){return t.map(e=>{var{providerId:n}=e,r=Wp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function s4(t,e){return v(this,null,function*(){let n=yield ER(t,{},()=>v(this,null,function*(){let r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield DR(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$h.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function a4(t,e){return v(this,null,function*(){return di(t,"POST","/v2/accounts:revokeToken",li(t,e))})}var Vc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=oR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield s4(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Er("not implemented")}};function ai(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ci=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Uc(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return F_(this,e)}reload(){return V_(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield qh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(yt(this.auth.app))return Promise.reject(Tr(this.auth));let e=yield this.getIdToken();return yield Uc(this,r4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:ee,isAnonymous:Be,providerData:me,stsTokenManager:T}=n;G(H&&T,e,"internal-error");let _=Vc.fromJSON(this.name,T);G(typeof H=="string",e,"internal-error"),ai(p,e.name),ai(g,e.name),G(typeof ee=="boolean",e,"internal-error"),G(typeof Be=="boolean",e,"internal-error"),ai(y,e.name),ai(E,e.name),ai(R,e.name),ai(M,e.name),ai(O,e.name),ai(U,e.name);let I=new t({uid:H,auth:e,email:g,emailVerified:ee,displayName:p,isAnonymous:Be,photoURL:E,phoneNumber:y,tenantId:R,stsTokenManager:_,createdAt:O,lastLoginAt:U});return me&&Array.isArray(me)&&(I.providerData=me.map(D=>Object.assign({},D))),M&&(I._redirectEventId=M),I}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Vc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?TR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Vc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var sR=new Map;function Dr(t){ui(t instanceof Function,"Expected a class definition");let e=sR.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sR.set(t,e),e)}var c4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),y_=c4;function Vh(t,e,n){return`firebase:${t}:${e}:${n}`}var zh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Vh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Hh(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Dr(y_),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Dr(y_),s=Vh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Hh(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield ci._fromGetAccountInfoResponse(e,g,h)}else p=ci._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function aR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MR(e))return"Blackberry";if(NR(e))return"Webos";if(CR(e))return"Safari";if((e.includes("chrome/")||SR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function bR(t=nt()){return/firefox\//i.test(t)}function CR(t=nt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SR(t=nt()){return/crios\//i.test(t)}function AR(t=nt()){return/iemobile/i.test(t)}function RR(t=nt()){return/android/i.test(t)}function MR(t=nt()){return/blackberry/i.test(t)}function NR(t=nt()){return/webos/i.test(t)}function U_(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u4(t=nt()){var e;return U_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l4(){return C0()&&document.documentMode===10}function PR(t=nt()){return U_(t)||RR(t)||NR(t)||MR(t)||/windows phone/i.test(t)||AR(t)}function xR(t,e=[]){let n;switch(t){case"Browser":n=aR(nt());break;case"Worker":n=`${aR(nt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Un}/${r}`}var v_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function d4(n){return v(this,arguments,function*(t,e={}){return di(t,"GET","/v2/passwordPolicy",li(t,e))})}var h4=6,__=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:h4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var w_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gh(this),this.idTokenSubscription=new Gh(this),this.beforeStateQueue=new v_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield zh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield Hh(this,{idToken:e}),r=yield ci._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(yt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZH()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(yt(this.app))return Promise.reject(Tr(this));let n=e?Ie(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return yt(this.app)?Promise.reject(Tr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yt(this.app)?Promise.reject(Tr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield d4(this),n=new __(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield a4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Dr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield zh.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&KH(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function oo(t){return Ie(t)}var Gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=M0(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(t){Xh=t}function kR(t){return Xh.loadJS(t)}function p4(){return Xh.recaptchaEnterpriseScript}function g4(){return Xh.gapiScript}function OR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var I_=class{constructor(){this.enterprise=new E_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},E_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var m4="recaptcha-enterprise",FR="NO_RECAPTCHA",D_=class{constructor(e){this.type=m4,this.auth=oo(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){n4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new g_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;iR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(FR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&iR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=p4();u.length!==0&&(u+=a),kR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Fc(t,e,n,r=!1,i=!1){return v(this,null,function*(){let o=new D_(t),s;if(i)s=FR;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function T_(t,e,n,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Fc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>v(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Fc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Fc(t,e,n);return r(t,a).catch(u=>v(this,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Fc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield Fc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function j_(t,e){let n=ri(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(_n(o,e??{}))return i;Hn(i,"already-initialized")}return n.initialize({options:e})}function y4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function B_(t,e,n){let r=oo(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=LR(e),{host:s,port:a}=v4(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(_n(l,r.config.emulator)&&_n(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Fn(s)?(vr("Auth",!0),As(`${o}//${s}${u}`)):i||_4()}function LR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v4(t){let e=LR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:cR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:cR(s)}}}function cR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function _4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Bc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}};function w4(t,e){return v(this,null,function*(){return di(t,"POST","/v1/accounts:signUp",e)})}function I4(t,e){return v(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithPassword",li(t,e))})}function E4(t,e){return v(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))})}function D4(t,e){return v(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))})}var $c=class t extends Bc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,n,"signInWithPassword",I4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return E4(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,r,"signUpPassword",w4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return D4(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function d_(t,e){return v(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithIdp",li(t,e))})}function T4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b4(t){let e=Rs(Ms(t)).link,n=e?Rs(Ms(e)).deep_link_id:null,r=Rs(Ms(t)).deep_link_id;return(r?Rs(Ms(r)).link:null)||r||n||e||t}var Wh=class t{constructor(e){var n,r,i,o,s,a;let u=Rs(Ms(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=T4((i=u.mode)!==null&&i!==void 0?i:null);G(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=b4(e);try{return new t(n)}catch{return null}}};var VR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return $c._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Wh.parseLink(r);return G(i,"argument-error"),$c._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Kh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var b_=class extends Kh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function C4(t,e){return v(this,null,function*(){return qc(t,"POST","/v1/accounts:signUp",li(t,e))})}var Ps=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield ci._fromIdTokenResponse(e,r,i),s=uR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=uR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function uR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var C_=class t extends Rt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function UR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?C_._fromErrorAndOperation(t,o,e,r):o})}function S4(t,e,n=!1){return v(this,null,function*(){let r=yield Uc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ps._forOperation(t,"link",r)})}function A4(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(yt(r.app))return Promise.reject(Tr(r));let i="reauthenticate";try{let o=yield Uc(t,UR(r,i,e,t),n);G(o.idToken,r,"internal-error");let s=L_(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),Ps._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Hn(r,"user-mismatch"),o}})}function jR(t,e,n=!1){return v(this,null,function*(){if(yt(t.app))return Promise.reject(Tr(t));let r="signIn",i=yield UR(t,r,e),o=yield Ps._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function $_(t,e){return v(this,null,function*(){return jR(oo(t),e)})}function BR(t){return v(this,null,function*(){let e=oo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function H_(t,e,n){return v(this,null,function*(){if(yt(t.app))return Promise.reject(Tr(t));let r=oo(t),s=yield T_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C4,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&BR(t),u}),a=yield Ps._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function q_(t,e,n){return yt(t.app)?Promise.reject(Tr(t)):$_(Ie(t),VR.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&BR(t),r}))}function z_(t,e,n,r){return Ie(t).onIdTokenChanged(e,n,r)}function G_(t,e,n){return Ie(t).beforeAuthStateChanged(e,n)}function W_(t,e,n,r){return Ie(t).onAuthStateChanged(e,n,r)}function K_(t){return Ie(t).signOut()}var Qh="__sak";var Yh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var R4=1e3,M4=10,N4=(()=>{class t extends Yh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);l4()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,M4):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},R4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Fr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Fr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Fr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),$R=N4;var P4=(()=>{class t extends Yh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Q_=P4;function x4(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var k4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield x4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function HR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var S_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=HR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function $n(){return window}function O4(t){$n().location.href=t}function qR(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}function F4(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function L4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V4(){return qR()?self:null}var zR="firebaseLocalStorageDb",U4=1,Zh="firebaseLocalStorage",GR="fbase_key",io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ef(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function j4(){let t=indexedDB.deleteDatabase(zR);return new io(t).toPromise()}function A_(){let t=indexedDB.open(zR,U4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Zh,{keyPath:GR})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),yield j4(),e(yield A_()))}))})}function lR(t,e,n){return v(this,null,function*(){let r=ef(t,!0).put({[GR]:e,value:n});return new io(r).toPromise()})}function B4(t,e){return v(this,null,function*(){let n=ef(t,!1).get(e),r=yield new io(n).toPromise();return r===void 0?null:r.value})}function dR(t,e){let n=ef(t,!0).delete(e);return new io(n).toPromise()}var $4=800,H4=3,q4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield A_(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>H4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return qR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=k4._getInstance(V4()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield F4(),!this.activeServiceWorker)return;this.sender=new S_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||L4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield A_();return yield lR(n,Qh,"1"),yield dR(n,Qh),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>lR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>B4(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>dR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=ef(o,!1).getAll();return new io(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),$4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),WR=q4;var PX=OR("rcb"),xX=new ro(3e4,6e4);function z4(t,e){return e?Dr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Hc=class extends Bc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return d_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return d_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return d_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function G4(t){return jR(t.auth,new Hc(t),t.bypassAuthState)}function W4(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),A4(n,new Hc(t),t.bypassAuthState)}function K4(t){return v(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),S4(n,new Hc(t),t.bypassAuthState)})}var R_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G4;case"linkViaPopup":case"linkViaRedirect":return K4;case"reauthViaPopup":case"reauthViaRedirect":return W4;default:Hn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var kX=new ro(2e3,1e4);var Q4="pendingRedirect",Uh=new Map,M_=class t extends R_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Uh.get(this.auth._key());if(!e){try{let r=(yield Y4(this.resolver,this.auth))?yield Fr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Fr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Fr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function Y4(t,e){return v(this,null,function*(){let n=X4(e),r=J4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Z4(t,e){Uh.set(t._key(),e)}function J4(t){return Dr(t._redirectPersistence)}function X4(t){return Vh(Q4,t.config.apiKey,t.name)}function eq(t,e,n=!1){return v(this,null,function*(){if(yt(t.app))return Promise.reject(Tr(t));let r=oo(t),i=z4(r,e),s=yield new M_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var tq=10*60*1e3,N_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(no(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tq&&this.cachedEventUids.clear(),this.cachedEventUids.has(hR(e))}saveEventToCache(e){this.cachedEventUids.add(hR(e)),this.lastProcessedEventTime=Date.now()}};function hR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KR(t);default:return!1}}function rq(n){return v(this,arguments,function*(t,e={}){return di(t,"GET","/v1/projects",e)})}var iq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oq=/^https?/;function sq(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield rq(t);for(let n of e)try{if(aq(n))return}catch{}Hn(t,"unauthorized-domain")})}function aq(t){let e=f_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!oq.test(n))return!1;if(iq.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var cq=new ro(3e4,6e4);function fR(){let t=$n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uq(t){return new Promise((e,n)=>{var r,i,o;function s(){fR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fR(),n(no(t,"network-request-failed"))},timeout:cq.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$n().gapi)===null||o===void 0)&&o.load)s();else{let a=OR("iframefcb");return $n()[a]=()=>{gapi.load?s():n(no(t,"network-request-failed"))},kR(`${g4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw jh=null,e})}var jh=null;function lq(t){return jh=jh||uq(t),jh}var dq=new ro(5e3,15e3),hq="__/auth/iframe",fq="emulator/auth/iframe",pq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mq(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?O_(e,fq):`https://${t.config.authDomain}/${hq}`,r={apiKey:e.apiKey,appName:t.name,v:Un},i=gq.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nc(r).slice(1)}`}function yq(t){return v(this,null,function*(){let e=yield lq(t),n=$n().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:mq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pq,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=no(t,"network-request-failed"),a=$n().setTimeout(()=>{o(s)},dq.get());function u(){$n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var vq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_q=500,wq=600,Iq="_blank",Eq="http://localhost",Jh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Dq(t,e,n,r=_q,i=wq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},vq),{width:r.toString(),height:i.toString(),top:o,left:s}),l=nt().toLowerCase();n&&(a=SR(l)?Iq:n),bR(l)&&(e=e||Eq,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(u4(l)&&a!=="_self")return Tq(e||"",a),new Jh(null);let p=window.open(e||"",a,h);G(p,t,"popup-blocked");try{p.focus()}catch{}return new Jh(p)}function Tq(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var bq="__/auth/handler",Cq="emulator/auth/handler",Sq=encodeURIComponent("fac");function pR(t,e,n,r,i,o){return v(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Un,eventId:i};if(e instanceof Kh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",R0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof b_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Sq}=${encodeURIComponent(u)}`:"";return`${Aq(t)}?${Nc(a).slice(1)}${l}`})}function Aq({config:t}){return t.emulator?O_(t,Cq):`https://${t.authDomain}/${bq}`}var h_="webStorageSupport",P_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q_,this._completeRedirectFn=eq,this._overrideRedirectResult=Z4}_openPopup(e,n,r,i){return v(this,null,function*(){var o;ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield pR(e,n,r,f_(),i);return Dq(e,s,HR())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield pR(e,n,r,f_(),i);return O4(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ui(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield yq(e),r=new N_(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(h_,{type:h_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[h_];s!==void 0&&n(!!s),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PR()||CR()||U_()}},QR=P_;var gR="@firebase/auth",mR="1.10.5";var x_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Rq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mq(t){Ht(new ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xR(t)},l=new w_(r,i,o,u);return y4(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ht(new ut("auth-internal",e=>{let n=oo(e.getProvider("auth").getImmediate());return(r=>new x_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(gR,mR,Rq(t)),Se(gR,mR,"esm2017")}var Nq=5*60,Pq=jv("authIdTokenMaxAge")||Nq,yR=null,xq=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Pq)return;let i=n?.token;yR!==i&&(yR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Y_(t=wr()){let e=ri(t,"auth");if(e.isInitialized())return e.getImmediate();let n=j_(t,{popupRedirectResolver:QR,persistence:[WR,$R,Q_]}),r=jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=xq(o.toString());G_(n,s,()=>s(n.currentUser)),z_(n,a=>s(a))}}let i=Vv("auth");return i?B_(n,`http://${i}`):vr("Auth",!1),n}function kq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=no("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mq("Browser");var YR="auth",so=class{constructor(e){return e}},ao=class{constructor(){return ii(YR)}};var Z_=new j("angularfire2.auth-instances");function Ez(t,e){let n=to(YR,t,e);return n&&new so(n)}function Dz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new so(r)}}var Tz={provide:ao,deps:[[new Xe,Z_]]},bz={provide:so,useFactory:Ez,deps:[[new Xe,Z_],wn]};function wee(t,...e){return Se("angularfire",jn.full,"auth"),fn([bz,Tz,{provide:Z_,useFactory:Dz(t),multi:!0,deps:[ve,Pe,Bn,Ir,[new Xe,si],...e]}])}var J_=Ee(H_,!0,2);var Iee=Ee(Y_,!0);var ZR=Ee(W_,!0);var JR=Ee(q_,!0,2);var XR=Ee(K_,!0,2);var eM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tM={};var br,X_;(function(){var t;function e(T,_){function I(){}I.prototype=_.prototype,T.D=_.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(D,b,S){for(var w=Array(arguments.length-2),Yn=2;Yn<arguments.length;Yn++)w[Yn-2]=arguments[Yn];return _.prototype[b].apply(D,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,I){I||(I=0);var D=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)D[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)D[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=T.g[0],I=T.g[1],b=T.g[2];var S=T.g[3],w=_+(S^I&(b^S))+D[0]+3614090360&4294967295;_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+D[1]+3905402710&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+D[2]+606105819&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+D[3]+3250441966&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(S^I&(b^S))+D[4]+4118548399&4294967295,_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+D[5]+1200080426&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+D[6]+2821735955&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+D[7]+4249261313&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(S^I&(b^S))+D[8]+1770035416&4294967295,_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+D[9]+2336552879&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+D[10]+4294925233&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+D[11]+2304563134&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(S^I&(b^S))+D[12]+1804603682&4294967295,_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+D[13]+4254626195&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+D[14]+2792965006&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+D[15]+1236535329&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(b^S&(I^b))+D[1]+4129170786&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+D[6]+3225465664&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+D[11]+643717713&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+D[0]+3921069994&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(I^b))+D[5]+3593408605&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+D[10]+38016083&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+D[15]+3634488961&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+D[4]+3889429448&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(I^b))+D[9]+568446438&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+D[14]+3275163606&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+D[3]+4107603335&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+D[8]+1163531501&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(I^b))+D[13]+2850285829&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+D[2]+4243563512&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+D[7]+1735328473&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+D[12]+2368359562&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(I^b^S)+D[5]+4294588738&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+D[8]+2272392833&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+D[11]+1839030562&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+D[14]+4259657740&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(I^b^S)+D[1]+2763975236&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+D[4]+1272893353&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+D[7]+4139469664&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+D[10]+3200236656&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(I^b^S)+D[13]+681279174&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+D[0]+3936430074&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+D[3]+3572445317&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+D[6]+76029189&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(I^b^S)+D[9]+3654602809&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+D[12]+3873151461&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+D[15]+530742520&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+D[2]+3299628645&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(b^(I|~S))+D[0]+4096336452&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+D[7]+1126891415&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+D[14]+2878612391&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+D[5]+4237533241&4294967295,I=b+(w<<21&4294967295|w>>>11),w=_+(b^(I|~S))+D[12]+1700485571&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+D[3]+2399980690&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+D[10]+4293915773&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+D[1]+2240044497&4294967295,I=b+(w<<21&4294967295|w>>>11),w=_+(b^(I|~S))+D[8]+1873313359&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+D[15]+4264355552&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+D[6]+2734768916&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+D[13]+1309151649&4294967295,I=b+(w<<21&4294967295|w>>>11),w=_+(b^(I|~S))+D[4]+4149444226&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+D[11]+3174756917&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+D[2]+718787259&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var I=_-this.blockSize,D=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(D[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,D),b=0;break}}else for(;S<_;)if(D[b++]=T[S++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var I=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=I&255,I/=256;for(this.u(T),T=Array(16),_=I=0;4>_;++_)for(var D=0;32>D;D+=8)T[I++]=this.g[_]>>>D&255;return T};function o(T,_){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=_(T)}function s(T,_){this.h=_;for(var I=[],D=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;D&&S==_||(I[b]=S,D=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return M(l(-T));for(var _=[],I=1,D=0;T>=I;D++)_[D]=T/I|0,I*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return M(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),D=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),w=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),D=D.j(S).add(l(w))):(D=D.j(I),D=D.add(l(w)))}return D}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-M(this).m();for(var T=0,_=1,I=0;I<this.g.length;I++){var D=this.i(I);T+=(0<=D?D:4294967296+D)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(R(this))return"-"+M(this).toString(T);for(var _=l(Math.pow(T,6)),I=this,D="";;){var b=ee(I,_).g;I=O(I,b.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,E(I))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function R(T){return T.h==-1}t.l=function(T){return T=O(this,T),R(T)?-1:E(T)?0:1};function M(T){for(var _=T.g.length,I=[],D=0;D<_;D++)I[D]=~T.g[D];return new s(I,~T.h).add(g)}t.abs=function(){return R(this)?M(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0,b=0;b<=_;b++){var S=D+(this.i(b)&65535)+(T.i(b)&65535),w=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);D=w>>>16,S&=65535,w&=65535,I[b]=w<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(T,_){return T.add(M(_))}t.j=function(T){if(E(this)||E(T))return p;if(R(this))return R(T)?M(this).j(M(T)):M(M(this).j(T));if(R(T))return M(this.j(M(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,I=[],D=0;D<2*_;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<T.g.length;b++){var S=this.i(D)>>>16,w=this.i(D)&65535,Yn=T.i(b)>>>16,aa=T.i(b)&65535;I[2*D+2*b]+=w*aa,U(I,2*D+2*b),I[2*D+2*b+1]+=S*aa,U(I,2*D+2*b+1),I[2*D+2*b+1]+=w*Yn,U(I,2*D+2*b+1),I[2*D+2*b+2]+=S*Yn,U(I,2*D+2*b+2)}for(D=0;D<_;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=_;D<2*_;D++)I[D]=0;return new s(I,0)};function U(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function H(T,_){this.g=T,this.h=_}function ee(T,_){if(E(_))throw Error("division by zero");if(E(T))return new H(p,p);if(R(T))return _=ee(M(T),_),new H(M(_.g),M(_.h));if(R(_))return _=ee(T,M(_)),new H(M(_.g),_.h);if(30<T.g.length){if(R(T)||R(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,D=_;0>=D.l(T);)I=Be(I),D=Be(D);var b=me(I,1),S=me(D,1);for(D=me(D,2),I=me(I,2);!E(D);){var w=S.add(D);0>=w.l(T)&&(b=b.add(I),S=w),D=me(D,1),I=me(I,1)}return _=O(T,b.j(_)),new H(b,_)}for(b=p;0<=T.l(_);){for(I=Math.max(1,Math.floor(T.m()/_.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=l(I),w=S.j(_);R(w)||0<w.l(T);)I-=D,S=l(I),w=S.j(_);E(S)&&(S=g),b=b.add(S),T=O(T,w)}return new H(b,T)}t.A=function(T){return ee(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)&T.i(D);return new s(I,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)|T.i(D);return new s(I,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)^T.i(D);return new s(I,this.h^T.h)};function Be(T){for(var _=T.g.length+1,I=[],D=0;D<_;D++)I[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(I,T.h)}function me(T,_){var I=_>>5;_%=32;for(var D=T.g.length-I,b=[],S=0;S<D;S++)b[S]=0<_?T.i(S+I)>>>_|T.i(S+I+1)<<32-_:T.i(S+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,X_=tM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,br=tM.Integer=s}).apply(typeof eM<"u"?eM:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cr={};var ew,Cz,xs,tw,zc,nf,nw,rw,iw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function E(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[C].apply(m,F)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=m[F]}else c.push(m)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var Be=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function me(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=dp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Yn{constructor(){this.h=this.g=null}add(d,f){let m=aa.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var aa=new O(()=>new Ex,c=>c.reset());class Ex{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ca,ua=!1,dp=new Yn,VE=()=>{let c=a.Promise.resolve(void 0);ca=()=>{c.then(Dx)}};var Dx=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){S(f)}var d=aa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ua=!1};function Pr(){this.s=this.s,this.C=this.C}Pr.prototype.s=!1,Pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var Tx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function la(c,d){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Be){e:{try{ee(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&la.aa.h.call(this)}}E(la,ht);var bx={2:"touch",3:"pen",4:"mouse"};la.prototype.h=function(){la.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var da="closure_listenable_"+(1e6*Math.random()|0),Cx=0;function Sx(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++Cx,this.da=this.fa=!1}function Iu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Eu(c){this.src=c,this.g={},this.h=0}Eu.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=fp(c,d,m,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new Sx(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function hp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&(Iu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function fp(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var pp="closure_lm_"+(1e6*Math.random()|0),gp={};function UE(c,d,f,m,C){if(m&&m.once)return BE(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)UE(c,d[A],f,m,C);return null}return f=_p(f),c&&c[da]?c.K(d,f,l(m)?!!m.capture:!!m,C):jE(c,d,f,!1,m,C)}function jE(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Te=yp(c);if(Te||(c[pp]=Te=new Eu(c)),f=Te.add(d,f,m,F,A),f.proxy)return f;if(m=Ax(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)Tx||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(HE(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ax(){function c(f){return d.call(c.src,c.listener,f)}let d=Rx;return c}function BE(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)BE(c,d[A],f,m,C);return null}return f=_p(f),c&&c[da]?c.L(d,f,l(m)?!!m.capture:!!m,C):jE(c,d,f,!0,m,C)}function $E(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)$E(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=_p(f),c&&c[da]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=fp(A,f,m,C),-1<f&&(Iu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=yp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=fp(d,f,m,C)),(f=-1<c?d[c]:null)&&mp(f))}function mp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[da])hp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(HE(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=yp(d))?(hp(f,c),f.h==0&&(f.src=null,d[pp]=null)):Iu(c)}}}function HE(c){return c in gp?gp[c]:gp[c]="on"+c}function Rx(c,d){if(c.da)c=!0;else{d=new la(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&mp(c),c=f.call(m,d)}return c}function yp(c){return c=c[pp],c instanceof Eu?c:null}var vp="__closure_events_fn_"+(1e9*Math.random()>>>0);function _p(c){return typeof c=="function"?c:(c[vp]||(c[vp]=function(d){return c.handleEvent(d)}),c[vp])}function ft(){Pr.call(this),this.i=new Eu(this),this.M=this,this.F=null}E(ft,Pr),ft.prototype[da]=!0,ft.prototype.removeEventListener=function(c,d,f,m){$E(this,c,d,f,m)};function It(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ht(d,c);else if(d instanceof ht)d.target=d.target||c;else{var C=d;d=new ht(m,c),D(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=Du(F,m,!0,d)&&C}if(F=d.g=c,C=Du(F,m,!0,d)&&C,C=Du(F,m,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=Du(F,m,!1,d)&&C}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Iu(f[m]);delete c.g[d],c.h--}}this.F=null},ft.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},ft.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Du(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Te=F.listener,ot=F.ha||F.src;F.fa&&hp(c.i,F),C=Te.call(ot,m)!==!1&&C}}return C&&!m.defaultPrevented}function qE(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function zE(c){c.g=qE(()=>{c.g=null,c.i&&(c.i=!1,zE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Mx extends Pr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(c){Pr.call(this),this.h=c,this.g={}}E(ha,Pr);var GE=[];function WE(c){me(c.g,function(d,f){this.g.hasOwnProperty(f)&&mp(d)},c),c.g={}}ha.prototype.N=function(){ha.aa.N.call(this),WE(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wp=a.JSON.stringify,Nx=a.JSON.parse,Px=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ip(){}Ip.prototype.h=null;function KE(c){return c.h||(c.h=c.i())}function QE(){}var fa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ep(){ht.call(this,"d")}E(Ep,ht);function Dp(){ht.call(this,"c")}E(Dp,ht);var wi={},YE=null;function Tu(){return YE=YE||new ft}wi.La="serverreachability";function ZE(c){ht.call(this,wi.La,c)}E(ZE,ht);function pa(c){let d=Tu();It(d,new ZE(d))}wi.STAT_EVENT="statevent";function JE(c,d){ht.call(this,wi.STAT_EVENT,c),this.stat=d}E(JE,ht);function Et(c){let d=Tu();It(d,new JE(d,c))}wi.Ma="timingevent";function XE(c,d){ht.call(this,wi.Ma,c),this.size=d}E(XE,ht);function ga(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ma(){this.g=!0}ma.prototype.xa=function(){this.g=!1};function xx(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var F="",Te=A.split("&"),ot=0;ot<Te.length;ot++){var ye=Te[ot].split("=");if(1<ye.length){var pt=ye[0];ye=ye[1];var gt=pt.split("_");F=2<=gt.length&&gt[1]=="type"?F+(pt+"="+ye+"&"):F+(pt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function kx(c,d,f,m,C,A,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function To(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Fx(c,f)+(m?" "+m:"")})}function Ox(c,d){c.info(function(){return"TIMEOUT: "+d})}ma.prototype.info=function(){};function Fx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return wp(f)}catch{return d}}var bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tp;function Cu(){}E(Cu,Ip),Cu.prototype.g=function(){return new XMLHttpRequest},Cu.prototype.i=function(){return{}},Tp=new Cu;function xr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tD}function tD(){this.i=null,this.g="",this.h=!1}var nD={},bp={};function Cp(c,d,f){c.L=1,c.v=Mu(Zn(d)),c.m=f,c.P=!0,rD(c,null)}function rD(c,d){c.F=Date.now(),Su(c),c.A=Zn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),yD(f.i,"t",m),c.C=0,f=c.j.J,c.h=new tD,c.g=OD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Mx(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(GE[0]=C.toString()),C=GE);for(var A=0;A<C.length;A++){var F=UE(f,C[A],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),pa(),xx(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Jn(c)==3?d.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{let gt=Jn(this.g);var d=this.g.Ba();let So=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||TD(this.g)))){this.J||gt!=4||d==7||(d==8||0>=So?pa(3):pa(2)),Sp(this);var f=this.g.Z();this.X=f;t:if(iD(this)){var m=TD(this.g);c="";var C=m.length,A=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),ya(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,kx(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ot=this.g;if((Te=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Te)){var ye=Te;break t}}ye=null}if(f=ye)To(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ap(this,f);else{this.o=!1,this.s=3,Et(12),Ii(this),ya(this);break e}}if(this.P){f=!0;let sn;for(;!this.J&&this.C<F.length;)if(sn=Lx(this,F),sn==bp){gt==4&&(this.s=4,Et(14),f=!1),To(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==nD){this.s=4,Et(15),To(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else To(this.i,this.l,sn,null),Ap(this,sn);if(iD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||F.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)To(this.i,this.l,F,"[Invalid Chunked Response]"),Ii(this),ya(this);else if(0<F.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),kp(pt),pt.M=!0,Et(11))}}else To(this.i,this.l,F,null),Ap(this,F);gt==4&&Ii(this),this.o&&!this.J&&(gt==4?ND(this.j,this):(this.o=!1,Su(this)))}else ek(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Ii(this),ya(this)}}}catch{}finally{}};function iD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?bp:(f=Number(d.substring(f,m)),isNaN(f)?nD:(m+=1,m+f>d.length?bp:(d=d.slice(m,m+f),c.C=m+f,d)))}xr.prototype.cancel=function(){this.J=!0,Ii(this)};function Su(c){c.S=Date.now()+c.I,oD(c,c.I)}function oD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ga(g(c.ba,c),d)}function Sp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Ox(this.i,this.A),this.L!=2&&(pa(),Et(17)),Ii(this),this.s=2,ya(this)):oD(this,this.S-c)};function ya(c){c.j.G==0||c.J||ND(c.j,c)}function Ii(c){Sp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,WE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ap(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Rp(f.h,c))){if(!c.K&&Rp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Ou(f),xu(f);else break e;xp(f),Et(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ga(g(f.Za,f),6e3));if(1>=cD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Di(f,11)}else if((c.K||f.g==c)&&Ou(f),!U(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let pt=ye[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let gt=ye[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let So=ye[5];So!=null&&typeof So=="number"&&0<So&&(m=1.5*So,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let sn=c.g;if(sn){let Lu=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lu){var A=m.h;A.g||Lu.indexOf("spdy")==-1&&Lu.indexOf("quic")==-1&&Lu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Mp(A,A.h),A.h=null))}if(m.D){let Op=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Op&&(m.ya=Op,Re(m.I,m.D,Op))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=kD(m,m.J?m.ia:null,m.W),F.K){uD(m.h,F);var Te=F,ot=m.L;ot&&(Te.I=ot),Te.B&&(Sp(Te),Su(Te)),m.g=F}else RD(m);0<f.i.length&&ku(f)}else ye[0]!="stop"&&ye[0]!="close"||Di(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Di(f,7):Pp(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}pa(4)}catch{}}var Vx=class{constructor(c,d){this.g=c,this.map=d}};function sD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cD(c){return c.h?1:c.g?c.g.size:0}function Rp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mp(c,d){c.g?c.g.add(d):c.h=d}function uD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sD.prototype.cancel=function(){if(this.i=lD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function lD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function Ux(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function jx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function dD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=jx(c),m=Ux(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var hD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,Au(this,c.j),this.o=c.o,this.g=c.g,Ru(this,c.s),this.l=c.l;var d=c.i,f=new wa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),fD(this,f),this.m=c.m}else c&&(d=String(c).match(hD))?(this.h=!1,Au(this,d[1]||"",!0),this.o=va(d[2]||""),this.g=va(d[3]||"",!0),Ru(this,d[4]),this.l=va(d[5]||"",!0),fD(this,d[6]||"",!0),this.m=va(d[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}Ei.prototype.toString=function(){var c=[],d=this.j;d&&c.push(_a(d,pD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(_a(d,pD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(_a(f,f.charAt(0)=="/"?qx:Hx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",_a(f,Gx)),c.join("")};function Zn(c){return new Ei(c)}function Au(c,d,f){c.j=f?va(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ru(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function fD(c,d,f){d instanceof wa?(c.i=d,Wx(c.i,c.h)):(f||(d=_a(d,zx)),c.i=new wa(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function Mu(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function va(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _a(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,$x),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $x(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pD=/[#\/\?@]/g,Hx=/[#\?:]/g,qx=/[#\?]/g,zx=/[#\?@]/g,Gx=/#/g;function wa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function kr(c){c.g||(c.g=new Map,c.h=0,c.i&&Bx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=wa.prototype,t.add=function(c,d){kr(this),this.i=null,c=bo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function gD(c,d){kr(c),d=bo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function mD(c,d){return kr(c),d=bo(c,d),c.g.has(d)}t.forEach=function(c,d){kr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},t.na=function(){kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},t.V=function(c){kr(this);let d=[];if(typeof c=="string")mD(this,c)&&(d=d.concat(this.g.get(bo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return kr(this),this.i=null,c=bo(this,c),mD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function yD(c,d,f){gD(c,d),0<f.length&&(c.i=null,c.g.set(bo(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var C=A;F[m]!==""&&(C+="="+encodeURIComponent(String(F[m]))),c.push(C)}}return this.i=c.join("&")};function bo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Wx(c,d){d&&!c.j&&(kr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(gD(this,m),yD(this,C,f))},c)),c.j=d}function Kx(c,d){let f=new ma;if(a.Image){let m=new Image;m.onload=y(Or,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Or,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Or,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Or,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Qx(c,d){let f=new ma,m=new AbortController,C=setTimeout(()=>{m.abort(),Or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?Or(f,"TestPingServer: ok",!0,d):Or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Or(f,"TestPingServer: error",!1,d)})}function Or(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function Yx(){this.g=new Px}function Zx(c,d,f){let m=f||"";try{dD(c,function(C,A){let F=C;l(C)&&(F=wp(C)),d.push(m+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Ia(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Ia,Ip),Ia.prototype.g=function(){return new Nu(this.l,this.j)},Ia.prototype.i=function(c){return function(){return c}}({});function Nu(c,d){ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Nu,ft),t=Nu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Da(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ea(this):Da(this),this.readyState==3&&vD(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ea(this))},t.Qa=function(c){this.g&&(this.response=c,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Da(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _D(c){let d="";return me(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Np(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=_D(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Oe(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Oe,ft);var Jx=/^https?$/i,Xx=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tp.g(),this.v=this.o?KE(this.o):KE(Tp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){wD(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Xx,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DD(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){wD(this,A)}};function wD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ID(c),Pu(c)}function ID(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pu(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ED(this):this.bb())},t.bb=function(){ED(this)};function ED(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Jn(c)!=4||c.Z()!=2)){if(c.u&&Jn(c)==4)qE(c.Ea,0,c);else if(It(c,"readystatechange"),Jn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var C=String(c.D).match(hD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!Jx.test(C?C.toLowerCase():"")}f=m}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var A=2<Jn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ID(c)}}finally{Pu(c)}}}}function Pu(c,d){if(c.g){DD(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=m}catch{}}}function DD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Nx(d)}};function TD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ek(c){let d={};c=(c.g&&2<=Jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(U(c[m]))continue;var f=b(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}T(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function bD(c){this.Aa=0,this.i=[],this.j=new ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sD(c&&c.concurrentRequestLimit),this.Da=new Yx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bD.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Et(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=kD(this,null,this.W),ku(this)};function Pp(c){if(CD(c),c.G==3){var d=c.U++,f=Zn(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),ba(c,f),d=new xr(c,c.j,d),d.L=2,d.v=Mu(Zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=OD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Su(d)}xD(c)}function xu(c){c.g&&(kp(c),c.g.cancel(),c.g=null)}function CD(c){xu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ou(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ku(c){if(!aD(c.h)&&!c.s){c.s=!0;var d=c.Ga;ca||VE(),ua||(ca(),ua=!0),dp.add(d,c),c.B=0}}function tk(c,d){return cD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ga(g(c.Ga,c,d),PD(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new xr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),D(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=AD(this,C,d),f=Zn(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),ba(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(_D(A)))+"&"+d:this.m&&Np(f,this.m,A)),Mp(this.h,C),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),C.T=!0,Cp(C,f,null)):Cp(C,f,d),this.G=2}}else this.G==3&&(c?SD(this,c):this.i.length==0||aD(this.h)||SD(this))};function SD(c,d){var f;d?f=d.l:f=c.U++;let m=Zn(c.I);Re(m,"SID",c.K),Re(m,"RID",f),Re(m,"AID",c.T),ba(c,m),c.m&&c.o&&Np(m,c.m,c.o),f=new xr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=AD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mp(c.h,f),Cp(f,m,d)}function ba(c,d){c.H&&me(c.H,function(f,m){Re(d,m,f)}),c.l&&dD({},function(f,m){Re(d,m,f)})}function AD(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Te=!0;for(let ot=0;ot<f;ot++){let ye=C[ot].g,pt=C[ot].map;if(ye-=A,0>ye)A=Math.max(0,C[ot].g-100),Te=!1;else try{Zx(pt,F,"req"+ye+"_")}catch{m&&m(pt)}}if(Te){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function RD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ca||VE(),ua||(ca(),ua=!0),dp.add(d,c),c.v=0}}function xp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ga(g(c.Fa,c),PD(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,MD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ga(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),xu(this),MD(this))};function kp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function MD(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Zn(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),ba(c,d),c.m&&c.o&&Np(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Mu(Zn(d)),f.m=null,f.P=!0,rD(f,c)}t.Za=function(){this.C!=null&&(this.C=null,xu(this),xp(this),Et(19))};function Ou(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ND(c,d){var f=null;if(c.g==d){Ou(c),kp(c),c.g=null;var m=2}else if(Rp(c.h,d))f=d.D,uD(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=Tu(),It(m,new XE(m,f)),ku(c)}else RD(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&tk(c,d)||m==2&&xp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function PD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Di(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new Ei(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Au(m,"https"),Mu(m),C?Kx(m.toString(),f):Qx(m.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),xD(c),CD(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function xD(c){if(c.G=0,c.ka=[],c.l){let d=lD(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function kD(c,d,f){var m=f instanceof Ei?Zn(f):new Ei(f);if(m.g!="")d&&(m.g=d+"."+m.g),Ru(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Ei(null);m&&Au(A,m),d&&(A.g=d),C&&Ru(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Re(m,f,d),Re(m,"VER",c.la),ba(c,m),m}function OD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new Ia({eb:f})):new Oe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function FD(){}t=FD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fu(){}Fu.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){ft.call(this),this.g=new bD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Co(this)}E(Vt,ft),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Pp(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wp(c),c=f);d.i.push(new Vx(d.Ya++,c)),d.G==3&&ku(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Pp(this.g),delete this.g,Vt.aa.N.call(this)};function LD(c){Ep.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}E(LD,Ep);function VD(){Dp.call(this),this.status=1}E(VD,Dp);function Co(c){this.g=c}E(Co,FD),Co.prototype.ua=function(){It(this.g,"a")},Co.prototype.ta=function(c){It(this.g,new LD(c))},Co.prototype.sa=function(c){It(this.g,new VD)},Co.prototype.ra=function(){It(this.g,"b")},Fu.prototype.createWebChannel=Fu.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,iw=Cr.createWebChannelTransport=function(){return new Fu},rw=Cr.getStatEventTarget=function(){return Tu()},nw=Cr.Event=wi,nf=Cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bu.NO_ERROR=0,bu.TIMEOUT=8,bu.HTTP_ERROR=6,zc=Cr.ErrorCode=bu,eD.COMPLETE="complete",tw=Cr.EventType=eD,QE.EventType=fa,fa.OPEN="a",fa.CLOSE="b",fa.ERROR="c",fa.MESSAGE="d",ft.prototype.listen=ft.prototype.K,xs=Cr.WebChannel=QE,Cz=Cr.FetchXmlHttpFactory=Ia,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,ew=Cr.XhrIo=Oe}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});var nM="@firebase/firestore",rM="4.7.15";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var Xs="11.8.0";var ho=new Ln("@firebase/firestore");function ks(){return ho.logLevel}function V(t,...e){if(ho.logLevel<=de.DEBUG){let n=e.map(QI);ho.debug(`Firestore (${Xs}): ${t}`,...n)}}function Sr(t,...e){if(ho.logLevel<=de.ERROR){let n=e.map(QI);ho.error(`Firestore (${Xs}): ${t}`,...n)}}function Bs(t,...e){if(ho.logLevel<=de.WARN){let n=e.map(QI);ho.warn(`Firestore (${Xs}): ${t}`,...n)}}function QI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QM(t,r,n)}function QM(t,e,n){let r=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function we(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||QM(e,i,r)}function K(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var En=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}},dw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hw=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new En;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new En,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new En)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new lf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new rt(e)}},fw=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},pw=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},df=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gw=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new df(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new df(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Sz(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function YM(){return new TextEncoder}var hf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Sz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function mw(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=YM(),s=Az(o.encode(iM(t,n)),o.encode(iM(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function iM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Az(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function $s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var oM=-62135596800,sM=1e6,lt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oM)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sM}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-oM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new lt(0,0))}static max(){return new t(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var aM="__name__",ff=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):mw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}},ke=class t extends ff{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Rz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends ff{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Rz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aM}static keyField(){return new t([aM])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Zc=-1,yw=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yw.UNKNOWN_ID=-1;function Mz(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new fo(i,q.empty(),e)}function Nz(t){return new fo(t.readTime,t.key,Zc)}var fo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),q.empty(),Zc)}static max(){return new t(X.max(),q.empty(),Zc)}};function Pz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var xz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ea(t){return v(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==xz)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function kz(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}var YI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),ZI=-1;function Qf(t){return t==null}function Jc(t){return t===0&&1/t==-1/0}function Oz(t){return typeof t=="number"&&Number.isInteger(t)&&!Jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ZM="";function Fz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cM(e)),e=Lz(t.get(n),e);return cM(e)}function Lz(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case ZM:n+="";break;default:n+=o}}return n}function cM(t){return t+ZM+""}var Vz="remoteDocuments",JM="owner";var XM="mutationQueues";var eN="mutations";var tN="documentMutations",Uz="remoteDocumentsV14";var nN="remoteDocumentGlobal";var rN="targets";var iN="targetDocuments";var oN="targetGlobal",sN="collectionParents";var aN="clientMetadata";var cN="bundles";var uN="namedQueries";var jz="indexConfiguration";var Bz="indexState";var $z="indexEntries";var lN="documentOverlays";var Hz="globals";var qz=[XM,eN,tN,Vz,rN,JM,oN,iN,aN,nN,sN,cN,uN],Fee=[...qz,lN],zz=[XM,eN,tN,Uz,rN,JM,oN,iN,aN,nN,sN,cN,uN,lN],Gz=zz,Wz=[...Gz,jz,Bz,$z];var Lee=[...Wz,Hz];function uM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _i(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pf(this.data.getIterator())}getIteratorFrom(e){return new pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},pf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new it(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var gf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var Kz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(we(!!t,39018),typeof t=="string"){let e=0,n=Kz.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}var hN="server_timestamp",fN="__type__",pN="__previous_value__",gN="__local_write_time__";function JI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fN])===null||n===void 0?void 0:n.stringValue)===hN}function Yf(t){let e=t.mapValue.fields[pN];return JI(e)?Yf(e):e}function Xc(t){let e=Ar(t.mapValue.fields[gN].timestampValue);return new lt(e.seconds,e.nanos)}var _w=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},mf="(default)",yf=class t{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var XI="__type__",mN="__max__",rf={mapValue:{fields:{__type__:{stringValue:mN}}}},eE="__vector__",Hs="value";function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JI(t)?4:vN(t)?9007199254740991:yN(t)?10:11:z(28295,{value:t})}function Wn(t,e){if(t===e)return!0;let n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ar(i.timestampValue),a=Ar(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rr(i.bytesValue).isEqual(Rr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?Jc(s)===Jc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(uM(s)!==uM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Wn(s[u],a[u])))return!1;return!0}(t,e);default:return z(52216,{left:t})}}function eu(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function qs(t,e){if(t===e)return 0;let n=fi(t),r=fi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return lM(t.timestampValue,e.timestampValue);case 4:return lM(Xc(t),Xc(e));case 5:return mw(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Rr(o),u=Rr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ae(Ne(o.latitude),Ne(s.latitude));return a!==0?a:ae(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Hs])===null||a===void 0?void 0:a.arrayValue,E=(u=g[Hs])===null||u===void 0?void 0:u.arrayValue,R=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=E?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:dM(y,E)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===rf.mapValue&&s===rf.mapValue)return 0;if(o===rf.mapValue)return 1;if(s===rf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=mw(u[p],h[p]);if(g!==0)return g;let y=qs(a[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)}(t.mapValue,e.mapValue);default:throw z(23264,{Pe:n})}}function lM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=Ar(t),r=Ar(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function dM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=qs(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function zs(t){return ww(t)}function ww(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=ww(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ww(n.fields[s])}`;return i+"}"}(t.mapValue):z(61005,{value:t})}function af(t){switch(fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Yf(t);return e?16+af(e):16;case 5:return 2*t.stringValue.length;case 6:return Rr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+af(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _i(r.fields,(o,s)=>{i+=o.length+af(s)}),i}(t.mapValue);default:throw z(13486,{value:t})}}function hM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Iw(t){return!!t&&"integerValue"in t}function tE(t){return!!t&&"arrayValue"in t}function fM(t){return!!t&&"nullValue"in t}function pM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function yN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XI])===null||n===void 0?void 0:n.stringValue)===eE}function Wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return _i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mN}var Uee={mapValue:{fields:{[XI]:{stringValue:eE},[Hs]:{arrayValue:{}}}}};var qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Wc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_i(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Wc(this.value))}};function _N(t){let e=[];return _i(t.fields,(n,r)=>{let i=new zt([n]);if(cf(r)){let o=_N(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}var Dn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function gM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=qs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}var po=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Qz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var vf=class{},Ke=class t extends vf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dw(e,n,r):n==="array-contains"?new Cw(e,r):n==="in"?new Sw(e,r):n==="not-in"?new Aw(e,r):n==="array-contains-any"?new Rw(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Tw(e,r):new bw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qs(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Tn=class t extends vf{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return wN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function wN(t){return t.op==="and"}function IN(t){return Yz(t)&&wN(t)}function Yz(t){for(let e of t.filters)if(e instanceof Tn)return!1;return!0}function Ew(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(IN(t))return t.filters.map(e=>Ew(e)).join(",");{let e=t.filters.map(n=>Ew(n)).join(",");return`${t.op}(${e})`}}function EN(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(t,e):t instanceof Tn?function(r,i){return i instanceof Tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&EN(s,i.filters[a]),!0):!1}(t,e):void z(19439)}function DN(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(DN).join(" ,")+"}"}(t):"Filter"}var Dw=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},Tw=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=TN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},bw=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=TN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function TN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var Cw=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return tE(n)&&eu(n.arrayValue,this.value)}},Sw=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}},Aw=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}},Rw=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!tE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}};var Mw=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function yM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Mw(t,e,n,r,i,o,s)}function nE(t){let e=K(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ew(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.Ie=n}return e.Ie}function rE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mM(t.startAt,e.startAt)&&mM(t.endAt,e.endAt)}function Nw(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var pi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Zz(t,e,n,r,i,o,s,a){return new pi(t,e,n,r,i,o,s,a)}function Zf(t){return new pi(t)}function vM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bN(t){return t.collectionGroup!==null}function Kc(t){let e=K(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new it(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new po(o,r))}),n.has(zt.keyField().canonicalString())||e.Ee.push(new po(zt.keyField(),r))}return e.Ee}function zn(t){let e=K(t);return e.de||(e.de=Jz(e,Kc(t))),e.de}function Jz(t,e){if(t.limitType==="F")return yM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new po(i.field,o)});let n=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;return yM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pw(t,e){let n=t.filters.concat([e]);return new pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xw(t,e,n){return new pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return rE(zn(t),zn(e))&&t.limitType===e.limitType}function CN(t){return`${nE(zn(t))}|lt:${t.limitType}`}function Os(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DN(i)).join(", ")}]`),Qf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function Xf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Kc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=gM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Kc(r),i)||r.endAt&&!function(s,a,u){let l=gM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Kc(r),i))}(t,e)}function Xz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SN(t){return(e,n)=>{let r=!1;for(let i of Kc(t)){let o=e6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function e6(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?qs(u,l):z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:t.dir})}}var Mr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return dN(this.inner)}size(){return this.innerSize}};var t6=new Le(q.comparator);function Nr(){return t6}var AN=new Le(q.comparator);function Gc(...t){let e=AN;for(let n of t)e=e.insert(n.key,n);return e}function RN(t){let e=AN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function co(){return Qc()}function MN(){return Qc()}function Qc(){return new Mr(t=>t.toString(),(t,e)=>t.isEqual(e))}var n6=new Le(q.comparator),r6=new it(q.comparator);function pe(...t){let e=r6;for(let n of t)e=e.add(n);return e}var i6=new it(ae);function o6(){return i6}function iE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function NN(t){return{integerValue:""+t}}function s6(t,e){return Oz(e)?NN(e):iE(t,e)}var Ws=class{constructor(){this._=void 0}};function a6(t,e,n){return t instanceof go?function(i,o){let s={fields:{[fN]:{stringValue:hN},[gN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&JI(o)&&(o=Yf(o)),o&&(s.fields[pN]=o),{mapValue:s}}(n,e):t instanceof gi?xN(t,e):t instanceof mo?kN(t,e):function(i,o){let s=PN(i,o),a=_M(s)+_M(i.Re);return Iw(s)&&Iw(i.Re)?NN(a):iE(i.serializer,a)}(t,e)}function c6(t,e,n){return t instanceof gi?xN(t,e):t instanceof mo?kN(t,e):n}function PN(t,e){return t instanceof Ks?function(r){return Iw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var go=class extends Ws{},gi=class extends Ws{constructor(e){super(),this.elements=e}};function xN(t,e){let n=ON(e);for(let r of t.elements)n.some(i=>Wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var mo=class extends Ws{constructor(e){super(),this.elements=e}};function kN(t,e){let n=ON(e);for(let r of t.elements)n=n.filter(i=>!Wn(i,r));return{arrayValue:{values:n}}}var Ks=class extends Ws{constructor(e,n){super(),this.serializer=e,this.Re=n}};function _M(t){return Ne(t.integerValue||t.doubleValue)}function ON(t){return tE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _f=class{constructor(e,n){this.field=e,this.transform=n}};function u6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gi&&i instanceof gi||r instanceof mo&&i instanceof mo?$s(r.elements,i.elements,Wn):r instanceof Ks&&i instanceof Ks?Wn(r.Re,i.Re):r instanceof go&&i instanceof go}(t.transform,e.transform)}var kw=class{constructor(e,n){this.version=e,this.transformResults=n}},Gt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qs=class{};function FN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ys(t.key,Gt.none()):new yo(t.key,t.data,Gt.none());{let n=t.data,r=qt.empty(),i=new it(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Kn(t.key,r,new rn(i.toArray()),Gt.none())}}function l6(t,e,n){t instanceof yo?function(i,o,s){let a=i.value.clone(),u=IM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(i,o,s){if(!uf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=IM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Yc(t,e,n,r){return t instanceof yo?function(o,s,a,u){if(!uf(o.precondition,s))return a;let l=o.value.clone(),h=EM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kn?function(o,s,a,u){if(!uf(o.precondition,s))return a;let l=EM(o.fieldTransforms,u,s),h=s.data;return h.setAll(LN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return uf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function d6(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=PN(r.transform,i||null);o!=null&&(n===null&&(n=qt.empty()),n.set(r.field,o))}return n||null}function wM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(o,s)=>u6(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var yo=class extends Qs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kn=class extends Qs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function IM(t,e,n){let r=new Map;we(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,c6(s,a,n[i]))}return r}function EM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,a6(o,s,e))}return r}var Ys=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ow=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Fw=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&l6(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=MN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=FN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>wM(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>wM(n,r))}},Lw=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return n6}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Vw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,ge;function h6(t){switch(t){case N.OK:return z(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return z(15467,{code:t})}}function VN(t){if(t===void 0)return Sr("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ge.OK:return N.OK;case Ge.CANCELLED:return N.CANCELLED;case Ge.UNKNOWN:return N.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return N.INTERNAL;case Ge.UNAVAILABLE:return N.UNAVAILABLE;case Ge.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ge.NOT_FOUND:return N.NOT_FOUND;case Ge.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ge.ABORTED:return N.ABORTED;case Ge.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ge.DATA_LOSS:return N.DATA_LOSS;default:return z(39323,{code:t})}}(ge=Ge||(Ge={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var DM=null;var f6=new br([4294967295,4294967295],0);function TM(t){let e=YM().encode(t),n=new X_;return n.update(e),new Uint8Array(n.digest())}function bM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new br([n,r],0),new br([i,o],0)]}var jw=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uo(`Invalid padding: ${n}`);if(r<0)throw new uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=br.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(br.fromNumber(r)));return i.compare(f6)===1&&(i=new br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=TM(e),[r,i]=bM(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=TM(e),[r,i]=bM(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},uo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Le(ae),Nr(),pe())}},tu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var Us=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},If=class{constructor(e,n){this.targetId=e,this.Ce=n}},Ef=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Df=class{constructor(){this.Fe=0,this.Me=CM(),this.xe=wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new tu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=CM()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,we(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Bw=class{constructor(e){this.ze=e,this.je=new Map,this.He=Nr(),this.Je=of(),this.Ye=of(),this.Ze=new Le(ae)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(Nw(o))if(r===0){let s=new q(o.path);this.tt(n,s,Dn.newNoDocument(s,X.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}DM?.ht(function(h,p,g,y,E){var R,M,O,U,H,ee;let Be={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},me=p.unchangedNames;return me&&(Be.bloomFilter={applied:E===0,hashCount:(R=me?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(U=(O=(M=me?.bits)===null||M===void 0?void 0:M.bitmap)===null||O===void 0?void 0:O.length)!==null&&U!==void 0?U:0,padding:(ee=(H=me?.bits)===null||H===void 0?void 0:H.padding)!==null&&ee!==void 0?ee:0,mightContain:T=>{var _;return(_=y?.mightContain(T))!==null&&_!==void 0&&_}}),Be}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Rr(r).toUint8Array()}catch(u){if(u instanceof gf)return Bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new jw(s,i,o)}catch(u){return Bs(u instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Nw(a.target)){let u=new q(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Dn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new wf(e,n,this.Ze,this.He,r);return this.He=Nr(),this.Je=of(),this.Ye=of(),this.Ze=new Le(ae),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Df,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new it(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new it(ae),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Df),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function of(){return new Le(q.comparator)}function CM(){return new Le(q.comparator)}var p6={asc:"ASCENDING",desc:"DESCENDING"},g6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m6={and:"AND",or:"OR"},$w=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hw(t,e){return t.useProto3Json||Qf(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y6(t,e){return Tf(t,e.toTimestamp())}function Gn(t){return we(!!t,49232),X.fromTimestamp(function(n){let r=Ar(n);return new lt(r.seconds,r.nanos)}(t))}function oE(t,e){return qw(t,e).canonicalString()}function qw(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jN(t){let e=ke.fromString(t);return we(zN(e),10190,{key:e.toString()}),e}function zw(t,e){return oE(t.databaseId,e.path)}function ow(t,e){let n=jN(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q($N(n))}function BN(t,e){return oE(t.databaseId,e)}function v6(t){let e=jN(t);return e.length===4?ke.emptyPath():$N(e)}function Gw(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $N(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SM(t,e,n){return{name:zw(t,e),fields:n.value.mapValue.fields}}function _6(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string",58123),wt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:VN(l.code);return new L(h,l.message||"")}(s);n=new Ef(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ow(t,r.document.name),o=Gn(r.document.updateTime),s=r.document.createTime?Gn(r.document.createTime):X.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=Dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ow(t,r.document),o=r.readTime?Gn(r.readTime):X.min(),s=Dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ow(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return z(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Uw(i,o),a=r.targetId;n=new If(a,s)}}return n}function w6(t,e){let n;if(e instanceof yo)n={update:SM(t,e.key,e.value)};else if(e instanceof Ys)n={delete:zw(t,e.key)};else if(e instanceof Kn)n={update:SM(t,e.key,e.data),updateMask:R6(e.fieldMask)};else{if(!(e instanceof Ow))return z(16599,{ft:e.type});n={verify:zw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof go)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:y6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(t,e.precondition)),n}function I6(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Gn(i.updateTime):Gn(o);return s.isEqual(X.min())&&(s=Gn(o)),new kw(s,i.transformResults||[])}(n,e))):[]}function E6(t,e){return{documents:[BN(t,e.path)]}}function D6(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BN(t,i);let o=function(l){if(l.length!==0)return qN(Tn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Fs(g.field),direction:C6(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Hw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function T6(t){let e=v6(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=HN(p);return g instanceof Tn&&IN(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(E){return new po(Ls(E.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Qf(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Gs(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Gs(y,g)}(n.endAt)),Zz(e,i,s,o,a,"F",u,l)}function b6(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ls(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ls(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ls(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ls(n.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(r=>HN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(n.compositeFilter.op))}(t):z(30097,{filter:t})}function C6(t){return p6[t]}function S6(t){return g6[t]}function A6(t){return m6[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Ls(t){return zt.fromServerFormat(t.fieldPath)}function qN(t){return t instanceof Ke?function(n){if(n.op==="=="){if(pM(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(fM(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pM(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(fM(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:S6(n.op),value:n.value}}}(t):t instanceof Tn?function(n){let r=n.getFilters().map(i=>qN(i));return r.length===1?r[0]:{compositeFilter:{op:A6(n.op),filters:r}}}(t):z(54877,{filter:t})}function R6(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var nu=class t{constructor(e,n,r,i,o=X.min(),s=X.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ww=class{constructor(e){this.wt=e}};function M6(t){let e=T6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xw(e,e.limit,"L"):e}var bf=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Jc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Ar(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Rr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?vN(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):yN(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):z(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=Hs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ne(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),q.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};bf.Wt=new bf;var Kw=class{constructor(){this.Cn=new Qw}addToCollectionParentIndex(e,n){return this.Cn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(fo.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Qw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(ke.comparator)).toArray()}};var jee=new Uint8Array(0);var AM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GN=41943040,nn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(GN,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var ru=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var RM="LruGarbageCollector",N6=1048576;function MM([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var Yw=class{constructor(e){this.Er=e,this.buffer=new it(MM),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();MM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Zw=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){V(RM,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?V(RM,"Ignoring IndexedDB error during garbage collection: ",n):yield ea(n)}yield this.mr(3e5)}))}},Jw=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(YI.le);let r=new Yw(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(AM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AM):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ks()<=de.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function P6(t,e){return new Jw(t,e)}var Xw=class{constructor(){this.changes=new Mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var eI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var tI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yc(r.mutation,i,rn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Nr(),s=Qc(),a=function(){return Qc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Kn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Yc(h.mutation,l,h.mutation.getFieldMask(),lt.now())):s.set(l.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new eI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Qc(),i=new Le((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=MN();h.forEach(g=>{if(!o.has(g)){let y=FN(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(co()),a=Zc,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:RN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Gc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,g){return new pi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let a=Gc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Yc(h.mutation,l,rn.empty(),lt.now()),Xf(n,l)&&(a=a.insert(u,l))}),a})}};var nI=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return x.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:M6(i.bundledQuery),readTime:Gn(i.readTime)}}(n)),x.resolve()}};var rI=class{constructor(){this.overlays=new Le(q.comparator),this.Qr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=co();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=co(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Le((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=co(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=co(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}bt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Vw(n,r));let o=this.Qr.get(n);o===void 0&&(o=pe(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var iI=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var iu=class{constructor(){this.$r=new it(We.Ur),this.Kr=new it(We.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new We(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new We(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new q(new ke([])),r=new We(n,e),i=new We(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new q(new ke([])),r=new We(n,e),i=new We(n,e+1),o=pe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new We(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return q.comparator(e.key,n.key)||ae(e.Zr,n.Zr)}static Wr(e,n){return ae(e.Zr,n.Zr)||q.comparator(e.key,n.key)}};var oI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new it(We.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Fw(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?ZI:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(ae);return n.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new We(new q(o),0),a=new it(ae);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(n.mutations,i=>{let o=new We(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new We(n,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var sI=class{constructor(e){this.ii=e,this.docs=function(){return new Le(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=Nr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Nr(),s=n.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Pz(Nz(h),r)<=0||(i.has(h.key)||Xf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){z(9500)}si(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aI(this)}getSize(e){return x.resolve(this.size)}},aI=class extends Xw{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var cI=class{constructor(e){this.persistence=e,this.oi=new Mr(n=>nE(n),rE),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new iu,this.targetCount=0,this.ui=ru.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),x.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new ru(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Tr(n),x.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.ai.containsKey(n))}};var Cf=class{constructor(e,n){this.ci={},this.overlays={},this.li=new YI(0),this.hi=!1,this.hi=!0,this.Pi=new iI,this.referenceDelegate=e(this),this.Ti=new cI(this),this.indexManager=new Kw,this.remoteDocumentCache=function(i){return new sI(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Ww(n),this.Ei=new nI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new oI(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new uI(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},uI=class extends vw{constructor(e){super(),this.currentSequenceNumber=e}},lI=class t{constructor(e){this.persistence=e,this.Vi=new iu,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw z(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=q.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return x.or([()=>x.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},Sf=class t{constructor(e,n){this.persistence=e,this.yi=new Mr(r=>Fz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=P6(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),x.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=af(e.data.value)),n}Dr(e,n,r){return x.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var dI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var hI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fI=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return S0()?8:kz(nt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new hI;return this.bs(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ks()<=de.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(ks()<=de.DEBUG&&V("QueryEngine","Query:",Os(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ks()<=de.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):x.resolve())}ws(e,n){if(vM(n))return x.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xw(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,a);return this.Cs(n,l,s,u.readTime)?this.ws(e,xw(n,null,"F")):this.Fs(e,l,n,u)}))})))}Ss(e,n,r,i){return vM(n)||i.isEqual(X.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?x.resolve(null):(ks()<=de.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Os(n)),this.Fs(e,s,n,Mz(i,Zc)).next(a=>a))})}vs(e,n){let r=new it(SN(e));return n.forEach((i,o)=>{Xf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,n,r){return ks()<=de.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Os(n)),this.ys.getDocumentsMatchingQuery(e,n,fo.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var sE="LocalStore",x6=3e8,pI=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Le(ae),this.Os=new Mr(o=>nE(o),rE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function k6(t,e,n,r){return new pI(t,e,n,r)}function WN(t,e){return v(this,null,function*(){let n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function O6(t,e){let n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=x.resolve();return g.forEach(E=>{y=y.next(()=>h.getEntry(u,E)).next(R=>{let M=l.docVersions.get(E);we(M!==null,48541),R.version.compareTo(M)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KN(t){let e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function F6(t,e){let n=K(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,M,O){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=x6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,y,h)&&a.push(n.Ti.updateTargetData(o,y))});let u=Nr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(L6(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(X.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function L6(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Nr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(sE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function V6(t,e){let n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ZI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U6(t,e){let n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new nu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function gI(t,e,n){return v(this,null,function*(){let r=K(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ta(s))throw s;V(sE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function NM(t,e,n){let r=K(t),i=X.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=K(u),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:pe())).next(a=>(j6(r,Xz(e),a),{documents:a,$s:o})))}function j6(t,e,n){let r=t.Ns.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var Af=class{constructor(){this.activeTargetIds=o6()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mI=class{constructor(){this.xo=new Af,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Af,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yI=class{No(e){}shutdown(){}};var PM="ConnectivityMonitor",Rf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){V(PM,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){V(PM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sf=null;function vI(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}var sw="RestConnection",B6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},_I=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===mf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=vI(),a=this.jo(e,n.toUriEncodedString());V(sw,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Fn(l);return this.Jo(e,a,u,r,h).then(p=>(V(sw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Bs(sw,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=B6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var wI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var vt="WebChannelConnection",II=class extends _I{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=vI();return new Promise((a,u)=>{let l=new ew;l.setWithCredentials(!0),l.listenOnce(tw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zc.NO_ERROR:let p=l.getResponseJson();V(vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case zc.TIMEOUT:V(vt,`RPC '${e}' ${s} timed out`),u(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:let g=l.getStatus();if(V(vt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let E=y?.error;if(E&&E.status&&E.message){let R=function(O){let U=O.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(U)>=0?U:N.UNKNOWN}(E.status);u(new L(R,E.message))}else u(new L(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(N.UNAVAILABLE,"Connection failed."));break;default:z(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{V(vt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(vt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}T_(e,n,r){let i=vI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iw(),a=rw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,E=new wI({Zo:M=>{y?V(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(V(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),V(vt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Xo:()=>p.close()}),R=(M,O,U)=>{M.listen(O,H=>{try{U(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return R(p,xs.EventType.OPEN,()=>{y||(V(vt,`RPC '${e}' stream ${i} transport opened.`),E.__())}),R(p,xs.EventType.CLOSE,()=>{y||(y=!0,V(vt,`RPC '${e}' stream ${i} transport closed`),E.u_())}),R(p,xs.EventType.ERROR,M=>{y||(y=!0,Bs(vt,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),E.u_(new L(N.UNAVAILABLE,"The operation could not be completed")))}),R(p,xs.EventType.MESSAGE,M=>{var O;if(!y){let U=M.data[0];we(!!U,16349);let H=U,ee=H?.error||((O=H[0])===null||O===void 0?void 0:O.error);if(ee){V(vt,`RPC '${e}' stream ${i} received error:`,ee);let Be=ee.status,me=function(I){let D=Ge[I];if(D!==void 0)return VN(D)}(Be),T=ee.message;me===void 0&&(me=N.INTERNAL,T="Unknown error status: "+Be+" with message "+ee.message),y=!0,E.u_(new L(me,T)),p.close()}else V(vt,`RPC '${e}' stream ${i} received:`,U),E.c_(U)}}),R(a,nw.STAT_EVENT,M=>{M.stat===nf.PROXY?V(vt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===nf.NOPROXY&&V(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}};function aw(){return typeof document<"u"?document:null}function ep(t){return new $w(t,!0)}var Mf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var xM="PersistentStream",Nf=class{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Mf(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return v(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return v(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,n){return v(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){let r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>v(this,null,function*(){this.state=0,this.start()}))}W_(e){return V(xM,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(V(xM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},EI=class extends Nf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let n=_6(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Gn(s.readTime):X.min()}(e);return this.listener.j_(n,r)}H_(e){let n={};n.database=Gw(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Nw(u)?{documents:E6(o,u)}:{query:D6(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=UN(o,s.resumeToken);let l=Hw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=Tf(o,s.snapshotVersion.toTimestamp());let l=Hw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=b6(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){let n={};n.database=Gw(this.serializer),n.removeTarget=e,this.L_(n)}},DI=class extends Nf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let n=I6(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.ea(r,n)}ta(){let e={};e.database=Gw(this.serializer),this.L_(e)}Z_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>w6(this.serializer,r))};this.L_(n)}};var TI=class{},bI=class extends TI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,qw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,qw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},CI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Sr(n),this.oa=!1):V("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var vo="RemoteStore",SI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Io(this)&&(V(vo,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=K(u);l.Ta.add(4),yield hu(l),l.da.set("Unknown"),l.Ta.delete(4),yield tp(l)})}(this))}))}),this.da=new CI(r,i)}};function tp(t){return v(this,null,function*(){if(Io(t))for(let e of t.Ia)yield e(!0)})}function hu(t){return v(this,null,function*(){for(let e of t.Ia)yield e(!1)})}function QN(t,e){let n=K(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),lE(n)?uE(n):na(n).M_()&&cE(n,e))}function aE(t,e){let n=K(t),r=na(n);n.Pa.delete(e),r.M_()&&YN(n,e),n.Pa.size===0&&(r.M_()?r.N_():Io(n)&&n.da.set("Unknown"))}function cE(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).H_(e)}function YN(t,e){t.Aa.Ke(e),na(t).J_(e)}function uE(t){t.Aa=new Bw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),na(t).start(),t.da._a()}function lE(t){return Io(t)&&!na(t).F_()&&t.Pa.size>0}function Io(t){return K(t).Ta.size===0}function ZN(t){t.Aa=void 0}function $6(t){return v(this,null,function*(){t.da.set("Online")})}function H6(t){return v(this,null,function*(){t.Pa.forEach((e,n)=>{cE(t,e)})})}function q6(t,e){return v(this,null,function*(){ZN(t),lE(t)?(t.da.ca(e),uE(t)):t.da.set("Unknown")})}function z6(t,e,n){return v(this,null,function*(){if(t.da.set("Online"),e instanceof Ef&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(t,e)}catch(r){V(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pf(t,r)}else if(e instanceof Us?t.Aa.Xe(e):e instanceof If?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(X.min()))try{let r=yield KN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Pa.get(l);h&&o.Pa.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Pa.get(u);if(!h)return;o.Pa.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),YN(o,u);let p=new nu(h.target,u,l,h.sequenceNumber);cE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V(vo,"Failed to raise snapshot:",r),yield Pf(t,r)}})}function Pf(t,e,n){return v(this,null,function*(){if(!ta(e))throw e;t.Ta.add(1),yield hu(t),t.da.set("Offline"),n||(n=()=>KN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){V(vo,"Retrying IndexedDB access"),yield n(),t.Ta.delete(1),yield tp(t)}))})}function JN(t,e){return e().catch(n=>Pf(t,n,e))}function np(t){return v(this,null,function*(){let e=K(t),n=mi(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ZI;for(;G6(e);)try{let i=yield V6(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,W6(e,i)}catch(i){yield Pf(e,i)}XN(e)&&eP(e)})}function G6(t){return Io(t)&&t.ha.length<10}function W6(t,e){t.ha.push(e);let n=mi(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function XN(t){return Io(t)&&!mi(t).F_()&&t.ha.length>0}function eP(t){mi(t).start()}function K6(t){return v(this,null,function*(){mi(t).ta()})}function Q6(t){return v(this,null,function*(){let e=mi(t);for(let n of t.ha)e.Z_(n.mutations)})}function Y6(t,e,n){return v(this,null,function*(){let r=t.ha.shift(),i=Lw.from(r,e,n);yield JN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield np(t)})}function Z6(t,e){return v(this,null,function*(){e&&mi(t).Y_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return h6(s)&&s!==N.ABORTED}(i.code)){let o=r.ha.shift();mi(r).O_(),yield JN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield np(r)}})}(t,e)),XN(t)&&eP(t)})}function kM(t,e){return v(this,null,function*(){let n=K(t);n.asyncQueue.verifyOperationInProgress(),V(vo,"RemoteStore received new credentials");let r=Io(n);n.Ta.add(3),yield hu(n),r&&n.da.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),yield tp(n)})}function J6(t,e){return v(this,null,function*(){let n=K(t);e?(n.Ta.delete(2),yield tp(n)):e||(n.Ta.add(2),yield hu(n),n.da.set("Unknown"))})}function na(t){return t.Ra||(t.Ra=function(n,r,i){let o=K(n);return o.ra(),new EI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:$6.bind(null,t),n_:H6.bind(null,t),i_:q6.bind(null,t),j_:z6.bind(null,t)}),t.Ia.push(e=>v(this,null,function*(){e?(t.Ra.O_(),lE(t)?uE(t):t.da.set("Unknown")):(yield t.Ra.stop(),ZN(t))}))),t.Ra}function mi(t){return t.Va||(t.Va=function(n,r,i){let o=K(n);return o.ra(),new DI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:K6.bind(null,t),i_:Z6.bind(null,t),X_:Q6.bind(null,t),ea:Y6.bind(null,t)}),t.Ia.push(e=>v(this,null,function*(){e?(t.Va.O_(),yield np(t)):(yield t.Va.stop(),t.ha.length>0&&(V(vo,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))}))),t.Va}var AI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dE(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),ta(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var xf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Gc(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var kf=class{constructor(){this.ma=new Le(q.comparator)}track(e){let n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):z(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){let e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}},Zs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,xf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var RI=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},MI=class{constructor(){this.queries=OM(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){let i=K(n),o=i.queries;i.queries=OM(),o.forEach((s,a)=>{for(let u of a.ya)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function OM(){return new Mr(t=>CN(t),Jf)}function hE(t,e){return v(this,null,function*(){let n=K(t),r=3,i=e.query,o=n.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new RI,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield n.onListen(i,!0);break;case 1:o.pa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=dE(s,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&pE(n)})}function fE(t,e){return v(this,null,function*(){let n=K(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function X6(t,e){let n=K(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&pE(n)}function e3(t,e,n){let r=K(t),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(n);r.queries.delete(e)}function pE(t){t.ba.forEach(e=>{e.next()})}var NI,FM;(FM=NI||(NI={})).Ca="default",FM.Cache="cache";var ou=class{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;let r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==NI.Cache}};var Of=class{constructor(e){this.key=e}},Ff=class{constructor(e){this.key=e}},PI=class{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=pe(),this.mutatedKeys=pe(),this.Ha=SN(e),this.Ja=new xf(this.Ha)}get Ya(){return this.Ga}Za(e,n){let r=n?n.Xa:new kf,i=n?n.Ja:this.Ja,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Xf(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;g&&y?g.data.isEqual(y.data)?E!==R&&(r.track({type:3,doc:y}),M=!0):this.eu(g,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Ha(y,u)>0||l&&this.Ha(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),M=!0):g&&!y&&(r.track({type:1,doc:g}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(y,E){let R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{Vt:M})}};return R(y)-R(E)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=n&&!i?this.nu():[],u=this.ja.size===0&&this.current&&!i?1:0,l=u!==this.za;return this.za=u,s.length!==0||l?{snapshot:new Zs(this.query,e.Ja,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new kf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new Ff(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new Of(r))}),n}su(e){this.Ga=e.$s,this.ja=pe();let n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Zs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},gE="SyncEngine",xI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},kI=class{constructor(e){this.key=e,this._u=!1}},OI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Mr(a=>CN(a),Jf),this.cu=new Map,this.lu=new Set,this.hu=new Le(q.comparator),this.Pu=new Map,this.Tu=new iu,this.Iu={},this.Eu=new Map,this.du=ru.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function t3(t,e,n=!0){return v(this,null,function*(){let r=sP(t),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield tP(r,e,n,!0),i})}function n3(t,e){return v(this,null,function*(){let n=sP(t);yield tP(n,e,!0,!1)})}function tP(t,e,n,r){return v(this,null,function*(){let i=yield U6(t.localStore,zn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield r3(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QN(t.remoteStore,i),a})}function r3(t,e,n,r,i){return v(this,null,function*(){t.Ru=(p,g,y)=>function(R,M,O,U){return v(this,null,function*(){let H=M.view.Za(O);H.Cs&&(H=yield NM(R.localStore,M.query,!1).then(({documents:T})=>M.view.Za(T,H)));let ee=U&&U.targetChanges.get(M.targetId),Be=U&&U.targetMismatches.get(M.targetId)!=null,me=M.view.applyChanges(H,R.isPrimaryClient,ee,Be);return VM(R,M.targetId,me.ru),me.snapshot})}(t,p,g,y);let o=yield NM(t.localStore,e,!0),s=new PI(e,o.$s),a=s.Za(o.documents),u=tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);VM(t,n,l.ru);let h=new xI(e,n,s);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),l.snapshot})}function i3(t,e,n){return v(this,null,function*(){let r=K(t),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!Jf(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&aE(r.remoteStore,i.targetId),FI(r,i.targetId)}).catch(ea))):(FI(r,i.targetId),yield gI(r.localStore,i.targetId,!0))})}function o3(t,e){return v(this,null,function*(){let n=K(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aE(n.remoteStore,r.targetId))})}function s3(t,e,n){return v(this,null,function*(){let r=f3(t);try{let i=yield function(s,a){let u=K(s),l=lt.now(),h=a.reduce((y,E)=>y.add(E.key),pe()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Nr(),R=pe();return u.Bs.getEntries(y,h).next(M=>{E=M,E.forEach((O,U)=>{U.isValidDocument()||(R=R.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,E)).next(M=>{p=M;let O=[];for(let U of a){let H=d6(U,p.get(U.key).overlayedDocument);H!=null&&O.push(new Kn(U.key,H,_N(H.value.mapValue),Gt.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(M=>{g=M;let O=M.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,M.batchId,O)})}).then(()=>({batchId:g.batchId,changes:RN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Iu[s.currentUser.toKey()];l||(l=new Le(ae)),l=l.insert(a,u),s.Iu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield fu(r,i.changes),yield np(r.remoteStore)}catch(i){let o=dE(i,"Failed to persist write");n.reject(o)}})}function nP(t,e){return v(this,null,function*(){let n=K(t);try{let r=yield F6(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Pu.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?we(s._u,14607):i.removedDocuments.size>0&&(we(s._u,42227),s._u=!1))}),yield fu(n,r,e)}catch(r){yield ea(r)}})}function LM(t,e,n){let r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=K(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.ya)g.Da(a)&&(l=!0)}),l&&pE(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function a3(t,e,n){return v(this,null,function*(){let r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new Le(q.comparator);s=s.insert(o,Dn.newNoDocument(o,X.min()));let a=pe().add(o),u=new wf(X.min(),new Map,new Le(ae),s,a);yield nP(r,u),r.hu=r.hu.remove(o),r.Pu.delete(e),mE(r)}else yield gI(r.localStore,e,!1).then(()=>FI(r,e,n)).catch(ea)})}function c3(t,e){return v(this,null,function*(){let n=K(t),r=e.batch.batchId;try{let i=yield O6(n.localStore,e);iP(n,r,null),rP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fu(n,i)}catch(i){yield ea(i)}})}function u3(t,e,n){return v(this,null,function*(){let r=K(t);try{let i=yield function(s,a){let u=K(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);iP(r,e,n),rP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fu(r,i)}catch(i){yield ea(i)}})}function rP(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function iP(t,e,n){let r=K(t),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function FI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||oP(t,r)})}function oP(t,e){t.lu.delete(e.path.canonicalString());let n=t.hu.get(e);n!==null&&(aE(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),mE(t))}function VM(t,e,n){for(let r of n)r instanceof Of?(t.Tu.addReference(r.key,e),l3(t,r)):r instanceof Ff?(V(gE,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||oP(t,r.key)):z(19791,{mu:r})}function l3(t,e){let n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(V(gE,"New document in limbo: "+n),t.lu.add(r),mE(t))}function mE(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){let e=t.lu.values().next().value;t.lu.delete(e);let n=new q(ke.fromString(e)),r=t.du.next();t.Pu.set(r,new kI(n)),t.hu=t.hu.insert(n,r),QN(t.remoteStore,new nu(zn(Zf(n.path)),r,"TargetPurposeLimboResolution",YI.le))}}function fu(t,e,n){return v(this,null,function*(){let r=K(t),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{s.push(r.Ru(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=dI.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(u,l){return v(this,null,function*(){let h=K(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.ds,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.As,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ta(p))throw p;V(sE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.xs.get(g),E=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(E);h.xs=h.xs.insert(g,R)}}})}(r.localStore,o))})}function d3(t,e){return v(this,null,function*(){let n=K(t);if(!n.currentUser.isEqual(e)){V(gE,"User change. New user:",e.toKey());let r=yield WN(n.localStore,e);n.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,s))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fu(n,r.ks)}})}function h3(t,e){let n=K(t),r=n.Pu.get(e);if(r&&r._u)return pe().add(r.key);{let i=pe(),o=n.cu.get(e);if(!o)return i;for(let s of o){let a=n.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function sP(t){let e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a3.bind(null,e),e.au.j_=X6.bind(null,e.eventManager),e.au.Vu=e3.bind(null,e.eventManager),e}function f3(t){let e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u3.bind(null,e),e}var aP=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=ep(n.databaseInfo.databaseId),this.sharedClientState=this.pu(n),this.persistence=this.yu(n),yield this.persistence.start(),this.localStore=this.wu(n),this.gcScheduler=this.Su(n,this.localStore),this.indexBackfillerScheduler=this.bu(n,this.localStore)})}Su(n,r){return null}bu(n,r){return null}wu(n){return k6(this.persistence,new fI,n.initialUser,this.serializer)}yu(n){return new Cf(lI.fi,this.serializer)}pu(n){return new mI}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),LI=class extends aP{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){we(this.persistence.referenceDelegate instanceof Sf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Zw(r,e.asyncQueue,n)}yu(e){let n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Cf(r=>Sf.fi(r,n),this.serializer)}};var p3=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=d3.bind(null,this.syncEngine),yield J6(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new MI}()}createDatastore(n){let r=ep(n.databaseInfo.databaseId),i=function(s){return new II(s)}(n.databaseInfo);return function(s,a,u,l){return new bI(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new SI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>LM(this.syncEngine,r,0),function(){return Rf.C()?new Rf:new yI}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new OI(o,s,a,u,l,h);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=K(o);V(vo,"RemoteStore shutting down."),s.Ta.add(5),yield hu(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var su=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var yi="FirestoreClient",VI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=hf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){V(yi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V(yi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=dE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function cw(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V(yi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield WN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function UM(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield g3(t);V(yi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kM(e.remoteStore,i)),t._onlineComponents=e})}function g3(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(yi,"Using user provided OfflineComponentProvider");try{yield cw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),yield cw(t,new aP)}}else V(yi,"Using default OfflineComponentProvider"),yield cw(t,new LI(void 0));return t._offlineComponents})}function cP(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(yi,"Using user provided OnlineComponentProvider"),yield UM(t,t._uninitializedComponentsProvider._online)):(V(yi,"Using default OnlineComponentProvider"),yield UM(t,new p3))),t._onlineComponents})}function m3(t){return cP(t).then(e=>e.syncEngine)}function Lf(t){return v(this,null,function*(){let e=yield cP(t),n=e.eventManager;return n.onListen=t3.bind(null,e.syncEngine),n.onUnlisten=i3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=o3.bind(null,e.syncEngine),n})}function y3(t,e,n={}){let r=new En;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new su({next:g=>{h.Cu(),s.enqueueAndForget(()=>fE(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new L(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new ou(Zf(a.path),h,{includeMetadataChanges:!0,La:!0});return hE(o,p)}(yield Lf(t),t.asyncQueue,e,n,r)})),r.promise}function v3(t,e,n={}){let r=new En;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new su({next:g=>{h.Cu(),s.enqueueAndForget(()=>fE(o,p)),g.fromCache&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new ou(a,h,{includeMetadataChanges:!0,La:!0});return hE(o,p)}(yield Lf(t),t.asyncQueue,e,n,r)})),r.promise}function uP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jM=new Map;function lP(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _3(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BM(t){if(!q.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $M(t){if(q.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z(12329,{type:typeof t})}function Mt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=rp(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var dP="firestore.googleapis.com",HM=!0,Vf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dP,this.ssl=HM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N6)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Js=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lw;switch(r.type){case"firstParty":return new pw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,vr("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jM.get(n);r&&(V("ComponentProvider","Removing Datastore"),jM.delete(n),r.terminate())}(this),Promise.resolve()}};function hP(t,e,n,r={}){var i;t=Mt(t,Js);let o=Fn(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s.host!==dP&&s.host!==u&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!_n(l,a)&&(t._setSettings(l),o&&(As(`https://${u}`),vr("Firestore",!0)),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=rt.MOCK_USER;else{h=Mh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rt(g)}t._authCredentials=new dw(new lf(h,p))}}var vi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},_t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},hi=class t extends vi{constructor(e,n,r){super(e,n,Zf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fP(t,e,...n){if(t=Ie(t),lP("collection","path",e),t instanceof Js){let r=ke.fromString(e,...n);return $M(r),new hi(t,null,r)}{if(!(t instanceof _t||t instanceof hi))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return $M(r),new hi(t.firestore,null,r)}}function yE(t,e,...n){if(t=Ie(t),arguments.length===1&&(e=hf.newId()),lP("doc","path",e),t instanceof Js){let r=ke.fromString(e,...n);return BM(r),new _t(t,null,new q(r))}{if(!(t instanceof _t||t instanceof hi))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return BM(r),new _t(t.firestore,t instanceof hi?t.converter:null,new q(r))}}var qM="AsyncQueue",Uf=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Mf(this,"async_queue_retry"),this.ec=()=>{let r=aw();r&&V(qM,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let n=aw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let n=aw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let n=new En;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return v(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ta(e))throw e;V(qM,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Sr("INTERNAL UNHANDLED ERROR: ",zM(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);let i=AI.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&z(47125,{_c:zM(this.Ju)})}verifyOperationInProgress(){}ac(){return v(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let n=this.Hu.indexOf(e);this.Hu.splice(n,1)}};function zM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function GM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var on=class extends Js{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Uf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Uf(e),this._firestoreClient=void 0,yield e}})}};function pP(t,e){let n=typeof t=="object"?t:wr(),r=typeof t=="string"?t:e||mf,i=ri(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Rh("firestore");o&&hP(i,...o)}return i}function pu(t){if(t._terminated)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w3(t),t._firestoreClient}function w3(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new _w(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var au=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var _o=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wo=class{constructor(e){this._methodName=e}};var cu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var uu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var I3=/^__.*__$/,UI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new yo(e,this.data,n,this.fieldTransforms)}},jf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function gP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{hc:t})}}var Bf=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Hf(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(gP(this.hc)&&I3.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},jI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ep(e)}gc(e,n,r,i=!1){return new Bf({hc:e,methodName:n,fc:r,path:zt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function gu(t){let e=t._freezeSettings(),n=ep(t._databaseId);return new jI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vE(t,e,n,r,i,o={}){let s=t.gc(o.merge||o.mergeFields?2:0,e,n,i);_E("Data must be an object, but it was:",s,r);let a=vP(r,s),u,l;if(o.merge)u=new rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=HI(e,p,n);if(!s.contains(g))throw new L(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);wP(h,g)||h.push(g)}u=new rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new UI(new qt(a),u,l)}var $f=class t extends wo{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function E3(t,e,n){return new Bf({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var BI=class t extends wo{_toFieldTransform(e){return new _f(e.path,new go)}isEqual(e){return e instanceof t}},$I=class t extends wo{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){let n=E3(this,e,!0),r=this.yc.map(o=>ra(o,n)),i=new gi(r);return new _f(e.path,i)}isEqual(e){return e instanceof t&&_n(this.yc,e.yc)}};function mP(t,e,n,r){let i=t.gc(1,e,n);_E("Data must be an object, but it was:",i,r);let o=[],s=qt.empty();_i(r,(u,l)=>{let h=wE(e,u,n);l=Ie(l);let p=i.Ac(h);if(l instanceof $f)o.push(h);else{let g=ra(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new rn(o);return new jf(s,a,i.fieldTransforms)}function yP(t,e,n,r,i,o){let s=t.gc(1,e,n),a=[HI(e,r,n)],u=[i];if(o.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(HI(e,o[g])),u.push(o[g+1]);let l=[],h=qt.empty();for(let g=a.length-1;g>=0;--g)if(!wP(l,a[g])){let y=a[g],E=u[g];E=Ie(E);let R=s.Ac(y);if(E instanceof $f)l.push(y);else{let M=ra(E,R);M!=null&&(l.push(y),h.set(y,M))}}let p=new rn(l);return new jf(h,p,s.fieldTransforms)}function D3(t,e,n,r=!1){return ra(n,t.gc(r?4:3,e))}function ra(t,e){if(_P(t=Ie(t)))return _E("Unsupported field value:",e,t),vP(t,e);if(t instanceof wo)return function(r,i){if(!gP(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=ra(a,i.Rc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=lt.fromDate(r);return{timestampValue:Tf(i.serializer,o)}}if(r instanceof lt){let o=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,o)}}if(r instanceof cu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:UN(i.serializer,r._byteString)};if(r instanceof _t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:oE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uu)return function(s,a){return{mapValue:{fields:{[XI]:{stringValue:eE},[Hs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return iE(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${rp(r)}`)}(t,e)}function vP(t,e){let n={};return dN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(t,(r,i)=>{let o=ra(i,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _P(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof cu||t instanceof au||t instanceof _t||t instanceof wo||t instanceof uu)}function _E(t,e,n){if(!_P(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=rp(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function HI(t,e,n){if((e=Ie(e))instanceof _o)return e._internalPath;if(typeof e=="string")return wE(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}var T3=new RegExp("[~\\*/\\[\\]]");function wE(t,e,n){if(e.search(T3)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _o(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+t+u)}function wP(t,e){return t.some(n=>n.isEqual(e))}var qf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ip("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qI=class extends qf{data(){return super.data()}};function ip(t,e){return typeof e=="string"?wE(t,e):e instanceof _o?e._internalPath:e._delegate._internalPath}function IP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lu=class{},zf=class extends lu{};function EP(t,e,...n){let r=[];e instanceof lu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof zI).length,a=o.filter(u=>u instanceof Gf).length;if(s>1||s>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Gf=class t extends zf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return bP(e._query,n),new vi(e.firestore,e.converter,Pw(e._query,n))}_parse(e){let n=gu(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){KM(p,h);let E=[];for(let R of p)E.push(WM(u,o,R));g={arrayValue:{values:E}}}else g=WM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||KM(p,h),g=D3(a,s,p,h==="in"||h==="not-in");return Ke.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function DP(t,e,n){let r=e,i=ip("where",t);return Gf._create(i,r,n)}var zI=class t extends lu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)bP(s,u),s=Pw(s,u)}(e._query,n),new vi(e.firestore,e.converter,Pw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var GI=class t extends zf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new po(o,s)}(e._query,this._field,this._direction);return new vi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new pi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function TP(t,e="asc"){let n=e,r=ip("orderBy",t);return GI._create(r,n)}function WM(t,e,n){if(typeof(n=Ie(n))=="string"){if(n==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bN(e)&&n.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!q.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hM(t,new q(r))}if(n instanceof _t)return hM(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rp(n)}.`)}function KM(t,e){if(!Array.isArray(t)||t.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bP(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var WI=class{convertValue(e,n="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return _i(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Hs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new uu(o)}convertGeoPoint(e){return new cu(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){let n=Ar(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);we(zN(r),9688,{name:e});let i=new yf(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function IE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var lo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wf=class extends qf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(ip("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},js=class extends Wf{data(e={}){return super.data(e)}},Kf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new js(this._firestore,this._userDataWriter,r.key,r,new lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:b3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function b3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:t})}}function CP(t){t=Mt(t,_t);let e=Mt(t.firestore,on);return y3(pu(e),t._key).then(n=>PP(e,t,n))}var du=class extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}};function SP(t){t=Mt(t,vi);let e=Mt(t.firestore,on),n=pu(e),r=new du(e);return IP(t._query),v3(n,t._query).then(i=>new Kf(e,r,t,i))}function AP(t,e,n){t=Mt(t,_t);let r=Mt(t.firestore,on),i=IE(t.converter,e,n);return mu(r,[vE(gu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gt.none())])}function RP(t,e,n,...r){t=Mt(t,_t);let i=Mt(t.firestore,on),o=gu(i),s;return s=typeof(e=Ie(e))=="string"||e instanceof _o?yP(o,"updateDoc",t._key,e,n,r):mP(o,"updateDoc",t._key,e),mu(i,[s.toMutation(t._key,Gt.exists(!0))])}function MP(t){return mu(Mt(t.firestore,on),[new Ys(t._key,Gt.none())])}function NP(t,e){let n=Mt(t.firestore,on),r=yE(t),i=IE(t.converter,e);return mu(n,[vE(gu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gt.exists(!1))]).then(()=>r)}function EE(t,...e){var n,r,i;t=Ie(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||GM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(GM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof _t)l=Mt(t.firestore,on),h=Zf(t._key.path),u={next:p=>{e[s]&&e[s](PP(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Mt(t,vi);l=Mt(p.firestore,on),h=p._query;let g=new du(l);u={next:y=>{e[s]&&e[s](new Kf(l,g,p,y))},error:e[s+1],complete:e[s+2]},IP(t._query)}return function(g,y,E,R){let M=new su(R),O=new ou(y,M,E);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return hE(yield Lf(g),O)})),()=>{M.Cu(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return fE(yield Lf(g),O)}))}}(pu(l),h,a,u)}function mu(t,e){return function(r,i){let o=new En;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return s3(yield m3(r),i,o)})),o.promise}(pu(t),e)}function PP(t,e,n){let r=n.docs.get(e._key),i=new du(t);return new Wf(t,i,e._key,r,new lo(n.hasPendingWrites,n.fromCache),e.converter)}var KI=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gu(e)}set(e,n,r){this._verifyNotCommitted();let i=uw(e,this._firestore),o=IE(i.converter,n,r),s=vE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Gt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=uw(e,this._firestore),s;return s=typeof(n=Ie(n))=="string"||n instanceof _o?yP(this._dataReader,"WriteBatch.update",o._key,n,r,i):mP(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Gt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=uw(e,this._firestore);return this._mutations=this._mutations.concat(new Ys(n._key,Gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function uw(t,e){if((t=Ie(t)).firestore!==e)throw new L(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Bee(){return new BI("serverTimestamp")}function $ee(...t){return new $I("arrayUnion",t)}function xP(t){return pu(t=Mt(t,on)),new KI(t,e=>mu(t,e))}(function(e,n=!0){(function(i){Xs=i})(Un),Ht(new ut("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new on(new hw(r.getProvider("auth-internal")),new gw(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Se(nM,rM,e),Se(nM,rM,"esm2017")})();var op=function(){return op=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},op.apply(this,arguments)};var A3={includeMetadataChanges:!1};function kP(t,e){return e===void 0&&(e=A3),new ce(function(n){var r=EE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function OP(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:op(op({},r),(n={},n[e.idField]=t.id,n))}function FP(t){return kP(t,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function LP(t,e){return e===void 0&&(e={}),FP(t).pipe(oe(function(n){return n.map(function(r){return OP(r,e)})}))}var Eo=class{constructor(e){return e}},VP="firestore",DE=class{constructor(){return ii(VP)}};var TE=new j("angularfire2.firestore-instances");function R3(t,e){let n=to(VP,t,e);return n&&new Eo(n)}function M3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Eo(r)}}var N3={provide:DE,deps:[[new Xe,TE]]},P3={provide:Eo,useFactory:R3,deps:[[new Xe,TE],wn]};function tne(t,...e){return Se("angularfire",jn.full,"fst"),fn([P3,N3,{provide:TE,useFactory:M3(t),multi:!0,deps:[ve,Pe,Bn,Ir,[new Xe,ao],[new Xe,si],...e]}])}var nne=Ee(LP,!0);var rne=Ee(NP,!0,2);var UP=Ee(fP,!0,2);var ine=Ee(MP,!0,2);var bE=Ee(yE,!0,2);var jP=Ee(CP,!0);var BP=Ee(SP,!0);var one=Ee(pP,!0);var sne=Ee(TP,!0,2),$P=Ee(EP,!0,2);var HP=Ee(AP,!0,2);var ane=Ee(RP,!0,2);var qP=Ee(DP,!0,2),cne=Ee(xP,!0,2);var ZP="firebasestorage.googleapis.com",JP="storageBucket",x3=2*60*1e3,k3=10*60*1e3;var Ve=class t extends Rt{constructor(e,n,r=0){super(CE(e),`Firebase Storage: ${n} (${CE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return CE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},je=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(je||{});function CE(t){return"storage/"+t}function PE(){let t="An unknown error occurred, please check the error payload for server response.";return new Ve(je.UNKNOWN,t)}function O3(t){return new Ve(je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function F3(t){return new Ve(je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function L3(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ve(je.UNAUTHENTICATED,t)}function V3(){return new Ve(je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function U3(t){return new Ve(je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function j3(){return new Ve(je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B3(){return new Ve(je.CANCELED,"User canceled the upload/download.")}function $3(t){return new Ve(je.INVALID_URL,"Invalid URL '"+t+"'.")}function H3(t){return new Ve(je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function q3(){return new Ve(je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JP+"' property when initializing the app?")}function z3(){return new Ve(je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function G3(){return new Ve(je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function W3(t){return new Ve(je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function SE(t){return new Ve(je.INVALID_ARGUMENT,t)}function XP(){return new Ve(je.APP_DELETED,"The Firebase app was deleted.")}function K3(t){return new Ve(je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vu(t,e){return new Ve(je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yu(t){throw new Ve(je.INTERNAL_ERROR,"Internal error: "+t)}var bn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw H3(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(ee){ee.path_=decodeURIComponent(ee.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},R=n===ZP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",O=new RegExp(`^https?://${R}/${i}/${M}`,"i"),H=[{regex:a,indices:u,postModify:o},{regex:y,indices:E,postModify:l},{regex:O,indices:{bucket:1,path:2},postModify:l}];for(let ee=0;ee<H.length;ee++){let Be=H[ee],me=Be.regex.exec(e);if(me){let T=me[Be.indices.bucket],_=me[Be.indices.path];_||(_=""),r=new t(T,_),Be.postModify(r);break}}if(r==null)throw $3(e);return r}},AE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Q3(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...M){l||(l=!0,e.apply(null,M))}function p(M){i=setTimeout(()=>{i=null,t(y,u())},M)}function g(){o&&clearTimeout(o)}function y(M,...O){if(l){g();return}if(M){g(),h.call(null,M,...O);return}if(u()||s){g(),h.call(null,M,...O);return}r<64&&(r*=2);let H;a===1?(a=2,H=0):H=(r+Math.random())*1e3,p(H)}let E=!1;function R(M){E||(E=!0,g(),!l&&(i!==null?(M||(a=2),clearTimeout(i),p(0)):M||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,R(!0)},n),R}function Y3(t){t(!1)}function Z3(t){return t!==void 0}function J3(t){return typeof t=="object"&&!Array.isArray(t)}function xE(t){return typeof t=="string"||t instanceof String}function zP(t){return kE()&&t instanceof Blob}function kE(){return typeof Blob<"u"}function GP(t,e,n,r){if(r<e)throw SE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw SE(`Invalid value for '${t}'. Expected ${n} or less.`)}function OE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ex(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var oa=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(oa||{});function X3(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var RE=class{constructor(e,n,r,i,o,s,a,u,l,h,p,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,R)=>{this.resolve_=E,this.reject_=R,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ia(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===oa.NO_ERROR,u=o.getStatus();if(!a||X3(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===oa.ABORT;r(!1,new ia(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new ia(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());Z3(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=PE();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?XP():B3();s(u)}else{let u=j3();s(u)}};this.canceled_?n(!1,new ia(!1,null,!0)):this.backoffId_=Q3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ia=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function eG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function iG(t,e,n,r,i,o,s=!0,a=!1){let u=ex(t.urlParams),l=t.url+u,h=Object.assign({},t.headers);return nG(h,e),eG(h,n),tG(h,o),rG(h,r),new RE(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}function oG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sG(...t){let e=oG();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(kE())return new Blob(t);throw new Ve(je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function cG(t){if(typeof atob>"u")throw W3("base-64");return atob(t)}var Qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_u=class{constructor(e,n){this.data=e,this.contentType=n||null}};function uG(t,e){switch(t){case Qn.RAW:return new _u(tx(e));case Qn.BASE64:case Qn.BASE64URL:return new _u(nx(t,e));case Qn.DATA_URL:return new _u(dG(e),hG(e))}throw PE()}function tx(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function lG(t){let e;try{e=decodeURIComponent(t)}catch{throw vu(Qn.DATA_URL,"Malformed data URL.")}return tx(e)}function nx(t,e){switch(t){case Qn.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw vu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qn.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw vu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cG(e)}catch(i){throw i.message.includes("polyfill")?i:vu(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var ap=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw vu(Qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=fG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function dG(t){let e=new ap(t);return e.base64?nx(Qn.BASE64,e.rest):lG(e.rest)}function hG(t){return new ap(t).contentType}function fG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var cp=class t{constructor(e,n){let r=0,i="";zP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(zP(this.data_)){let r=this.data_,i=aG(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(kE()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(sG.apply(null,n))}else{let n=e.map(s=>xE(s)?uG(Qn.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function rx(t){let e;try{e=JSON.parse(t)}catch{return null}return J3(e)?e:null}function pG(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gG(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ix(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function mG(t,e){return e}var dt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mG}},sp=null;function yG(t){return!xE(t)||t.length<2?t:ix(t)}function ox(){if(sp)return sp;let t=[];t.push(new dt("bucket")),t.push(new dt("generation")),t.push(new dt("metageneration")),t.push(new dt("name","fullPath",!0));function e(o,s){return yG(s)}let n=new dt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new dt("size");return i.xform=r,t.push(i),t.push(new dt("timeCreated")),t.push(new dt("updated")),t.push(new dt("md5Hash",null,!0)),t.push(new dt("cacheControl",null,!0)),t.push(new dt("contentDisposition",null,!0)),t.push(new dt("contentEncoding",null,!0)),t.push(new dt("contentLanguage",null,!0)),t.push(new dt("contentType",null,!0)),t.push(new dt("metadata","customMetadata",!0)),sp=t,sp}function vG(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new bn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function _G(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return vG(r,t),r}function sx(t,e,n){let r=rx(e);return r===null?null:_G(t,r,n)}function wG(t,e,n,r){let i=rx(e);if(i===null||!xE(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),y=OE(g,n,r),E=ex({alt:"media",token:l});return y+E})[0]}function IG(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var up=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ax(t){if(!t)throw PE()}function EG(t,e){function n(r,i){let o=sx(t,i,e);return ax(o!==null),o}return n}function DG(t,e){function n(r,i){let o=sx(t,i,e);return ax(o!==null),wG(o,i,t.host,t._protocol)}return n}function cx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=V3():i=L3():n.getStatus()===402?i=F3(t.bucket):n.getStatus()===403?i=U3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function TG(t){let e=cx(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=O3(t.path)),o.serverResponse=i.serverResponse,o}return n}function bG(t,e,n){let r=e.fullServerUrl(),i=OE(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new up(i,o,DG(t,n),s);return a.errorHandler=TG(e),a}function CG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SG(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=CG(null,e)),r}function AG(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let H="";for(let ee=0;ee<2;ee++)H=H+Math.random().toString().slice(2);return H}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let l=SG(e,r,i),h=IG(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,g=`\r
--`+u+"--",y=cp.getBlob(p,r,g);if(y===null)throw z3();let E={name:l.fullPath},R=OE(o,t.host,t._protocol),M="POST",O=t.maxUploadRetryTime,U=new up(R,M,EG(t,n),O);return U.urlParams=E,U.headers=s,U.body=y.uploadData(),U.errorHandler=cx(e),U}var pne=256*1024;var WP=null,ME=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw yu("cannot .send() more than once");if(Fn(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(let s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},NE=class extends ME{initXhr(){this.xhr_.responseType="text"}};function ux(){return WP?WP():new NE}var sa=class t{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ix(this._location.path)}get storage(){return this._service}get parent(){let e=pG(this._location.path);if(e===null)return null;let n=new bn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K3(e)}};function RG(t,e,n){t._throwIfRoot("uploadBytes");let r=AG(t.storage,t._location,ox(),new cp(e,!0),n);return t.storage.makeRequestWithTokens(r,ux).then(i=>({metadata:i,ref:t}))}function MG(t){t._throwIfRoot("getDownloadURL");let e=bG(t.storage,t._location,ox());return t.storage.makeRequestWithTokens(e,ux).then(n=>{if(n===null)throw G3();return n})}function NG(t,e){let n=gG(t._location.path,e),r=new bn(t._location.bucket,n);return new sa(t.storage,r)}function PG(t){return/^[A-Za-z]+:\/\//.test(t)}function xG(t,e){return new sa(t,e)}function lx(t,e){if(t instanceof wu){let n=t;if(n._bucket==null)throw q3();let r=new sa(n,n._bucket);return e!=null?lx(r,e):r}else return e!==void 0?NG(t,e):t}function kG(t,e){if(e&&PG(e)){if(t instanceof wu)return xG(t,e);throw SE("To use ref(service, url), the first argument must be a Storage instance.")}else return lx(t,e)}function KP(t,e){let n=e?.[JP];return n==null?null:bn.makeFromBucketSpec(n,t)}function OG(t,e,n,r={}){t.host=`${e}:${n}`;let i=Fn(e);i&&(As(`https://${t.host}`),vr("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Mh(o,t.app.options.projectId))}var wu=class{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=ZP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x3,this._maxUploadRetryTime=k3,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=KP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=KP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){if(yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sa(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new AE(XP());{let s=iG(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return v(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},QP="@firebase/storage",YP="0.13.11";var dx="storage";function hx(t,e,n){return t=Ie(t),RG(t,e,n)}function fx(t){return t=Ie(t),MG(t)}function px(t,e){return t=Ie(t),kG(t,e)}function gx(t=wr(),e){t=Ie(t),vr("Storage",!1);let r=ri(t,dx).getImmediate({identifier:e}),i=Rh("storage");return i&&mx(r,...i),r}function mx(t,e,n,r={}){OG(t,e,n,r)}function FG(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wu(n,r,i,e,Un)}function LG(){Ht(new ut(dx,FG,"PUBLIC").setMultipleInstances(!0)),Se(QP,YP,""),Se(QP,YP,"esm2017")}LG();var Do=class{constructor(e){return e}},yx="storage",FE=class{constructor(){return ii(yx)}};var LE=new j("angularfire2.storage-instances");function VG(t,e){let n=to(yx,t,e);return n&&new Do(n)}function UG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Do(r)}}var jG={provide:FE,deps:[[new Xe,LE]]},BG={provide:Do,useFactory:VG,deps:[[new Xe,LE],wn]};function Lne(t,...e){return Se("angularfire",jn.full,"gcs"),fn([BG,jG,{provide:LE,useFactory:UG(t),multi:!0,deps:[ve,Pe,Bn,Ir,[new Xe,ao],[new Xe,si],...e]}])}var vx=Ee(fx,!0);var Vne=Ee(gx,!0);var _x=Ee(px,!0,2);var wx=Ee(hx,!0);var lp=class t{firestore=P(Eo);storage=P(Do);createUser(e,n){return v(this,null,function*(){if(n.profilePicture){let r=`profile_pictures/${e}/${Date.now()}_${n.profilePicture.name}`,i=_x(this.storage,r);yield wx(i,n.profilePicture),n.profilePictureUrl=yield vx(i),delete n.profilePicture}n.uid=e,yield HP(bE(this.firestore,"users",e),n)})}getUserByEmail(e){return v(this,null,function*(){let n=UP(this.firestore,"users"),r=$P(n,qP("email","==",e));return yield BP(r)})}getUserData(e){return v(this,null,function*(){let n=bE(this.firestore,"users",e),r=yield jP(n);return r.exists()?r.data():null})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ix=class t{auth=P(so);router=P(yr);userService=P(lp);currentUserSubject=new Qe(null);authInitialized=!1;constructor(){this.initializeAuth()}initializeAuth(){ZR(this.auth,e=>v(this,null,function*(){if(e)try{let n=yield this.userService.getUserData(e.uid);n?this.currentUserSubject.next(k(k({},e),n)):(console.warn("Usuario autenticado pero sin datos en Firestore"),this.currentUserSubject.next(null))}catch(n){console.error("Error al cargar datos del usuario:",n),this.currentUserSubject.next(null)}else this.currentUserSubject.next(null);this.authInitialized=!0}))}getCurrentUser(){return v(this,null,function*(){return this.authInitialized||(yield new Promise(e=>{let n=this.currentUser$.subscribe(()=>{this.authInitialized&&(n.unsubscribe(),e())})})),this.currentUserSubject.value})}registerPlayer(e,n,r){return v(this,null,function*(){let i=yield J_(this.auth,e.email,r),o=te(k(k({},e),n),{type:"player",registrationDate:new Date().toISOString()});return yield this.userService.createUser(i.user.uid,o),i.user})}registerTeam(e,n){return v(this,null,function*(){return yield J_(this.auth,e,n)})}saveTeamData(e){return v(this,null,function*(){let n=this.auth.currentUser;if(!n)throw new Error("No hay usuario autenticado para guardar los datos del equipo.");let r=te(k({},e),{type:"team",registrationDate:new Date().toISOString(),categories:e.categories?.reduce((i,o,s)=>(i[`category_${s}`]=o,i),{})});yield this.userService.createUser(n.uid,r)})}login(e,n){return v(this,null,function*(){try{let r=yield JR(this.auth,e,n),i=yield this.userService.getUserData(r.user.uid);if(!i)throw new Error("No se encontraron datos de usuario");return this.currentUserSubject.next(k(k({},r.user),i)),r.user}catch(r){throw console.error("Error en login:",r),r}})}isEmailRegistered(e){return v(this,null,function*(){return!(yield this.userService.getUserByEmail(e)).empty})}get currentUser$(){return this.currentUserSubject.asObservable().pipe(ul())}logout(){return v(this,null,function*(){yield XR(this.auth),this.currentUserSubject.next(null),this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};export{k as a,te as b,$G as c,v as d,Fe as e,Qe as f,hk as g,oe as h,Xn as i,P as j,mt as k,bQ as l,CQ as m,SQ as n,AQ as o,Pe as p,RQ as q,MQ as r,J as s,iS as t,YL as u,hV as v,Ad as w,jQ as x,BQ as y,$Q as z,lS as A,dS as B,gy as C,AV as D,RV as E,HQ as F,lr as G,qQ as H,zQ as I,BV as J,fS as K,$V as L,HV as M,GQ as N,qV as O,WQ as P,KQ as Q,QQ as R,YQ as S,ZQ as T,TY as U,bY as V,CY as W,SY as X,AY as Y,zU as Z,eZ as _,Ki as $,z2 as aa,yr as ba,TZ as ca,bZ as da,dB as ea,KA as fa,LA as ga,qZ as ha,zZ as ia,VB as ja,WZ as ka,jB as la,$B as ma,qB as na,g0 as oa,KZ as pa,QZ as qa,JB as ra,YZ as sa,ZZ as ta,JZ as ua,tX as va,nX as wa,wee as xa,Iee as ya,Bee as za,$ee as Aa,Eo as Ba,tne as Ca,nne as Da,rne as Ea,UP as Fa,ine as Ga,bE as Ha,jP as Ia,BP as Ja,one as Ka,sne as La,$P as Ma,HP as Na,ane as Oa,qP as Pa,cne as Qa,Do as Ra,Lne as Sa,vx as Ta,Vne as Ua,_x as Va,wx as Wa,Ix as Xa};
